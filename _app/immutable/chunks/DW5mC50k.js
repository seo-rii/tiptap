const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CZPhHnMZ.js","../assets/tiptap.CeTVKavl.css"])))=>i.map(i=>d[i]);
import{a as V,f as Z,c as tt,s as Ge,p as er,e as De,g as wn,t as Qr}from"./CMwJ3532.js";import"./De8YjWi6.js";import{aU as Dp,bj as Ip,bq as Rp,t as rt,u as et,w as ve,x as it,ae as Pp,v as Te,y as te,A as H,z as ee,n as C,a6 as _p,br as Lp,J as X,bs as Ua,U as Bp,bp as ar,af as tr,bt as nr,I as qe,$ as mn,B as le,G as Yu,C as qp,b as $i,ag as Wa,j as zp,F as Ja}from"./CEG1rFqp.js";import{c as kr,_ as Ga}from"./Clzj2poQ.js";import{p as U,i as xe,b as At,r as vi,s as ls}from"./le_Z8Wmv.js";import{n as Mi,b as qn,d as Mr,f as oo,g as Le,I as ai,a as Pr,R as Zt,j as Fp,l as Kf,e as Nr,i as Xf,m as Yf,o as $u,B as Tn,s as Mt,r as Ct,p as Vt,u as jp,v as gu,P as Qi,t as Hn,q as Un,w as Vp,x as xr,h as Hp,C as Up}from"./DGWmXfq3.js";import{o as $f}from"./rrkJH70J.js";const Wp=[];function Wn(n,e=!1,t=!1){return Zi(n,new Map,"",Wp,null,t)}function Zi(n,e,t,r,i=null,s=!1){if(typeof n=="object"&&n!==null){var o=e.get(n);if(o!==void 0)return o;if(n instanceof Map)return new Map(n);if(n instanceof Set)return new Set(n);if(Dp(n)){var u=Array(n.length);e.set(n,u),i!==null&&e.set(i,u);for(var a=0;a<n.length;a+=1){var l=n[a];a in n&&(u[a]=Zi(l,e,t,r,null,s))}return u}if(Ip(n)===Rp){u={},e.set(n,u),i!==null&&e.set(i,u);for(var c of Object.keys(n))u[c]=Zi(n[c],e,t,r,null,s);return u}if(n instanceof Date)return structuredClone(n);if(typeof n.toJSON=="function"&&!s)return Zi(n.toJSON(),e,t,r,n)}if(n instanceof EventTarget)return n;try{return structuredClone(n)}catch{return n}}const Ka=(n,e=Pp,t)=>{let r=_p(()=>Lp(t?.(),!1));var i=tt(),s=Te(i);{var o=u=>{var a=Kp();let l;var c=te(a);{var h=p=>{ai(p,{get icon(){return e()},class:"leading"})},f=p=>{Pr(p,ls(e))},d=p=>{Zt(p,{get it(){return e()}})};xe(c,p=>{typeof e()=="string"?p(h):e()?.icon?p(f,1):p(d,!1)})}ee(a),ve(()=>l=qn(a,1,"svelte-qvu93f",null,l,{trailing:C(r)})),V(u,a)};xe(s,u=>{e()&&u(o)})}V(n,i)};let Jp=0;function Gp(){return`nunui-input-${Jp++}`}var Kp=Z("<span><!></span>"),Xp=Z("<textarea></textarea>"),Yp=Z("<textarea></textarea>"),$p=Z("<input/>"),Qp=Z('<label class="svelte-qvu93f"> </label>'),Zp=Z('<main><!> <div class="background svelte-qvu93f"></div> <div class="svelte-qvu93f"><!> <!></div> <!></main>');function Qu(n,e){rt(e,!0);const t=O=>(Mi(O),{destroy(){Mi.destroy(O)}});t.update=Mi.update,t.destroy=Mi.destroy;let r=U(e,"type",3,"text"),i=U(e,"value",15,""),s=U(e,"placeholder",3,""),o=U(e,"multiline",3,!1),u=U(e,"secondary",3,!1),a=U(e,"primary",19,()=>!u()),l=U(e,"input",15),c=U(e,"plain",3,!1),h=U(e,"autosize",3,!1),f=vi(e,["$$slots","$$events","$$legacy","type","value","placeholder","multiline","id","secondary","primary","leading","trailing","onkeyup","onsubmit","input","block","plain","autosize"]),d=X(()=>e.id||Gp()),p=X(()=>e.onkeyup||e.onsubmit||r()==="number"?O=>{O.key==="Enter"&&(e.onsubmit?e.onsubmit(O):O.target.blur()),e.onkeyup&&e.onkeyup(O),r()==="number"&&(console.log(i()),typeof i()=="string"&&i()!==""&&!isNaN(+i())&&i(+i()))}:null);et(()=>{});var g=Zp();let b;var m=te(g);Ka(m,()=>e.leading);var w=H(m,4),x=te(w);{var y=O=>{var N=tt(),T=Te(N);{var A=D=>{var M=Xp();Ua(M),Mr(M,()=>({id:C(d),placeholder:"Â ",...f,onkeyup:C(p)}),void 0,void 0,void 0,"svelte-qvu93f"),Bp(()=>oo(M,i)),At(M,q=>l(q),()=>l()),Fp(M,q=>t?.(q)),V(D,M)},R=D=>{var M=Yp();Ua(M),Mr(M,()=>({id:C(d),placeholder:"Â ",...f,onkeyup:C(p)}),void 0,void 0,void 0,"svelte-qvu93f"),At(M,q=>l(q),()=>l()),oo(M,i),V(D,M)};xe(T,D=>{h()?D(A):D(R,!1)})}V(O,N)},v=O=>{var N=$p();Mr(N,()=>({id:C(d),type:r(),placeholder:"Â ",...f,onkeyup:C(p)}),void 0,void 0,void 0,"svelte-qvu93f",!0),At(N,T=>l(T),()=>l()),oo(N,i),V(O,N)};xe(x,O=>{o()?O(y):O(v,!1)})}var S=H(x,2);{var k=O=>{var N=Qp(),T=te(N,!0);ee(N),ve(()=>{Le(N,"for",C(d)),Ge(T,s())}),V(O,N)};xe(S,O=>{s()&&O(k)})}ee(w);var E=H(w,2);Ka(E,()=>e.trailing,()=>!0),ee(g),ve(()=>b=qn(g,1,"svelte-qvu93f",null,b,{_p:a(),_s:u(),block:e.block,plain:c()})),V(n,g),it()}var e0=Z("<main><!> <!> <!></main>");function Yt(n,e){let t=vi(e,["$$slots","$$events","$$legacy","title","icon","active"]);var r=e0();Mr(r,()=>({...t}),void 0,void 0,void 0,"svelte-1fpwd6f");var i=te(r);{var s=a=>{ai(a,{get icon(){return e.icon}})};xe(i,a=>{e.icon&&a(s)})}var o=H(i,2);Zt(o,{get it(){return e.title}});var u=H(o,2);Kf(u,{get active(){return e.active}}),ee(r),V(n,r)}var t0=Z('<main><!> <div class="col svelte-6qr8ot"><div class="title svelte-6qr8ot"><!></div> <div class="subtitle svelte-6qr8ot"><!></div></div> <!></main>');function Qf(n,e){let t=vi(e,["$$slots","$$events","$$legacy","title","subtitle","icon","active"]);var r=t0();Mr(r,()=>({...t}),void 0,void 0,void 0,"svelte-6qr8ot");var i=te(r);{var s=f=>{ai(f,{get icon(){return e.icon}})};xe(i,f=>{e.icon&&f(s)})}var o=H(i,2),u=te(o),a=te(u);Zt(a,{get it(){return e.title}}),ee(u);var l=H(u,2),c=te(l);Zt(c,{get it(){return e.subtitle}}),ee(l),ee(o);var h=H(o,2);Kf(h,{get active(){return e.active}}),ee(r),V(n,r)}var n0=Z("<div><!> <!></div>");function cs(n,e){let t=vi(e,["$$slots","$$events","$$legacy","children","list"]);var r=n0();Mr(r,()=>({...t}),void 0,void 0,void 0,"svelte-w6jih1");var i=te(r);{var s=u=>{var a=tt(),l=Te(a);Nr(l,17,()=>e.list,Xf,(c,h)=>{var f=tt(),d=Te(f);{var p=b=>{Qf(b,ls(()=>C(h)))},g=b=>{Yt(b,ls(()=>C(h)))};xe(d,b=>{C(h).subtitle?b(p):b(g,!1)})}V(c,f)}),V(u,a)};xe(i,u=>{e.list&&u(s)})}var o=H(i,2);Zt(o,{get children(){return e.children}}),ee(r),V(n,r)}function r0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function i0(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var qt={},zt={},uo={},Ft={},Ni={},Xa;function s0(){return Xa||(Xa=1,Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.default=new Uint16Array('áµ<Ã•Ä±ÊŠÒÕ»×ÙµÛŞ¢ß–à à©Šàª‘à¶¡à¹­à¼‰à¼¦áƒŠáˆ¨á‹¡á•á’á“ƒá“Ÿá”¥\0\0\0\0\0\0á•«á›á¦á°’á·á½¾â â†°âŠâ€â»â‘‚â ¤â¤’â´ˆâ¹ˆâ¿ã€–ãŠºã˜¹ã¬ã£¾ã¨¨ã©±ã« ã¬®à €EMabcfglmnoprstu\\bfmsÂ„Â‹ÂÂ•Â˜Â¦Â³Â¹ÃˆÃligè€»Ã†äƒ†Pè€»&ä€¦cuteè€»Ãäƒreve;ä„‚Ä€iyx}rcè€»Ã‚äƒ‚;är;ì€€ğ”„raveè€»Ã€äƒ€pha;ä‘acr;ä„€d;æ©“Ä€gpÂÂ¡on;ä„„f;ì€€ğ”¸plyFunction;æ¡ingè€»Ã…äƒ…Ä€csÂ¾Ãƒr;ì€€ğ’œign;æ‰”ildeè€»Ãƒäƒƒmlè€»Ã„äƒ„Ğ€aceforsuÃ¥Ã»Ã¾Ä—ÄœÄ¢Ä§ÄªÄ€crÃªÃ²kslash;æˆ–Å¶Ã¶Ã¸;æ«§ed;æŒ†y;ä‘Æ€crtÄ…Ä‹Ä”ause;æˆµnoullis;æ„¬a;ä’r;ì€€ğ”…pf;ì€€ğ”¹eve;ä‹˜cÃ²Ä“mpeq;æ‰Ü€HOacdefhilorsuÅÅ‘Å–Æ€ÆÆ¢ÆµÆ·ÆºÇœÈ•É³É¸É¾cy;ä§PYè€»Â©ä‚©Æ€cpyÅÅ¢Åºute;ä„†Ä€;iÅ§Å¨æ‹’talDifferentialD;æ……leys;æ„­È€aeioÆ‰ÆÆ”Æ˜ron;ä„Œdilè€»Ã‡äƒ‡rc;ä„ˆnint;æˆ°ot;ä„ŠÄ€dnÆ§Æ­illa;ä‚¸terDot;ä‚·Ã²Å¿i;ä§rcleÈ€DMPTÇ‡Ç‹Ç‘Ç–ot;æŠ™inus;æŠ–lus;æŠ•imes;æŠ—oÄ€csÇ¢Ç¸kwiseContourIntegral;æˆ²eCurlyÄ€DQÈƒÈoubleQuote;æ€uote;æ€™È€lnpuÈÈ¨É‡É•onÄ€;eÈ¥È¦æˆ·;æ©´Æ€gitÈ¯È¶Èºruent;æ‰¡nt;æˆ¯ourIntegral;æˆ®Ä€frÉŒÉ;æ„‚oduct;æˆnterClockwiseContourIntegral;æˆ³oss;æ¨¯cr;ì€€ğ’pÄ€;CÊ„Ê…æ‹“ap;æ‰Ö€DJSZacefiosÊ Ê¬Ê°Ê´Ê¸Ë‹Ë—Ë¡Ë¦Ì³ÒÄ€;oÅ¹Ê¥trahd;æ¤‘cy;ä‚cy;ä…cy;äÆ€grsÊ¿Ë„Ë‡ger;æ€¡r;æ†¡hv;æ«¤Ä€ayËË•ron;ä„;ä”lÄ€;tËËæˆ‡a;ä”r;ì€€ğ”‡Ä€afË«Ì§Ä€cmË°Ì¢riticalÈ€ADGTÌ€Ì†Ì–Ìœcute;ä‚´oÅ´Ì‹Ì;ä‹™bleAcute;ä‹rave;ä ilde;ä‹œond;æ‹„ferentialD;æ…†Ñ°Ì½\0\0\0Í‚Í”\0Ğ…f;ì€€ğ”»Æ€;DEÍˆÍ‰Íä‚¨ot;æƒœqual;æ‰bleÌ€CDLRUVÍ£Í²Î‚ÏÏ¢Ï¸ontourIntegraÃ¬È¹oÉ´Í¹\0\0Í»Â»Í‰nArrow;æ‡“Ä€eoÎ‡Î¤ftÆ€ARTÎÎ–Î¡rrow;æ‡ightArrow;æ‡”eÃ¥ËŠngÄ€LRÎ«Ï„eftÄ€ARÎ³Î¹rrow;æŸ¸ightArrow;æŸºightArrow;æŸ¹ightÄ€ATÏ˜Ïrrow;æ‡’ee;æŠ¨pÉÏ©\0\0Ï¯rrow;æ‡‘ownArrow;æ‡•erticalBar;æˆ¥nÌ€ABLRTaĞ’ĞªĞ°ÑÑ¿Í¼rrowÆ€;BUĞĞĞ¢æ†“ar;æ¤“pArrow;æ‡µreve;äŒ‘eftË’Ğº\0Ñ†\0ÑightVector;æ¥eeVector;æ¥ectorÄ€;BÑ™Ñšæ†½ar;æ¥–ightÇ”Ñ§\0Ñ±eeVector;æ¥ŸectorÄ€;BÑºÑ»æ‡ar;æ¥—eeÄ€;AÒ†Ò‡æŠ¤rrow;æ†§Ä€ctÒ’Ò—r;ì€€ğ’Ÿrok;ä„à €NTacdfglmopqstuxÒ½Ó€Ó„Ó‹ÓÓ¢Ó§Ó®ÓµÔ¡Ô¯Ô¶Õ’ÕÕ Õ¥G;ä…ŠHè€»Ãäƒcuteè€»Ã‰äƒ‰Æ€aiyÓ’Ó—Óœron;ä„šrcè€»ÃŠäƒŠ;ä­ot;ä„–r;ì€€ğ”ˆraveè€»Ãˆäƒˆement;æˆˆÄ€apÓºÓ¾cr;ä„’tyÉ“Ô†\0\0Ô’mallSquare;æ—»erySmallSquare;æ–«Ä€gpÔ¦Ôªon;ä„˜f;ì€€ğ”¼silon;ä•uÄ€aiÔ¼Õ‰lÄ€;TÕ‚Õƒæ©µilde;æ‰‚librium;æ‡ŒÄ€ciÕ—Õšr;æ„°m;æ©³a;ä—mlè€»Ã‹äƒ‹Ä€ipÕªÕ¯sts;æˆƒonentialE;æ…‡Ê€cfiosÖ…ÖˆÖÖ²×Œy;ä¤r;ì€€ğ”‰lledÉ“Ö—\0\0Ö£mallSquare;æ—¼erySmallSquare;æ–ªÍ°Öº\0Ö¿\0\0×„f;ì€€ğ”½All;æˆ€riertrf;æ„±cÃ²×‹Ø€JTabcdfgorst×¨×¬×¯×ºØ€Ø’Ø–Ø›ØØ£Ù¬Ù²cy;äƒè€»>ä€¾mmaÄ€;d×·×¸ä“;äœreve;ä„Æ€eiyØ‡ØŒØdil;ä„¢rc;ä„œ;ä“ot;ä„ r;ì€€ğ”Š;æ‹™pf;ì€€ğ”¾eaterÌ€EFGLSTØµÙ„ÙÙ–Ù›Ù¦qualÄ€;LØ¾Ø¿æ‰¥ess;æ‹›ullEqual;æ‰§reater;æª¢ess;æ‰·lantEqual;æ©¾ilde;æ‰³cr;ì€€ğ’¢;æ‰«Ğ€AacfiosuÚ…Ú‹Ú–Ú›ÚÚªÚ¾ÛŠRDcy;äªÄ€ctÚÚ”ek;ä‹‡;äirc;ä„¤r;æ„ŒlbertSpace;æ„‹Ç°Ú¯\0Ú²f;æ„izontalLine;æ”€Ä€ctÛƒÛ…Ã²Ú©rok;ä„¦mpÅ„ÛÛ˜ownHumÃ°Ä¯qual;æ‰Ü€EJOacdfgmnostuÛºÛ¾ÜƒÜ‡ÜÜšÜÜ¡Ü¨İ„İ¸Ş‹ŞŞ•cy;ä•lig;ä„²cy;äcuteè€»ÃäƒÄ€iyÜ“Ü˜rcè€»Ãäƒ;ä˜ot;ä„°r;æ„‘raveè€»ÃŒäƒŒÆ€;apÜ Ü¯Ü¿Ä€cgÜ´Ü·r;ä„ªinaryI;æ…ˆlieÃ³ÏÇ´İ‰\0İ¢Ä€;eİİæˆ¬Ä€grİ“İ˜ral;æˆ«section;æ‹‚isibleÄ€CTİ¬İ²omma;æ£imes;æ¢Æ€gptİ¿ŞƒŞˆon;ä„®f;ì€€ğ•€a;ä™cr;æ„ilde;ä„¨Ç«Şš\0Şcy;ä†lè€»ÃäƒÊ€cfosuŞ¬Ş·Ş¼ß‚ßÄ€iyŞ±Şµrc;ä„´;ä™r;ì€€ğ”pf;ì€€ğ•Ç£ß‡\0ßŒr;ì€€ğ’¥rcy;äˆkcy;ä„Î€HJacfosß¤ß¨ß¬ß±ß½à ‚à ˆcy;ä¥cy;äŒppa;äšÄ€eyß¶ß»dil;ä„¶;äšr;ì€€ğ”pf;ì€€ğ•‚cr;ì€€ğ’¦Ö€JTaceflmostà ¥à ©à ¬à¡à¡£à¦³à¦¸à§‡à§à¨·à©‡cy;ä‰è€»<ä€¼Ê€cmnprà ·à ¼à¡à¡„à¡ute;ä„¹bda;ä›g;æŸªlacetrf;æ„’r;æ†Æ€aeyà¡—à¡œà¡¡ron;ä„½dil;ä„»;ä›Ä€fsà¡¨à¥°tÔ€ACDFRTUVarà¡¾à¢©à¢±à£ à£¦à£¼à¤¯à¥›Îà¥ªÄ€nrà¢ƒà¢gleBracket;æŸ¨rowÆ€;BRà¢™à¢šà¢æ†ar;æ‡¤ightArrow;æ‡†eiling;æŒˆoÇµà¢·\0à£ƒbleBracket;æŸ¦nÇ”à£ˆ\0à£’eeVector;æ¥¡ectorÄ€;Bà£›à£œæ‡ƒar;æ¥™loor;æŒŠightÄ€AVà£¯à£µrrow;æ†”ector;æ¥Ä€erà¤à¤—eÆ€;AVà¤‰à¤Šà¤æŠ£rrow;æ†¤ector;æ¥šiangleÆ€;BEà¤¤à¤¥à¤©æŠ²ar;æ§qual;æŠ´pÆ€DTVà¤·à¥‚à¥ŒownVector;æ¥‘eeVector;æ¥ ectorÄ€;Bà¥–à¥—æ†¿ar;æ¥˜ectorÄ€;Bà¥¥à¥¦æ†¼ar;æ¥’ightÃ¡ÎœsÌ€EFGLSTà¥¾à¦‹à¦•à¦à¦¢à¦­qualGreater;æ‹šullEqual;æ‰¦reater;æ‰¶ess;æª¡lantEqual;æ©½ilde;æ‰²r;ì€€ğ”Ä€;eà¦½à¦¾æ‹˜ftarrow;æ‡šidot;ä„¿Æ€npwà§”à¨–à¨›gÈ€LRlrà§à§·à¨‚à¨eftÄ€ARà§¦à§¬rrow;æŸµightArrow;æŸ·ightArrow;æŸ¶eftÄ€arÎ³à¨ŠightÃ¡Î¿ightÃ¡ÏŠf;ì€€ğ•ƒerÄ€LRà¨¢à¨¬eftArrow;æ†™ightArrow;æ†˜Æ€chtà¨¾à©€à©‚Ã²à¡Œ;æ†°rok;ä…;æ‰ªĞ€acefiosuà©šà©à© à©·à©¼àª…àª‹àªp;æ¤…y;äœÄ€dlà©¥à©¯iumSpace;æŸlintrf;æ„³r;ì€€ğ”nusPlus;æˆ“pf;ì€€ğ•„cÃ²à©¶;äœÒ€Jacefostuàª£àª§àª­à«€à¬”à¬™à¶‘à¶—à¶cy;äŠcute;ä…ƒÆ€aeyàª´àª¹àª¾ron;ä…‡dil;ä……;äÆ€gswà«‡à«°à¬ativeÆ€MTVà«“à«Ÿà«¨ediumSpace;æ€‹hiÄ€cnà«¦à«˜Ã«à«™eryThiÃ®à«™tedÄ€GLà«¸à¬†reaterGreateÃ²Ù³essLesÃ³à©ˆLine;ä€Šr;ì€€ğ”‘È€Bnptà¬¢à¬¨à¬·à¬ºreak;æ BreakingSpace;ä‚ f;æ„•Ú€;CDEGHLNPRSTVà­•à­–à­ªà­¼à®¡à¯«à°„à±à²„à²¦à³˜àµ¡à¶…æ«¬Ä€ouà­›à­¤ngruent;æ‰¢pCap;æ‰­oubleVerticalBar;æˆ¦Æ€lqxà®ƒà®Šà®›ement;æˆ‰ualÄ€;Tà®’à®“æ‰ ilde;ì€€â‰‚Ì¸ists;æˆ„reaterÎ€;EFGLSTà®¶à®·à®½à¯‰à¯“à¯˜à¯¥æ‰¯qual;æ‰±ullEqual;ì€€â‰§Ì¸reater;ì€€â‰«Ì¸ess;æ‰¹lantEqual;ì€€â©¾Ì¸ilde;æ‰µumpÅ„à¯²à¯½ownHump;ì€€â‰Ì¸qual;ì€€â‰Ì¸eÄ€fsà°Šà°§tTriangleÆ€;BEà°šà°›à°¡æ‹ªar;ì€€â§Ì¸qual;æ‹¬sÌ€;EGLSTà°µà°¶à°¼à±„à±‹à±˜æ‰®qual;æ‰°reater;æ‰¸ess;ì€€â‰ªÌ¸lantEqual;ì€€â©½Ì¸ilde;æ‰´estedÄ€GLà±¨à±¹reaterGreater;ì€€âª¢Ì¸essLess;ì€€âª¡Ì¸recedesÆ€;ESà²’à²“à²›æŠ€qual;ì€€âª¯Ì¸lantEqual;æ‹ Ä€eià²«à²¹verseElement;æˆŒghtTriangleÆ€;BEà³‹à³Œà³’æ‹«ar;ì€€â§Ì¸qual;æ‹­Ä€quà³à´ŒuareSuÄ€bpà³¨à³¹setÄ€;Eà³°à³³ì€€âŠÌ¸qual;æ‹¢ersetÄ€;Eà´ƒà´†ì€€âŠÌ¸qual;æ‹£Æ€bcpà´“à´¤àµsetÄ€;Eà´›à´ì€€âŠ‚âƒ’qual;æŠˆceedsÈ€;ESTà´²à´³à´»àµ†æŠqual;ì€€âª°Ì¸lantEqual;æ‹¡ilde;ì€€â‰¿Ì¸ersetÄ€;Eàµ˜àµ›ì€€âŠƒâƒ’qual;æŠ‰ildeÈ€;EFTàµ®àµ¯àµµàµ¿æ‰qual;æ‰„ullEqual;æ‰‡ilde;æ‰‰erticalBar;æˆ¤cr;ì€€ğ’©ildeè€»Ã‘äƒ‘;äÜ€Eacdfgmoprstuvà¶½à·‚à·‰à·•à·›à· à·§à·¼à¸‚à¸ à¸¢à¸²à¸¿à¹„lig;ä…’cuteè€»Ã“äƒ“Ä€iyà·à·“rcè€»Ã”äƒ”;äblac;ä…r;ì€€ğ”’raveè€»Ã’äƒ’Æ€aeià·®à·²à·¶cr;ä…Œga;ä©cron;äŸpf;ì€€ğ•†enCurlyÄ€DQà¸à¸šoubleQuote;æ€œuote;æ€˜;æ©”Ä€clà¸§à¸¬r;ì€€ğ’ªashè€»Ã˜äƒ˜iÅ¬à¸·à¸¼deè€»Ã•äƒ•es;æ¨·mlè€»Ã–äƒ–erÄ€BPà¹‹à¹ Ä€arà¹à¹“r;æ€¾acÄ€ekà¹šà¹œ;æet;æ´arenthesis;æœÒ€acfhilorsà¹¿àº‡àºŠàºàº’àº”àºàº°à»¼rtialD;æˆ‚y;äŸr;ì€€ğ”“i;ä¦;ä usMinus;ä‚±Ä€ipàº¢àº­ncareplanÃ¥Úf;æ„™È€;eioàº¹àººà» à»¤æª»cedesÈ€;ESTà»ˆà»‰à»à»šæ‰ºqual;æª¯lantEqual;æ‰¼ilde;æ‰¾me;æ€³Ä€dpà»©à»®uct;æˆortionÄ€;aÈ¥à»¹l;æˆÄ€cià¼à¼†r;ì€€ğ’«;ä¨È€Ufosà¼‘à¼–à¼›à¼ŸOTè€»"ä€¢r;ì€€ğ””pf;æ„šcr;ì€€ğ’¬Ø€BEacefhiorsuà¼¾à½ƒà½‡à½ à½³à¾§à¾ªà¾­á‚–á‚©á‚´á‚¾arr;æ¤Gè€»Â®ä‚®Æ€cnrà½à½“à½–ute;ä…”g;æŸ«rÄ€;tà½œà½æ† l;æ¤–Æ€aeyà½§à½¬à½±ron;ä…˜dil;ä…–;ä Ä€;và½¸à½¹æ„œerseÄ€EUà¾‚à¾™Ä€lqà¾‡à¾ement;æˆ‹uilibrium;æ‡‹pEquilibrium;æ¥¯rÂ»à½¹o;ä¡ghtĞ€ACDFTUVaà¿à¿«à¿³á€¢á€¨á›á‚‡Ï˜Ä€nrà¿†à¿’gleBracket;æŸ©rowÆ€;BLà¿œà¿à¿¡æ†’ar;æ‡¥eftArrow;æ‡„eiling;æŒ‰oÇµà¿¹\0á€…bleBracket;æŸ§nÇ”á€Š\0á€”eeVector;æ¥ectorÄ€;Bá€á€æ‡‚ar;æ¥•loor;æŒ‹Ä€erá€­áƒeÆ€;AVá€µá€¶á€¼æŠ¢rrow;æ†¦ector;æ¥›iangleÆ€;BEáá‘á•æŠ³ar;æ§qual;æŠµpÆ€DTVá£á®á¸ownVector;æ¥eeVector;æ¥œectorÄ€;Bá‚‚á‚ƒæ†¾ar;æ¥”ectorÄ€;Bá‚‘á‚’æ‡€ar;æ¥“Ä€puá‚›á‚f;æ„ndImplies;æ¥°ightarrow;æ‡›Ä€chá‚¹á‚¼r;æ„›;æ†±leDelayed;æ§´Ú€HOacfhimoqstuáƒ¤áƒ±áƒ·áƒ½á„™á„á…‘á…–á…¡á…§á†µá†»á†¿Ä€Ccáƒ©áƒ®Hcy;ä©y;ä¨FTcy;ä¬cute;ä…šÊ€;aeiyá„ˆá„‰á„á„“á„—æª¼ron;ä… dil;ä…rc;ä…œ;ä¡r;ì€€ğ”–ortÈ€DLRUá„ªá„´á„¾á…‰ownArrowÂ»ĞeftArrowÂ»à¢šightArrowÂ»à¿pArrow;æ†‘gma;ä£allCircle;æˆ˜pf;ì€€ğ•ŠÉ²á…­\0\0á…°t;æˆšareÈ€;ISUá…»á…¼á†‰á†¯æ–¡ntersection;æŠ“uÄ€bpá†á†setÄ€;Eá†—á†˜æŠqual;æŠ‘ersetÄ€;Eá†¨á†©æŠqual;æŠ’nion;æŠ”cr;ì€€ğ’®ar;æ‹†È€bcmpá‡ˆá‡›áˆ‰áˆ‹Ä€;sá‡á‡æ‹etÄ€;Eá‡á‡•qual;æŠ†Ä€chá‡ áˆ…eedsÈ€;ESTá‡­á‡®á‡´á‡¿æ‰»qual;æª°lantEqual;æ‰½ilde;æ‰¿ThÃ¡à¾Œ;æˆ‘Æ€;esáˆ’áˆ“áˆ£æ‹‘rsetÄ€;EáˆœáˆæŠƒqual;æŠ‡etÂ»áˆ“Ö€HRSacfhiorsáˆ¾á‰„á‰‰á‰•á‰á‰±á‰¶áŠŸá‹‚á‹ˆá‹‘ORNè€»ÃäƒADE;æ„¢Ä€Hcá‰á‰’cy;ä‹y;ä¦Ä€buá‰šá‰œ;ä€‰;ä¤Æ€aeyá‰¥á‰ªá‰¯ron;ä…¤dil;ä…¢;ä¢r;ì€€ğ”—Ä€eiá‰»áŠ‰Ç²áŠ€\0áŠ‡efore;æˆ´a;ä˜Ä€cnáŠáŠ˜kSpace;ì€€âŸâ€ŠSpace;æ€‰ldeÈ€;EFTáŠ«áŠ¬áŠ²áŠ¼æˆ¼qual;æ‰ƒullEqual;æ‰…ilde;æ‰ˆpf;ì€€ğ•‹ipleDot;æƒ›Ä€ctá‹–á‹›r;ì€€ğ’¯rok;ä…¦à«¡á‹·áŒáŒšáŒ¦\0áŒ¬áŒ±\0\0\0\0\0áŒ¸áŒ½á·á…\0á¿á„áŠáÄ€crá‹»áŒuteè€»ÃšäƒšrÄ€;oáŒ‡áŒˆæ†Ÿcir;æ¥‰rÇ£áŒ“\0áŒ–y;äve;ä…¬Ä€iyáŒáŒ£rcè€»Ã›äƒ›;ä£blac;ä…°r;ì€€ğ”˜raveè€»Ã™äƒ™acr;ä…ªÄ€diáá©erÄ€BPáˆáÄ€aráár;äŸacÄ€eká—á™;æŸet;æµarenthesis;æonÄ€;Pá°á±æ‹ƒlus;æŠÄ€gpá»á¿on;ä…²f;ì€€ğ•ŒĞ€ADETadpsá•á®á¸á„Ï¨á’á—á³rrowÆ€;BDá…á á¤ar;æ¤’ownArrow;æ‡…ownArrow;æ†•quilibrium;æ¥®eeÄ€;Aá‹áŒæŠ¥rrow;æ†¥ownÃ¡Ï³erÄ€LRáá¨eftArrow;æ†–ightArrow;æ†—iÄ€;lá¹áºä’on;ä¥ing;ä…®cr;ì€€ğ’°ilde;ä…¨mlè€»ÃœäƒœÒ€Dbcdefosvá§á¬á°á³á¾á’…á’Šá’á’–ash;æŠ«ar;æ««y;ä’ashÄ€;lá»á¼æŠ©;æ«¦Ä€erá‘ƒá‘…;æ‹Æ€btyá‘Œá‘á‘ºar;æ€–Ä€;iá‘á‘•calÈ€BLSTá‘¡á‘¥á‘ªá‘´ar;æˆ£ine;ä¼eparator;æ˜ilde;æ‰€ThinSpace;æ€Šr;ì€€ğ”™pf;ì€€ğ•cr;ì€€ğ’±dash;æŠªÊ€cefosá’§á’¬á’±á’¶á’¼irc;ä…´dge;æ‹€r;ì€€ğ”špf;ì€€ğ•cr;ì€€ğ’²È€fiosá“‹á“á“’á“˜r;ì€€ğ”›;äpf;ì€€ğ•cr;ì€€ğ’³Ò€AIUacfosuá“±á“µá“¹á“½á”„á”á””á”šá” cy;ä¯cy;ä‡cy;ä®cuteè€»ÃäƒÄ€iyá”‰á”rc;ä…¶;ä«r;ì€€ğ”œpf;ì€€ğ•cr;ì€€ğ’´ml;ä…¸Ğ€Hacdefosá”µá”¹á”¿á•‹á•á•á• á•¤cy;ä–cute;ä…¹Ä€ayá•„á•‰ron;ä…½;ä—ot;ä…»Ç²á•”\0á•›oWidtÃ¨à«™a;ä–r;æ„¨pf;æ„¤cr;ì€€ğ’µà¯¡á–ƒá–Šá–\0á–°á–¶á–¿\0\0\0\0á—†á—›á—«á™Ÿá™­\0áš•áš›áš²áš¹\0áš¾cuteè€»Ã¡äƒ¡reve;ä„ƒÌ€;Ediuyá–œá–á–¡á–£á–¨á–­æˆ¾;ì€€âˆ¾Ì³;æˆ¿rcè€»Ã¢äƒ¢teè‚»Â´Ì†;ä°ligè€»Ã¦äƒ¦Ä€;rÂ²á–º;ì€€ğ”raveè€»Ã äƒ Ä€epá—Šá—–Ä€fpá—á—”sym;æ„µÃ¨á—“ha;ä±Ä€apá—ŸcÄ€clá—¤á—§r;ä„g;æ¨¿É¤á—°\0\0á˜ŠÊ€;adsvá—ºá—»á—¿á˜á˜‡æˆ§nd;æ©•;æ©œlope;æ©˜;æ©šÎ€;elmrszá˜˜á˜™á˜›á˜á˜¿á™á™™æˆ ;æ¦¤eÂ»á˜™sdÄ€;aá˜¥á˜¦æˆ¡Ñ¡á˜°á˜²á˜´á˜¶á˜¸á˜ºá˜¼á˜¾;æ¦¨;æ¦©;æ¦ª;æ¦«;æ¦¬;æ¦­;æ¦®;æ¦¯tÄ€;vá™…á™†æˆŸbÄ€;dá™Œá™æŠ¾;æ¦Ä€ptá™”á™—h;æˆ¢Â»Â¹arr;æ¼Ä€gpá™£á™§on;ä„…f;ì€€ğ•’Î€;Eaeiopá‹á™»á™½áš‚áš„áš‡ášŠ;æ©°cir;æ©¯;æ‰Šd;æ‰‹s;ä€§roxÄ€;eá‹áš’Ã±ášƒingè€»Ã¥äƒ¥Æ€ctyáš¡áš¦áš¨r;ì€€ğ’¶;ä€ªmpÄ€;eá‹áš¯Ã±Êˆildeè€»Ã£äƒ£mlè€»Ã¤äƒ¤Ä€ciá›‚á›ˆoninÃ´É²nt;æ¨‘à €Nabcdefiklnoprsuá›­á›±áœ°áœ¼áƒáˆá¸á½áŸ áŸ¦á ¹á¡áœá¤½á¥ˆá¥°ot;æ«­Ä€crá›¶áœkÈ€cepsáœ€áœ…áœáœ“ong;æ‰Œpsilon;ä¶rime;æ€µimÄ€;eáœšáœ›æˆ½q;æ‹Å¶áœ¢áœ¦ee;æŠ½edÄ€;gáœ¬áœ­æŒ…eÂ»áœ­rkÄ€;táœáœ·brk;æ¶Ä€oyáœá;ä±quo;æ€Ê€cmprtá“á›á¡á¤á¨ausÄ€;eÄŠÄ‰ptyv;æ¦°sÃ©áœŒnoÃµÄ“Æ€ahwá¯á±á³;ä²;æ„¶een;æ‰¬r;ì€€ğ”ŸgÎ€costuvwááá³áŸáŸ•áŸ›áŸÆ€aiuá”á–ášÃ°İ rc;æ—¯pÂ»á±Æ€dptá¤á¨á­ot;æ¨€lus;æ¨imes;æ¨‚É±á¹\0\0á¾cup;æ¨†ar;æ˜…riangleÄ€duáŸáŸ’own;æ–½p;æ–³plus;æ¨„eÃ¥á‘„Ã¥á’­arow;æ¤Æ€akoáŸ­á ¦á µÄ€cnáŸ²á £kÆ€lstáŸºÖ«á ‚ozenge;æ§«riangleÈ€;dlrá ’á “á ˜á æ–´own;æ–¾eft;æ—‚ight;æ–¸k;æ£Æ±á «\0á ³Æ²á ¯\0á ±;æ–’;æ–‘4;æ–“ck;æ–ˆÄ€eoá ¾á¡Ä€;qá¡ƒá¡†ì€€=âƒ¥uiv;ì€€â‰¡âƒ¥t;æŒÈ€ptwxá¡™á¡á¡§á¡¬f;ì€€ğ•“Ä€;tá‹á¡£omÂ»áŒtie;æ‹ˆØ€DHUVbdhmptuvá¢…á¢–á¢ªá¢»á£—á£›á£¬á£¿á¤…á¤Šá¤á¤¡È€LRlrá¢á¢á¢’á¢”;æ•—;æ•”;æ•–;æ•“Ê€;DUduá¢¡á¢¢á¢¤á¢¦á¢¨æ•;æ•¦;æ•©;æ•¤;æ•§È€LRlrá¢³á¢µá¢·á¢¹;æ•;æ•š;æ•œ;æ•™Î€;HLRhlrá£Šá£‹á£á£á£‘á£“á£•æ•‘;æ•¬;æ•£;æ• ;æ•«;æ•¢;æ•Ÿox;æ§‰È€LRlrá£¤á£¦á£¨á£ª;æ••;æ•’;æ”;æ”ŒÊ€;DUduÚ½á£·á£¹á£»á£½;æ•¥;æ•¨;æ”¬;æ”´inus;æŠŸlus;æŠimes;æŠ È€LRlrá¤™á¤›á¤á¤Ÿ;æ•›;æ•˜;æ”˜;æ””Î€;HLRhlrá¤°á¤±á¤³á¤µá¤·á¤¹á¤»æ”‚;æ•ª;æ•¡;æ•;æ”¼;æ”¤;æ”œÄ€evÄ£á¥‚barè€»Â¦ä‚¦È€ceioá¥‘á¥–á¥šá¥ r;ì€€ğ’·mi;æmÄ€;eáœšáœœlÆ€;bhá¥¨á¥©á¥«äœ;æ§…sub;æŸˆÅ¬á¥´á¥¾lÄ€;eá¥¹á¥ºæ€¢tÂ»á¥ºpÆ€;EeÄ¯á¦…á¦‡;æª®Ä€;qÛœÛ›à³¡á¦§\0á§¨á¨‘á¨•á¨²\0á¨·á©\0\0áª´\0\0á«\0\0á¬¡á¬®á­á­’\0á¯½\0á°ŒÆ€cprá¦­á¦²á§ute;ä„‡Ì€;abcdsá¦¿á§€á§„á§Šá§•á§™æˆ©nd;æ©„rcup;æ©‰Ä€auá§á§’p;æ©‹p;æ©‡ot;æ©€;ì€€âˆ©ï¸€Ä€eoá§¢á§¥t;æÃ®Ú“È€aeiuá§°á§»á¨á¨…Ç°á§µ\0á§¸s;æ©on;ä„dilè€»Ã§äƒ§rc;ä„‰psÄ€;sá¨Œá¨æ©Œm;æ©ot;ä„‹Æ€dmná¨›á¨ á¨¦ilè‚»Â¸Æ­ptyv;æ¦²tè„€Â¢;eá¨­á¨®ä‚¢rÃ¤Æ²r;ì€€ğ” Æ€ceiá¨½á©€á©y;ä‘‡ckÄ€;má©‡á©ˆæœ“arkÂ»á©ˆ;ä‡rÎ€;Ecefmsá©Ÿá© á©¢á©«áª¤áªªáª®æ—‹;æ§ƒÆ€;elá©©á©ªá©­ä‹†q;æ‰—eÉ¡á©´\0\0áªˆrrowÄ€lrá©¼áªeft;æ†ºight;æ†»Ê€RSacdáª’áª”áª–áªšáªŸÂ»à½‡;æ“ˆst;æŠ›irc;æŠšash;æŠnint;æ¨id;æ«¯cir;æ§‚ubsÄ€;uáª»áª¼æ™£itÂ»áª¼Ë¬á«‡á«”á«º\0á¬ŠonÄ€;eá«á«ä€ºÄ€;qÃ‡Ã†É­á«™\0\0á«¢aÄ€;tá«á«Ÿä€¬;ä€Æ€;flá«¨á«©á««æˆÃ®á… eÄ€mxá«±á«¶entÂ»á«©eÃ³ÉÇ§á«¾\0á¬‡Ä€;dáŠ»á¬‚ot;æ©­nÃ´É†Æ€fryá¬á¬”á¬—;ì€€ğ•”oÃ¤É”è„€Â©;sÅ•á¬r;æ„—Ä€aoá¬¥á¬©rr;æ†µss;æœ—Ä€cuá¬²á¬·r;ì€€ğ’¸Ä€bpá¬¼á­„Ä€;eá­á­‚æ«;æ«‘Ä€;eá­‰á­Šæ«;æ«’dot;æ‹¯Î€delprvwá­ á­¬á­·á®‚á®¬á¯”á¯¹arrÄ€lrá­¨á­ª;æ¤¸;æ¤µÉ°á­²\0\0á­µr;æ‹c;æ‹ŸarrÄ€;pá­¿á®€æ†¶;æ¤½Ì€;bcdosá®á®á®–á®¡á®¥á®¨æˆªrcap;æ©ˆÄ€auá®›á®p;æ©†p;æ©Šot;æŠr;æ©…;ì€€âˆªï¸€È€alrvá®µá®¿á¯á¯£rrÄ€;má®¼á®½æ†·;æ¤¼yÆ€evwá¯‡á¯”á¯˜qÉ°á¯\0\0á¯’reÃ£á­³uÃ£á­µee;æ‹edge;æ‹enè€»Â¤ä‚¤earrowÄ€lrá¯®á¯³eftÂ»á®€ightÂ»á®½eÃ¤á¯Ä€ciá°á°‡oninÃ´Ç·nt;æˆ±lcty;æŒ­à¦€AHabcdefhijlorstuwzá°¸á°»á°¿á±á±©á±µá²Šá²á²¬á²·á³»á³¿á´áµ»á¶‘á¶«á¶»á·†á·rÃ²Îar;æ¥¥È€glrsá±ˆá±á±’á±”ger;æ€ eth;æ„¸Ã²á„³hÄ€;vá±šá±›æ€Â»à¤ŠÅ«á±¡á±§arow;æ¤aÃ£Ì•Ä€ayá±®á±³ron;ä„;ä´Æ€;aoÌ²á±¼á²„Ä€grÊ¿á²r;æ‡Štseq;æ©·Æ€glmá²‘á²”á²˜è€»Â°ä‚°ta;ä´ptyv;æ¦±Ä€irá²£á²¨sht;æ¥¿;ì€€ğ”¡arÄ€lrá²³á²µÂ»à£œÂ»á€Ê€aegsvá³‚Í¸á³–á³œá³ mÆ€;osÌ¦á³Šá³”ndÄ€;sÌ¦á³‘uit;æ™¦amma;äin;æ‹²Æ€;ioá³§á³¨á³¸äƒ·deè„€Ã·;oá³§á³°ntimes;æ‹‡nÃ¸á³·cy;ä‘’cÉ¯á´†\0\0á´Šrn;æŒop;æŒÊ€lptuwá´˜á´á´¢áµ‰áµ•lar;ä€¤f;ì€€ğ••Ê€;empsÌ‹á´­á´·á´½áµ‚qÄ€;dÍ’á´³ot;æ‰‘inus;æˆ¸lus;æˆ”quare;æŠ¡blebarwedgÃ¥ÃºnÆ€adhá„®áµáµ§ownarrowÃ³á²ƒarpoonÄ€lráµ²áµ¶efÃ´á²´ighÃ´á²¶Å¢áµ¿á¶…karoÃ·à½‚É¯á¶Š\0\0á¶rn;æŒŸop;æŒŒÆ€cotá¶˜á¶£á¶¦Ä€ryá¶á¶¡;ì€€ğ’¹;ä‘•l;æ§¶rok;ä„‘Ä€drá¶°á¶´ot;æ‹±iÄ€;fá¶ºá –æ–¿Ä€ahá·€á·ƒrÃ²Ğ©aÃ²à¾¦angle;æ¦¦Ä€ciá·’á·•y;ä‘Ÿgrarr;æŸ¿à¤€Dacdefglmnopqrstuxá¸á¸‰á¸™á¸¸Õ¸á¸¼á¹‰á¹¡á¹¾áº¥áº¯áº½á»¡á¼ªá¼·á½„á½á½šÄ€Doá¸†á´´oÃ´á²‰Ä€csá¸á¸”uteè€»Ã©äƒ©ter;æ©®È€aioyá¸¢á¸§á¸±á¸¶ron;ä„›rÄ€;cá¸­á¸®æ‰–è€»Ãªäƒªlon;æ‰•;ä‘ot;ä„—Ä€Drá¹á¹…ot;æ‰’;ì€€ğ”¢Æ€;rsá¹á¹‘á¹—æªšaveè€»Ã¨äƒ¨Ä€;dá¹œá¹æª–ot;æª˜È€;ilsá¹ªá¹«á¹²á¹´æª™nters;æ§;æ„“Ä€;dá¹¹á¹ºæª•ot;æª—Æ€apsáº…áº‰áº—cr;ä„“tyÆ€;sváº’áº“áº•æˆ…etÂ»áº“pÄ€1;áºáº¤Ä³áº¡áº£;æ€„;æ€…æ€ƒÄ€gsáºªáº¬;ä…‹p;æ€‚Ä€gpáº´áº¸on;ä„™f;ì€€ğ•–Æ€alsá»„á»á»’rÄ€;sá»Šá»‹æ‹•l;æ§£us;æ©±iÆ€;lvá»šá»›á»ŸäµonÂ»á»›;äµÈ€csuvá»ªá»³á¼‹á¼£Ä€ioá»¯á¸±rcÂ»á¸®É©á»¹\0\0á»»Ã­ÕˆantÄ€glá¼‚á¼†trÂ»á¹essÂ»á¹ºÆ€aeiá¼’á¼–á¼šls;ä€½st;æ‰ŸvÄ€;DÈµá¼ D;æ©¸parsl;æ§¥Ä€Daá¼¯á¼³ot;æ‰“rr;æ¥±Æ€cdiá¼¾á½á»¸r;æ„¯oÃ´Í’Ä€ahá½‰á½‹;ä·è€»Ã°äƒ°Ä€mrá½“á½—lè€»Ã«äƒ«o;æ‚¬Æ€cipá½¡á½¤á½§l;ä€¡sÃ´Õ®Ä€eoá½¬á½´ctatioÃ®Õ™nentialÃ¥Õ¹à§¡á¾’\0á¾\0á¾¡á¾§\0\0á¿†á¿Œ\0á¿“\0á¿¦á¿ªâ€€\0â€ˆâšllingdotseÃ±á¹„y;ä‘„male;æ™€Æ€ilrá¾­á¾³á¿lig;è€€ï¬ƒÉ©á¾¹\0\0á¾½g;è€€ï¬€ig;è€€ï¬„;ì€€ğ”£lig;è€€ï¬lig;ì€€fjÆ€altá¿™á¿œá¿¡t;æ™­ig;è€€ï¬‚ns;æ–±of;ä†’Ç°á¿®\0á¿³f;ì€€ğ•—Ä€akÖ¿á¿·Ä€;vá¿¼á¿½æ‹”;æ«™artint;æ¨Ä€aoâ€Œâ•Ä€csâ€‘â’Î±â€šâ€°â€¸â…âˆ\0âÎ²â€¢â€¥â€§â€ªâ€¬\0â€®è€»Â½ä‚½;æ…“è€»Â¼ä‚¼;æ…•;æ…™;æ…›Æ³â€´\0â€¶;æ…”;æ…–Ê´â€¾â\0\0âƒè€»Â¾ä‚¾;æ…—;æ…œ5;æ…˜Æ¶âŒ\0â;æ…š;æ…8;æ…l;æ„wn;æŒ¢cr;ì€€ğ’»à¢€Eabcdefgijlnorstvâ‚‚â‚‰â‚Ÿâ‚¥â‚°â‚´âƒ°âƒµâƒºâƒ¿â„ƒâ„’â„¸Ì—â„¾â…’â†Ä€;lÙâ‚‡;æªŒÆ€cmpâ‚â‚•â‚ute;ä‡µmaÄ€;dâ‚œá³šä³;æª†reve;ä„ŸÄ€iyâ‚ªâ‚®rc;ä„;ä³ot;ä„¡È€;lqsØ¾Ù‚â‚½âƒ‰Æ€;qsØ¾ÙŒâƒ„lanÃ´Ù¥È€;cdlÙ¥âƒ’âƒ•âƒ¥c;æª©otÄ€;oâƒœâƒæª€Ä€;lâƒ¢âƒ£æª‚;æª„Ä€;eâƒªâƒ­ì€€â‹›ï¸€s;æª”r;ì€€ğ”¤Ä€;gÙ³Ø›mel;æ„·cy;ä‘“È€;EajÙšâ„Œâ„â„;æª’;æª¥;æª¤È€Eaesâ„›â„â„©â„´;æ‰©pÄ€;pâ„£â„¤æªŠroxÂ»â„¤Ä€;qâ„®â„¯æªˆÄ€;qâ„®â„›im;æ‹§pf;ì€€ğ•˜Ä€ciâ…ƒâ…†r;æ„ŠmÆ€;elÙ«â…â…;æª;æªèŒ€>;cdlqr×®â… â…ªâ…®â…³â…¹Ä€ciâ…¥â…§;æª§r;æ©ºot;æ‹—Par;æ¦•uest;æ©¼Ê€adelsâ†„â…ªâ†Ù–â†›Ç°â†‰\0â†proÃ¸â‚r;æ¥¸qÄ€lqØ¿â†–lesÃ³â‚ˆiÃ­Ù«Ä€enâ†£â†­rtneqq;ì€€â‰©ï¸€Ã…â†ªÔ€Aabcefkosyâ‡„â‡‡â‡±â‡µâ‡ºâˆ˜âˆâˆ¯â‰¨â‰½rÃ²Î È€ilmrâ‡â‡”â‡—â‡›rsÃ°á’„fÂ»â€¤ilÃ´Ú©Ä€drâ‡ â‡¤cy;ä‘ŠÆ€;cwà£´â‡«â‡¯ir;æ¥ˆ;æ†­ar;æ„irc;ä„¥Æ€alrâˆâˆâˆ“rtsÄ€;uâˆ‰âˆŠæ™¥itÂ»âˆŠlip;æ€¦con;æŠ¹r;ì€€ğ”¥sÄ€ewâˆ£âˆ©arow;æ¤¥arow;æ¤¦Ê€amoprâˆºâˆ¾â‰ƒâ‰â‰£rr;æ‡¿tht;æˆ»kÄ€lrâ‰‰â‰“eftarrow;æ†©ightarrow;æ†ªf;ì€€ğ•™bar;æ€•Æ€cltâ‰¯â‰´â‰¸r;ì€€ğ’½asÃ¨â‡´rok;ä„§Ä€bpâŠ‚âŠ‡ull;æƒhenÂ»á±›à«¡âŠ£\0âŠª\0âŠ¸â‹…â‹\0â‹•â‹³\0\0â‹¸âŒ¢â§â¢â¿\0â†âªâ´cuteè€»Ã­äƒ­Æ€;iyİ±âŠ°âŠµrcè€»Ã®äƒ®;ä¸Ä€cxâŠ¼âŠ¿y;äµclè€»Â¡ä‚¡Ä€frÎŸâ‹‰;ì€€ğ”¦raveè€»Ã¬äƒ¬È€;inoÜ¾â‹â‹©â‹®Ä€inâ‹¢â‹¦nt;æ¨Œt;æˆ­fin;æ§œta;æ„©lig;ä„³Æ€aopâ‹¾âŒšâŒÆ€cgtâŒ…âŒˆâŒ—r;ä„«Æ€elpÜŸâŒâŒ“inÃ¥ŞarÃ´Ü h;ä„±f;æŠ·ed;ä†µÊ€;cfotÓ´âŒ¬âŒ±âŒ½âare;æ„…inÄ€;tâŒ¸âŒ¹æˆie;æ§doÃ´âŒ™Ê€;celpİ—âŒââ›â¡al;æŠºÄ€grâ•â™erÃ³á•£Ã£âarhk;æ¨—rod;æ¨¼È€cgptâ¯â²â¶â»y;ä‘‘on;ä„¯f;ì€€ğ•ša;ä¹uestè€»Â¿ä‚¿Ä€ciâŠâr;ì€€ğ’¾nÊ€;EdsvÓ´â›ââ¡Ó³;æ‹¹ot;æ‹µÄ€;vâ¦â§æ‹´;æ‹³Ä€;iİ·â®lde;ä„©Ç«â¸\0â¼cy;ä‘–lè€»Ã¯äƒ¯Ì€cfmosuâŒâ—âœâ¡â§âµÄ€iyâ‘â•rc;ä„µ;ä¹r;ì€€ğ”§ath;äˆ·pf;ì€€ğ•›Ç£â¬\0â±r;ì€€ğ’¿rcy;ä‘˜kcy;ä‘”Ğ€acfghjosâ‹â–â¢â§â­â±âµâ»ppaÄ€;vâ“â”äº;ä°Ä€eyâ›â dil;ä„·;äºr;ì€€ğ”¨reen;ä„¸cy;ä‘…cy;ä‘œpf;ì€€ğ•œcr;ì€€ğ“€à®€ABEHabcdefghjlmnoprstuvâ‘°â’â’†â’â’‘â”â”½â•šâ–€â™â™â™¥â™¹â™½âššâš²â›˜ââ¨â‹âŸ€â â ’Æ€artâ‘·â‘ºâ‘¼rÃ²à§†Ã²Î•ail;æ¤›arr;æ¤Ä€;gà¦”â’‹;æª‹ar;æ¥¢à¥£â’¥\0â’ª\0â’±\0\0\0\0\0â’µâ’º\0â“†â“ˆâ“\0â“¹ute;ä„ºmptyv;æ¦´raÃ®à¡Œbda;ä»gÆ€;dlà¢â“â“ƒ;æ¦‘Ã¥à¢;æª…uoè€»Â«ä‚«rĞ€;bfhlpstà¢™â“â“¦â“©â“«â“®â“±â“µÄ€;fà¢â“£s;æ¤Ÿs;æ¤Ã«â‰’p;æ†«l;æ¤¹im;æ¥³l;æ†¢Æ€;aeâ“¿â”€â”„æª«il;æ¤™Ä€;sâ”‰â”Šæª­;ì€€âª­ï¸€Æ€abrâ”•â”™â”rr;æ¤Œrk;æ²Ä€akâ”¢â”¬cÄ€ekâ”¨â”ª;ä»;ä›Ä€esâ”±â”³;æ¦‹lÄ€duâ”¹â”»;æ¦;æ¦È€aeuyâ•†â•‹â•–â•˜ron;ä„¾Ä€diâ•â•”il;ä„¼Ã¬à¢°Ã¢â”©;ä»È€cqrsâ•£â•¦â•­â•½a;æ¤¶uoÄ€;rà¸™á†Ä€duâ•²â•·har;æ¥§shar;æ¥‹h;æ†²Ê€;fgqsâ–‹â–Œà¦‰â—³â—¿æ‰¤tÊ€ahlrtâ–˜â–¤â–·â—‚â—¨rrowÄ€;tà¢™â–¡aÃ©â“¶arpoonÄ€duâ–¯â–´ownÂ»ÑšpÂ»à¥¦eftarrows;æ‡‡ightÆ€ahsâ—â—–â—rrowÄ€;sà£´à¢§arpoonÃ³à¾˜quigarroÃ·â‡°hreetimes;æ‹‹Æ€;qsâ–‹à¦“â—ºlanÃ´à¦¬Ê€;cdgsà¦¬â˜Šâ˜â˜â˜¨c;æª¨otÄ€;oâ˜”â˜•æ©¿Ä€;râ˜šâ˜›æª;æªƒÄ€;eâ˜¢â˜¥ì€€â‹šï¸€s;æª“Ê€adegsâ˜³â˜¹â˜½â™‰â™‹pproÃ¸â“†ot;æ‹–qÄ€gqâ™ƒâ™…Ã´à¦‰gtÃ²â’ŒÃ´à¦›iÃ­à¦²Æ€ilrâ™•à£¡â™šsht;æ¥¼;ì€€ğ”©Ä€;Eà¦œâ™£;æª‘Å¡â™©â™¶rÄ€duâ–²â™®Ä€;là¥¥â™³;æ¥ªlk;æ–„cy;ä‘™Ê€;achtà©ˆâšˆâš‹âš‘âš–rÃ²â—orneÃ²á´ˆard;æ¥«ri;æ—ºÄ€ioâšŸâš¤dot;ä…€ustÄ€;aâš¬âš­æ°cheÂ»âš­È€Eaesâš»âš½â›‰â›”;æ‰¨pÄ€;pâ›ƒâ›„æª‰roxÂ»â›„Ä€;qâ›â›æª‡Ä€;qâ›âš»im;æ‹¦Ğ€abnoptwzâ›©â›´â›·âœšâœ¯ââ‡âÄ€nrâ›®â›±g;æŸ¬r;æ‡½rÃ«à£gÆ€lmrâ›¿âœâœ”eftÄ€arà§¦âœ‡ightÃ¡à§²apsto;æŸ¼ightÃ¡à§½parrowÄ€lrâœ¥âœ©efÃ´â“­ight;æ†¬Æ€aflâœ¶âœ¹âœ½r;æ¦…;ì€€ğ•us;æ¨­imes;æ¨´Å¡â‹âst;æˆ—Ã¡áÆ€;efâ—â˜á €æ—ŠngeÂ»â˜arÄ€;lâ¤â¥ä€¨t;æ¦“Ê€achmtâ³â¶â¼â…â‡rÃ²à¢¨orneÃ²á¶ŒarÄ€;dà¾˜âƒ;æ¥­;æ€ri;æŠ¿Ì€achiqtâ˜âà©€â¢â®â»quo;æ€¹r;ì€€ğ“mÆ€;egà¦²âªâ¬;æª;æªÄ€buâ”ªâ³oÄ€;rà¸Ÿâ¹;æ€šrok;ä…‚è€<;cdhilqrà «âŸ’â˜¹âŸœâŸ âŸ¥âŸªâŸ°Ä€ciâŸ—âŸ™;æª¦r;æ©¹reÃ¥â—²mes;æ‹‰arr;æ¥¶uest;æ©»Ä€PiâŸµâŸ¹ar;æ¦–Æ€;efâ €à¤­á ›æ—ƒrÄ€duâ ‡â shar;æ¥Šhar;æ¥¦Ä€enâ —â ¡rtneqq;ì€€â‰¨ï¸€Ã…â Ü€Dacdefhilnopsuâ¡€â¡…â¢‚â¢â¢“â¢ â¢¥â¢¨â£šâ£¢â£¤àªƒâ£³â¤‚Dot;æˆºÈ€clprâ¡â¡’â¡£â¡½rè€»Â¯ä‚¯Ä€etâ¡—â¡™;æ™‚Ä€;eâ¡â¡Ÿæœ seÂ»â¡ŸÄ€;sá€»â¡¨toÈ€;dluá€»â¡³â¡·â¡»owÃ®ÒŒefÃ´à¤Ã°á‘ker;æ–®Ä€oyâ¢‡â¢Œmma;æ¨©;ä¼ash;æ€”asuredangleÂ»á˜¦r;ì€€ğ”ªo;æ„§Æ€cdnâ¢¯â¢´â£‰roè€»Âµä‚µÈ€;acdá‘¤â¢½â£€â£„sÃ´áš§ir;æ«°otè‚»Â·ÆµusÆ€;bdâ£’á¤ƒâ£“æˆ’Ä€;uá´¼â£˜;æ¨ªÅ£â£â£¡p;æ«›Ã²âˆ’Ã°àªÄ€dpâ£©â£®els;æŠ§f;ì€€ğ•Ä€ctâ£¸â£½r;ì€€ğ“‚posÂ»á–Æ€;lmâ¤‰â¤Šâ¤ä¼timap;æŠ¸à°€GLRVabcdefghijlmoprstuvwâ¥‚â¥“â¥¾â¦‰â¦˜â§šâ§©â¨•â¨šâ©˜â©âªƒâª•âª¤âª¨â¬„â¬‡â­„â­¿â®®â°´â±§â±¼â³©Ä€gtâ¥‡â¥‹;ì€€â‹™Ì¸Ä€;vâ¥à¯ì€€â‰«âƒ’Æ€eltâ¥šâ¥²â¥¶ftÄ€arâ¥¡â¥§rrow;æ‡ightarrow;æ‡;ì€€â‹˜Ì¸Ä€;vâ¥»à±‡ì€€â‰ªâƒ’ightarrow;æ‡Ä€Ddâ¦â¦“ash;æŠ¯ash;æŠ®Ê€bcnptâ¦£â¦§â¦¬â¦±â§ŒlaÂ»Ëute;ä…„g;ì€€âˆ âƒ’Ê€;Eiopà¶„â¦¼â§€â§…â§ˆ;ì€€â©°Ì¸d;ì€€â‰‹Ì¸s;ä…‰roÃ¸à¶„urÄ€;aâ§“â§”æ™®lÄ€;sâ§“à¬¸Ç³â§Ÿ\0â§£pè‚»Â à¬·mpÄ€;eà¯¹à°€Ê€aeouyâ§´â§¾â¨ƒâ¨â¨“Ç°â§¹\0â§»;æ©ƒon;ä…ˆdil;ä…†ngÄ€;dàµ¾â¨Šot;ì€€â©­Ì¸p;æ©‚;ä½ash;æ€“Î€;Aadqsxà®’â¨©â¨­â¨»â©â©…â©rr;æ‡—rÄ€hrâ¨³â¨¶k;æ¤¤Ä€;oá²á°ot;ì€€â‰Ì¸uiÃ¶à­£Ä€eiâ©Šâ©ar;æ¤¨Ã­à®˜istÄ€;sà® à®Ÿr;ì€€ğ”«È€Eestà¯…â©¦â©¹â©¼Æ€;qsà®¼â©­à¯¡Æ€;qsà®¼à¯…â©´lanÃ´à¯¢iÃ­à¯ªÄ€;rà®¶âªÂ»à®·Æ€AapâªŠâªâª‘rÃ²â¥±rr;æ†®ar;æ«²Æ€;svà¾âªœà¾ŒÄ€;dâª¡âª¢æ‹¼;æ‹ºcy;ä‘šÎ€AEadestâª·âªºâª¾â«‚â«…â«¶â«¹rÃ²â¥¦;ì€€â‰¦Ì¸rr;æ†šr;æ€¥È€;fqsà°»â«â«£â«¯tÄ€arâ«”â«™rroÃ·â«ightarroÃ·âªÆ€;qsà°»âªºâ«ªlanÃ´à±•Ä€;sà±•â«´Â»à°¶iÃ­à±Ä€;rà°µâ«¾iÄ€;eà°šà°¥iÃ¤à¶Ä€ptâ¬Œâ¬‘f;ì€€ğ•Ÿè†€Â¬;inâ¬™â¬šâ¬¶ä‚¬nÈ€;Edvà®‰â¬¤â¬¨â¬®;ì€€â‹¹Ì¸ot;ì€€â‹µÌ¸Ç¡à®‰â¬³â¬µ;æ‹·;æ‹¶iÄ€;và²¸â¬¼Ç¡à²¸â­â­ƒ;æ‹¾;æ‹½Æ€aorâ­‹â­£â­©rÈ€;astà­»â­•â­šâ­ŸlleÃ¬à­»l;ì€€â«½âƒ¥;ì€€âˆ‚Ì¸lint;æ¨”Æ€;ceà²’â­°â­³uÃ¥à²¥Ä€;cà²˜â­¸Ä€;eà²’â­½Ã±à²˜È€Aaitâ®ˆâ®‹â®â®§rÃ²â¦ˆrrÆ€;cwâ®”â®•â®™æ†›;ì€€â¤³Ì¸;ì€€â†Ì¸ghtarrowÂ»â®•riÄ€;eà³‹à³–Î€chimpquâ®½â¯â¯™â¬„à­¸â¯¤â¯¯È€;cerà´²â¯†à´·â¯‰uÃ¥àµ…;ì€€ğ“ƒortÉ­â¬…\0\0â¯–arÃ¡â­–mÄ€;eàµ®â¯ŸÄ€;qàµ´àµ³suÄ€bpâ¯«â¯­Ã¥à³¸Ã¥à´‹Æ€bcpâ¯¶â°‘â°™È€;Eesâ¯¿â°€à´¢â°„æŠ„;ì€€â«…Ì¸etÄ€;eà´›â°‹qÄ€;qà´£â°€cÄ€;eà´²â°—Ã±à´¸È€;Eesâ°¢â°£àµŸâ°§æŠ…;ì€€â«†Ì¸etÄ€;eàµ˜â°®qÄ€;qàµ â°£È€gilrâ°½â°¿â±…â±‡Ã¬à¯—ldeè€»Ã±äƒ±Ã§à±ƒiangleÄ€lrâ±’â±œeftÄ€;eà°šâ±šÃ±à°¦ightÄ€;eà³‹â±¥Ã±à³—Ä€;mâ±¬â±­ä½Æ€;esâ±´â±µâ±¹ä€£ro;æ„–p;æ€‡Ò€DHadgilrsâ²â²”â²™â²â²£â²°â²¶â³“â³£ash;æŠ­arr;æ¤„p;ì€€â‰âƒ’ash;æŠ¬Ä€etâ²¨â²¬;ì€€â‰¥âƒ’;ì€€>âƒ’nfin;æ§Æ€Aetâ²½â³â³…rr;æ¤‚;ì€€â‰¤âƒ’Ä€;râ³Šâ³ì€€<âƒ’ie;ì€€âŠ´âƒ’Ä€Atâ³˜â³œrr;æ¤ƒrie;ì€€âŠµâƒ’im;ì€€âˆ¼âƒ’Æ€Aanâ³°â³´â´‚rr;æ‡–rÄ€hrâ³ºâ³½k;æ¤£Ä€;oá§á¥ear;æ¤§á‰“áª•\0\0\0\0\0\0\0\0\0\0\0\0\0â´­\0â´¸âµˆâµ âµ¥âµ²â¶„á¬‡\0\0â¶â¶«\0â·ˆâ·\0â·œâ¸™â¸«â¸¾â¹ƒÄ€csâ´±áª—uteè€»Ã³äƒ³Ä€iyâ´¼âµ…rÄ€;cáªâµ‚è€»Ã´äƒ´;ä¾Ê€abiosáª âµ’âµ—Çˆâµšlac;ä…‘v;æ¨¸old;æ¦¼lig;ä…“Ä€crâµ©âµ­ir;æ¦¿;ì€€ğ”¬Í¯âµ¹\0\0âµ¼\0â¶‚n;ä‹›aveè€»Ã²äƒ²;æ§Ä€bmâ¶ˆà·´ar;æ¦µÈ€acitâ¶•â¶˜â¶¥â¶¨rÃ²áª€Ä€irâ¶â¶ r;æ¦¾oss;æ¦»nÃ¥à¹’;æ§€Æ€aeiâ¶±â¶µâ¶¹cr;ä…ga;ä‰Æ€cdnâ·€â·…Çron;ä¿;æ¦¶pf;ì€€ğ• Æ€aelâ·”â·—Ç’r;æ¦·rp;æ¦¹Î€;adiosvâ·ªâ·«â·®â¸ˆâ¸â¸â¸–æˆ¨rÃ²áª†È€;efmâ··â·¸â¸‚â¸…æ©rÄ€;oâ·¾â·¿æ„´fÂ»â·¿è€»Âªä‚ªè€»Âºä‚ºgof;æŠ¶r;æ©–lope;æ©—;æ©›Æ€cloâ¸Ÿâ¸¡â¸§Ã²â¸ashè€»Ã¸äƒ¸l;æŠ˜iÅ¬â¸¯â¸´deè€»ÃµäƒµesÄ€;aÇ›â¸ºs;æ¨¶mlè€»Ã¶äƒ¶bar;æŒ½à«¡â¹\0â¹½\0âº€âº\0âº¢âº¹\0\0â»‹àºœ\0â¼“\0\0â¼«â¾¼\0â¿ˆrÈ€;astĞƒâ¹§â¹²àº…è„€Â¶;lâ¹­â¹®ä‚¶leÃ¬ĞƒÉ©â¹¸\0\0â¹»m;æ«³;æ«½y;ä¿rÊ€cimptâº‹âºâº“á¡¥âº—nt;ä€¥od;ä€®il;æ€°enk;æ€±r;ì€€ğ”­Æ€imoâº¨âº°âº´Ä€;vâº­âº®ä†;ä•maÃ´à©¶ne;æ˜Æ€;tvâº¿â»€â»ˆä€chforkÂ»á¿½;ä–Ä€auâ»â»ŸnÄ€ckâ»•â»kÄ€;hâ‡´â»›;æ„Ã¶â‡´sÒ€;abcdemstâ»³â»´á¤ˆâ»¹â»½â¼„â¼†â¼Šâ¼ä€«cir;æ¨£ir;æ¨¢Ä€ouáµ€â¼‚;æ¨¥;æ©²nè‚»Â±àºim;æ¨¦wo;æ¨§Æ€ipuâ¼™â¼ â¼¥ntint;æ¨•f;ì€€ğ•¡ndè€»Â£ä‚£Ô€;Eaceinosuà»ˆâ¼¿â½â½„â½‡â¾â¾‰â¾’â½¾â¾¶;æª³p;æª·uÃ¥à»™Ä€;cà»â½ŒÌ€;acensà»ˆâ½™â½Ÿâ½¦â½¨â½¾pproÃ¸â½ƒurlyeÃ±à»™Ã±à»Æ€aesâ½¯â½¶â½ºpprox;æª¹qq;æªµim;æ‹¨iÃ­à»ŸmeÄ€;sâ¾ˆàº®æ€²Æ€Easâ½¸â¾â½ºÃ°â½µÆ€dfpà»¬â¾™â¾¯Æ€alsâ¾ â¾¥â¾ªlar;æŒ®ine;æŒ’urf;æŒ“Ä€;tà»»â¾´Ã¯à»»rel;æŠ°Ä€ciâ¿€â¿…r;ì€€ğ“…;äˆncsp;æ€ˆÌ€fiopsuâ¿šâ‹¢â¿Ÿâ¿¥â¿«â¿±r;ì€€ğ”®pf;ì€€ğ•¢rime;æ—cr;ì€€ğ“†Æ€aeoâ¿¸ã€‰ã€“tÄ€eiâ¿¾ã€…rnionÃ³Ú°nt;æ¨–stÄ€;eã€ã€‘ä€¿Ã±á¼™Ã´à¼”àª€ABHabcdefhilmnoprstuxã€ã‘ã•ã™ãƒ ã„ã„«ã…‡ã…¢ã…²ã†ãˆ†ãˆ•ãˆ¤ãˆ©ã‰˜ã‰®ã‰²ãŠãŠ°ãŠ·Æ€artã‡ãŠãŒrÃ²á‚³Ã²Ïail;æ¤œarÃ²á±¥ar;æ¥¤Î€cdenqrtã¨ãµã¸ã¿ã‚ã‚”ãƒŒÄ€euã­ã±;ì€€âˆ½Ì±te;ä…•iÃ£á…®mptyv;æ¦³gÈ€;delà¿‘ã‚‰ã‚‹ã‚;æ¦’;æ¦¥Ã¥à¿‘uoè€»Â»ä‚»rÖ€;abcfhlpstwà¿œã‚¬ã‚¯ã‚·ã‚¹ã‚¼ã‚¾ãƒ€ãƒƒãƒ‡ãƒŠp;æ¥µÄ€;fà¿ ã‚´s;æ¤ ;æ¤³s;æ¤Ã«â‰Ã°âœ®l;æ¥…im;æ¥´l;æ†£;æ†Ä€aiãƒ‘ãƒ•il;æ¤šoÄ€;nãƒ›ãƒœæˆ¶alÃ³à¼Æ€abrãƒ§ãƒªãƒ®rÃ²áŸ¥rk;æ³Ä€akãƒ³ãƒ½cÄ€ekãƒ¹ãƒ»;ä½;äÄ€esã„‚ã„„;æ¦ŒlÄ€duã„Šã„Œ;æ¦;æ¦È€aeuyã„—ã„œã„§ã„©ron;ä…™Ä€diã„¡ã„¥il;ä…—Ã¬à¿²Ã¢ãƒº;ä‘€È€clqsã„´ã„·ã„½ã…„a;æ¤·dhar;æ¥©uoÄ€;rÈÈh;æ†³Æ€acgã…ã…Ÿà½„lÈ€;ipsà½¸ã…˜ã…›á‚œnÃ¥á‚»arÃ´à¾©t;æ–­Æ€ilrã…©á€£ã…®sht;æ¥½;ì€€ğ”¯Ä€aoã…·ã††rÄ€duã…½ã…¿Â»Ñ»Ä€;lá‚‘ã†„;æ¥¬Ä€;vã†‹ã†Œä;ä±Æ€gnsã†•ã‡¹ã‡¼htÌ€ahlrstã†¤ã†°ã‡‚ã‡˜ã‡¤ã‡®rrowÄ€;tà¿œã†­aÃ©ãƒˆarpoonÄ€duã†»ã†¿owÃ®ã…¾pÂ»á‚’eftÄ€ahã‡Šã‡rrowÃ³à¿ªarpoonÃ³Õ‘ightarrows;æ‡‰quigarroÃ·ãƒ‹hreetimes;æ‹Œg;ä‹šingdotseÃ±á¼²Æ€ahmãˆãˆãˆ“rÃ²à¿ªaÃ²Õ‘;æ€oustÄ€;aãˆãˆŸæ±cheÂ»ãˆŸmid;æ«®È€abptãˆ²ãˆ½ã‰€ã‰’Ä€nrãˆ·ãˆºg;æŸ­r;æ‡¾rÃ«á€ƒÆ€aflã‰‡ã‰Šã‰r;æ¦†;ì€€ğ•£us;æ¨®imes;æ¨µÄ€apã‰ã‰§rÄ€;gã‰£ã‰¤ä€©t;æ¦”olint;æ¨’arÃ²ã‡£È€achqã‰»ãŠ€á‚¼ãŠ…quo;æ€ºr;ì€€ğ“‡Ä€buãƒ»ãŠŠoÄ€;rÈ”È“Æ€hirãŠ—ãŠ›ãŠ reÃ¥ã‡¸mes;æ‹ŠiÈ€;eflãŠªá™á ¡ãŠ«æ–¹tri;æ§luhar;æ¥¨;æ„àµ¡ã‹•ã‹›ã‹ŸãŒ¬ãŒ¸ã±\0ãºã¤\0\0ã¬ã°\0ã¨ã‘ˆã‘šã’­ã’±ã“Šã“±\0ã˜–\0\0ã˜³cute;ä…›quÃ¯âºÔ€;Eaceinpsyá‡­ã‹³ã‹µã‹¿ãŒ‚ãŒ‹ãŒãŒŸãŒ¦ãŒ©;æª´Ç°ã‹º\0ã‹¼;æª¸on;ä…¡uÃ¥á‡¾Ä€;dá‡³ãŒ‡il;ä…Ÿrc;ä…Æ€EasãŒ–ãŒ˜ãŒ›;æª¶p;æªºim;æ‹©olint;æ¨“iÃ­áˆ„;ä‘otÆ€;beãŒ´áµ‡ãŒµæ‹…;æ©¦Î€Aacmstxã†ãŠã—ã›ãã£ã­rr;æ‡˜rÄ€hrãã’Ã«âˆ¨Ä€;oà¨¶à¨´tè€»Â§ä‚§i;ä€»war;æ¤©mÄ€inã©Ã°nuÃ³Ã±t;æœ¶rÄ€;oã¶â•ì€€ğ”°È€acoyã‚ã†ã‘ã rp;æ™¯Ä€hyã‹ãcy;ä‘‰;ä‘ˆrtÉ­ã™\0\0ãœiÃ¤á‘¤araÃ¬â¹¯è€»Â­ä‚­Ä€gmã¨ã´maÆ€;fvã±ã²ã²äƒ;ä‚Ğ€;deglnpráŠ«ã…ã‰ãã–ãã¡ã¦ot;æ©ªÄ€;qáŠ±áŠ°Ä€;Eã“ã”æª;æª Ä€;Eã›ãœæª;æªŸe;æ‰†lus;æ¨¤arr;æ¥²arÃ²á„½È€aeitã¸ãˆãã—Ä€lsã½ã„lsetmÃ©ãªhp;æ¨³parsl;æ§¤Ä€dlá‘£ã”e;æŒ£Ä€;eãœãæªªÄ€;sã¢ã£æª¬;ì€€âª¬ï¸€Æ€flpã®ã³ã‘‚tcy;ä‘ŒÄ€;bã¸ã¹ä€¯Ä€;aã¾ã¿æ§„r;æŒ¿f;ì€€ğ•¤aÄ€drã‘Ğ‚esÄ€;uã‘”ã‘•æ™ itÂ»ã‘•Æ€csuã‘ ã‘¹ã’ŸÄ€auã‘¥ã‘¯pÄ€;sá†ˆã‘«;ì€€âŠ“ï¸€pÄ€;sá†´ã‘µ;ì€€âŠ”ï¸€uÄ€bpã‘¿ã’Æ€;esá†—á†œã’†etÄ€;eá†—ã’Ã±á†Æ€;esá†¨á†­ã’–etÄ€;eá†¨ã’Ã±á†®Æ€;afá…»ã’¦Ö°rÅ¥ã’«Ö±Â»á…¼arÃ²á…ˆÈ€cemtã’¹ã’¾ã“‚ã“…r;ì€€ğ“ˆtmÃ®Ã±iÃ¬ã•arÃ¦á†¾Ä€arã“ã“•rÄ€;fã“”á¿æ˜†Ä€anã“šã“­ightÄ€epã“£ã“ªpsiloÃ®á» hÃ©âº¯sÂ»â¡’Ê€bcmnpã“»ã•áˆ‰ã–‹ã–Ò€;Edemnprsã”ã”ã”‘ã”•ã”ã”£ã”¬ã”±ã”¶æŠ‚;æ«…ot;æª½Ä€;dá‡šã”šot;æ«ƒult;æ«Ä€Eeã”¨ã”ª;æ«‹;æŠŠlus;æª¿arr;æ¥¹Æ€eiuã”½ã•’ã••tÆ€;enã”ã•…ã•‹qÄ€;qá‡šã”eqÄ€;qã”«ã”¨m;æ«‡Ä€bpã•šã•œ;æ«•;æ«“cÌ€;acensá‡­ã•¬ã•²ã•¹ã•»ãŒ¦pproÃ¸ã‹ºurlyeÃ±á‡¾Ã±á‡³Æ€aesã–‚ã–ˆãŒ›pproÃ¸ãŒšqÃ±ãŒ—g;æ™ªÚ€123;Edehlmnpsã–©ã–¬ã–¯áˆœã–²ã–´ã—€ã—‰ã—•ã—šã—Ÿã—¨ã—­è€»Â¹ä‚¹è€»Â²ä‚²è€»Â³ä‚³;æ«†Ä€osã–¹ã–¼t;æª¾ub;æ«˜Ä€;dáˆ¢ã—…ot;æ«„sÄ€ouã—ã—’l;æŸ‰b;æ«—arr;æ¥»ult;æ«‚Ä€Eeã—¤ã—¦;æ«Œ;æŠ‹lus;æ«€Æ€eiuã—´ã˜‰ã˜ŒtÆ€;enáˆœã—¼ã˜‚qÄ€;qáˆ¢ã–²eqÄ€;qã—§ã—¤m;æ«ˆÄ€bpã˜‘ã˜“;æ«”;æ«–Æ€Aanã˜œã˜ ã˜­rr;æ‡™rÄ€hrã˜¦ã˜¨Ã«âˆ®Ä€;oà¨«à¨©war;æ¤ªligè€»ÃŸäƒŸà¯¡ã™‘ã™ã™ á‹ã™³ã™¹\0ã™¾ã›‚\0\0\0\0\0ã››ãœƒ\0ãœ‰ã¬\0\0\0ã‡É²ã™–\0\0ã™›get;æŒ–;ä„rÃ«à¹ŸÆ€aeyã™¦ã™«ã™°ron;ä…¥dil;ä…£;ä‘‚lrec;æŒ•r;ì€€ğ”±È€eikoãš†ãšãšµãš¼Ç²ãš‹\0ãš‘eÄ€4fáŠ„áŠaÆ€;svãš˜ãš™ãš›ä¸ym;ä‘Ä€cnãš¢ãš²kÄ€asãš¨ãš®pproÃ¸á‹imÂ»áŠ¬sÃ°áŠÄ€asãšºãš®Ã°á‹rnè€»Ã¾äƒ¾Ç¬ÌŸã›†â‹§esè†€Ã—;bdã›ã›ã›˜äƒ—Ä€;aá¤ã›•r;æ¨±;æ¨°Æ€epsã›¡ã›£ãœ€Ã¡â©È€;bcfÒ†ã›¬ã›°ã›´ot;æŒ¶ir;æ«±Ä€;oã›¹ã›¼ì€€ğ•¥rk;æ«šÃ¡ã¢rime;æ€´Æ€aipãœãœ’ã¤dÃ¥á‰ˆÎ€adempstãœ¡ãã€ã‘ã—ãœãŸngleÊ€;dlqrãœ°ãœ±ãœ¶ã€ã‚æ–µownÂ»á¶»eftÄ€;eâ €ãœ¾Ã±à¤®;æ‰œightÄ€;eãŠªã‹Ã±ášot;æ—¬inus;æ¨ºlus;æ¨¹b;æ§ime;æ¨»ezium;æ¢Æ€chtã²ã½ãÄ€ryã·ã»;ì€€ğ“‰;ä‘†cy;ä‘›rok;ä…§Ä€ioã‹ãxÃ´á·headÄ€lrã—ã eftarroÃ·à¡ightarrowÂ»à½à¤€AHabcdfghlmoprstuwãŸãŸ“ãŸ—ãŸ¤ãŸ°ãŸ¼ã ã œã £ã ´ã¡‘ã¡ã¡«ã¢©ã£Œã£’ã£ªã£¶rÃ²Ï­ar;æ¥£Ä€crãŸœãŸ¢uteè€»ÃºäƒºÃ²á…rÇ£ãŸª\0ãŸ­y;ä‘ve;ä…­Ä€iyãŸµãŸºrcè€»Ã»äƒ»;ä‘ƒÆ€abhã ƒã †ã ‹rÃ²á­lac;ä…±aÃ²áƒÄ€irã “ã ˜sht;æ¥¾;ì€€ğ”²raveè€»Ã¹äƒ¹Å¡ã §ã ±rÄ€lrã ¬ã ®Â»à¥—Â»á‚ƒlk;æ–€Ä€ctã ¹ã¡É¯ã ¿\0\0ã¡ŠrnÄ€;eã¡…ã¡†æŒœrÂ»ã¡†op;æŒri;æ—¸Ä€alã¡–ã¡šcr;ä…«è‚»Â¨Í‰Ä€gpã¡¢ã¡¦on;ä…³f;ì€€ğ•¦Ì€adhlsuá…‹ã¡¸ã¡½á²ã¢‘ã¢ ownÃ¡á³arpoonÄ€lrã¢ˆã¢ŒefÃ´ã ­ighÃ´ã ¯iÆ€;hlã¢™ã¢šã¢œä…Â»áºonÂ»ã¢šparrows;æ‡ˆÆ€citã¢°ã£„ã£ˆÉ¯ã¢¶\0\0ã£rnÄ€;eã¢¼ã¢½æŒrÂ»ã¢½op;æŒng;ä…¯ri;æ—¹cr;ì€€ğ“ŠÆ€dirã£™ã£ã£¢ot;æ‹°lde;ä…©iÄ€;fãœ°ã£¨Â»á “Ä€amã£¯ã£²rÃ²ã¢¨lè€»Ã¼äƒ¼angle;æ¦§Ş€ABDacdeflnoprszã¤œã¤Ÿã¤©ã¤­ã¦µã¦¸ã¦½ã§Ÿã§¤ã§¨ã§³ã§¹ã§½ã¨ã¨ rÃ²Ï·arÄ€;vã¤¦ã¤§æ«¨;æ«©asÃ¨Ï¡Ä€nrã¤²ã¤·grt;æ¦œÎ€eknprstã“£ã¥†ã¥‹ã¥’ã¥ã¥¤ã¦–appÃ¡â•othinÃ§áº–Æ€hirã“«â»ˆã¥™opÃ´â¾µÄ€;há·ã¥¢Ã¯ã†Ä€iuã¥©ã¥­gmÃ¡ã³Ä€bpã¥²ã¦„setneqÄ€;qã¥½ã¦€ì€€âŠŠï¸€;ì€€â«‹ï¸€setneqÄ€;qã¦ã¦’ì€€âŠ‹ï¸€;ì€€â«Œï¸€Ä€hrã¦›ã¦ŸetÃ¡ãšœiangleÄ€lrã¦ªã¦¯eftÂ»à¤¥ightÂ»á‘y;ä²ashÂ»á€¶Æ€elrã§„ã§’ã§—Æ€;beâ·ªã§‹ã§ar;æŠ»q;æ‰šlip;æ‹®Ä€btã§œá‘¨aÃ²á‘©r;ì€€ğ”³trÃ©ã¦®suÄ€bpã§¯ã§±Â»à´œÂ»àµ™pf;ì€€ğ•§roÃ°à»»trÃ©ã¦´Ä€cuã¨†ã¨‹r;ì€€ğ“‹Ä€bpã¨ã¨˜nÄ€Eeã¦€ã¨–Â»ã¥¾nÄ€Eeã¦’ã¨Â»ã¦igzag;æ¦šÎ€cefoprsã¨¶ã¨»ã©–ã©›ã©”ã©¡ã©ªirc;ä…µÄ€diã©€ã©‘Ä€bgã©…ã©‰ar;æ©ŸeÄ€;qá—ºã©;æ‰™erp;æ„˜r;ì€€ğ”´pf;ì€€ğ•¨Ä€;eá‘¹ã©¦atÃ¨á‘¹cr;ì€€ğ“Œà«£áãª‡\0ãª‹\0ãªãª›\0\0ãªãª¨ãª«ãª¯\0\0ã«ƒã«\0ã«˜áŸœáŸŸtrÃ©áŸ‘r;ì€€ğ”µÄ€Aaãª”ãª—rÃ²ÏƒrÃ²à§¶;ä¾Ä€Aaãª¡ãª¤rÃ²Î¸rÃ²à§«aÃ°âœ“is;æ‹»Æ€dptá¤ãªµãª¾Ä€flãªºá©;ì€€ğ•©imÃ¥á²Ä€Aaã«‡ã«ŠrÃ²ÏrÃ²à¨Ä€cqã«’á¸r;ì€€ğ“Ä€ptáŸ–ã«œrÃ©áŸ”Ğ€acefiosuã«°ã«½ã¬ˆã¬Œã¬‘ã¬•ã¬›ã¬¡cÄ€uyã«¶ã«»teè€»Ã½äƒ½;ä‘Ä€iyã¬‚ã¬†rc;ä…·;ä‘‹nè€»Â¥ä‚¥r;ì€€ğ”¶cy;ä‘—pf;ì€€ğ•ªcr;ì€€ğ“Ä€cmã¬¦ã¬©y;ä‘lè€»Ã¿äƒ¿Ô€acdefhioswã­‚ã­ˆã­”ã­˜ã­¤ã­©ã­­ã­´ã­ºã®€cute;ä…ºÄ€ayã­ã­’ron;ä…¾;ä·ot;ä…¼Ä€etã­ã­¡trÃ¦á•Ÿa;ä¶r;ì€€ğ”·cy;ä¶grarr;æ‡pf;ì€€ğ•«cr;ì€€ğ“Ä€jnã®…ã®‡;æ€j;æ€Œ'.split("").map(function(n){return n.charCodeAt(0)}))),Ni}var Di={},Ya;function o0(){return Ya||(Ya=1,Object.defineProperty(Di,"__esModule",{value:!0}),Di.default=new Uint16Array("È€aglq	\x1BÉ­\0\0p;ä€¦os;ä€§t;ä€¾t;ä€¼uot;ä€¢".split("").map(function(n){return n.charCodeAt(0)}))),Di}var ao={},$a;function Qa(){return $a||($a=1,(function(n){var e;Object.defineProperty(n,"__esModule",{value:!0}),n.replaceCodePoint=n.fromCodePoint=void 0;var t=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);n.fromCodePoint=(e=String.fromCodePoint)!==null&&e!==void 0?e:function(s){var o="";return s>65535&&(s-=65536,o+=String.fromCharCode(s>>>10&1023|55296),s=56320|s&1023),o+=String.fromCharCode(s),o};function r(s){var o;return s>=55296&&s<=57343||s>1114111?65533:(o=t.get(s))!==null&&o!==void 0?o:s}n.replaceCodePoint=r;function i(s){return(0,n.fromCodePoint)(r(s))}n.default=i})(ao)),ao}var Za;function fs(){return Za||(Za=1,(function(n){var e=Ft&&Ft.__createBinding||(Object.create?(function(T,A,R,D){D===void 0&&(D=R);var M=Object.getOwnPropertyDescriptor(A,R);(!M||("get"in M?!A.__esModule:M.writable||M.configurable))&&(M={enumerable:!0,get:function(){return A[R]}}),Object.defineProperty(T,D,M)}):(function(T,A,R,D){D===void 0&&(D=R),T[D]=A[R]})),t=Ft&&Ft.__setModuleDefault||(Object.create?(function(T,A){Object.defineProperty(T,"default",{enumerable:!0,value:A})}):function(T,A){T.default=A}),r=Ft&&Ft.__importStar||function(T){if(T&&T.__esModule)return T;var A={};if(T!=null)for(var R in T)R!=="default"&&Object.prototype.hasOwnProperty.call(T,R)&&e(A,T,R);return t(A,T),A},i=Ft&&Ft.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(n,"__esModule",{value:!0}),n.decodeXML=n.decodeHTMLStrict=n.decodeHTMLAttribute=n.decodeHTML=n.determineBranch=n.EntityDecoder=n.DecodingMode=n.BinTrieFlags=n.fromCodePoint=n.replaceCodePoint=n.decodeCodePoint=n.xmlDecodeTree=n.htmlDecodeTree=void 0;var s=i(s0());n.htmlDecodeTree=s.default;var o=i(o0());n.xmlDecodeTree=o.default;var u=r(Qa());n.decodeCodePoint=u.default;var a=Qa();Object.defineProperty(n,"replaceCodePoint",{enumerable:!0,get:function(){return a.replaceCodePoint}}),Object.defineProperty(n,"fromCodePoint",{enumerable:!0,get:function(){return a.fromCodePoint}});var l;(function(T){T[T.NUM=35]="NUM",T[T.SEMI=59]="SEMI",T[T.EQUALS=61]="EQUALS",T[T.ZERO=48]="ZERO",T[T.NINE=57]="NINE",T[T.LOWER_A=97]="LOWER_A",T[T.LOWER_F=102]="LOWER_F",T[T.LOWER_X=120]="LOWER_X",T[T.LOWER_Z=122]="LOWER_Z",T[T.UPPER_A=65]="UPPER_A",T[T.UPPER_F=70]="UPPER_F",T[T.UPPER_Z=90]="UPPER_Z"})(l||(l={}));var c=32,h;(function(T){T[T.VALUE_LENGTH=49152]="VALUE_LENGTH",T[T.BRANCH_LENGTH=16256]="BRANCH_LENGTH",T[T.JUMP_TABLE=127]="JUMP_TABLE"})(h=n.BinTrieFlags||(n.BinTrieFlags={}));function f(T){return T>=l.ZERO&&T<=l.NINE}function d(T){return T>=l.UPPER_A&&T<=l.UPPER_F||T>=l.LOWER_A&&T<=l.LOWER_F}function p(T){return T>=l.UPPER_A&&T<=l.UPPER_Z||T>=l.LOWER_A&&T<=l.LOWER_Z||f(T)}function g(T){return T===l.EQUALS||p(T)}var b;(function(T){T[T.EntityStart=0]="EntityStart",T[T.NumericStart=1]="NumericStart",T[T.NumericDecimal=2]="NumericDecimal",T[T.NumericHex=3]="NumericHex",T[T.NamedEntity=4]="NamedEntity"})(b||(b={}));var m;(function(T){T[T.Legacy=0]="Legacy",T[T.Strict=1]="Strict",T[T.Attribute=2]="Attribute"})(m=n.DecodingMode||(n.DecodingMode={}));var w=(function(){function T(A,R,D){this.decodeTree=A,this.emitCodePoint=R,this.errors=D,this.state=b.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=m.Strict}return T.prototype.startEntity=function(A){this.decodeMode=A,this.state=b.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1},T.prototype.write=function(A,R){switch(this.state){case b.EntityStart:return A.charCodeAt(R)===l.NUM?(this.state=b.NumericStart,this.consumed+=1,this.stateNumericStart(A,R+1)):(this.state=b.NamedEntity,this.stateNamedEntity(A,R));case b.NumericStart:return this.stateNumericStart(A,R);case b.NumericDecimal:return this.stateNumericDecimal(A,R);case b.NumericHex:return this.stateNumericHex(A,R);case b.NamedEntity:return this.stateNamedEntity(A,R)}},T.prototype.stateNumericStart=function(A,R){return R>=A.length?-1:(A.charCodeAt(R)|c)===l.LOWER_X?(this.state=b.NumericHex,this.consumed+=1,this.stateNumericHex(A,R+1)):(this.state=b.NumericDecimal,this.stateNumericDecimal(A,R))},T.prototype.addToNumericResult=function(A,R,D,M){if(R!==D){var q=D-R;this.result=this.result*Math.pow(M,q)+parseInt(A.substr(R,q),M),this.consumed+=q}},T.prototype.stateNumericHex=function(A,R){for(var D=R;R<A.length;){var M=A.charCodeAt(R);if(f(M)||d(M))R+=1;else return this.addToNumericResult(A,D,R,16),this.emitNumericEntity(M,3)}return this.addToNumericResult(A,D,R,16),-1},T.prototype.stateNumericDecimal=function(A,R){for(var D=R;R<A.length;){var M=A.charCodeAt(R);if(f(M))R+=1;else return this.addToNumericResult(A,D,R,10),this.emitNumericEntity(M,2)}return this.addToNumericResult(A,D,R,10),-1},T.prototype.emitNumericEntity=function(A,R){var D;if(this.consumed<=R)return(D=this.errors)===null||D===void 0||D.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(A===l.SEMI)this.consumed+=1;else if(this.decodeMode===m.Strict)return 0;return this.emitCodePoint((0,u.replaceCodePoint)(this.result),this.consumed),this.errors&&(A!==l.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed},T.prototype.stateNamedEntity=function(A,R){for(var D=this.decodeTree,M=D[this.treeIndex],q=(M&h.VALUE_LENGTH)>>14;R<A.length;R++,this.excess++){var j=A.charCodeAt(R);if(this.treeIndex=y(D,M,this.treeIndex+Math.max(1,q),j),this.treeIndex<0)return this.result===0||this.decodeMode===m.Attribute&&(q===0||g(j))?0:this.emitNotTerminatedNamedEntity();if(M=D[this.treeIndex],q=(M&h.VALUE_LENGTH)>>14,q!==0){if(j===l.SEMI)return this.emitNamedEntityData(this.treeIndex,q,this.consumed+this.excess);this.decodeMode!==m.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1},T.prototype.emitNotTerminatedNamedEntity=function(){var A,R=this,D=R.result,M=R.decodeTree,q=(M[D]&h.VALUE_LENGTH)>>14;return this.emitNamedEntityData(D,q,this.consumed),(A=this.errors)===null||A===void 0||A.missingSemicolonAfterCharacterReference(),this.consumed},T.prototype.emitNamedEntityData=function(A,R,D){var M=this.decodeTree;return this.emitCodePoint(R===1?M[A]&~h.VALUE_LENGTH:M[A+1],D),R===3&&this.emitCodePoint(M[A+2],D),D},T.prototype.end=function(){var A;switch(this.state){case b.NamedEntity:return this.result!==0&&(this.decodeMode!==m.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case b.NumericDecimal:return this.emitNumericEntity(0,2);case b.NumericHex:return this.emitNumericEntity(0,3);case b.NumericStart:return(A=this.errors)===null||A===void 0||A.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case b.EntityStart:return 0}},T})();n.EntityDecoder=w;function x(T){var A="",R=new w(T,function(D){return A+=(0,u.fromCodePoint)(D)});return function(M,q){for(var j=0,F=0;(F=M.indexOf("&",F))>=0;){A+=M.slice(j,F),R.startEntity(q);var _=R.write(M,F+1);if(_<0){j=F+R.end();break}j=F+_,F=_===0?j+1:j}var W=A+M.slice(j);return A="",W}}function y(T,A,R,D){var M=(A&h.BRANCH_LENGTH)>>7,q=A&h.JUMP_TABLE;if(M===0)return q!==0&&D===q?R:-1;if(q){var j=D-q;return j<0||j>=M?-1:T[R+j]-1}for(var F=R,_=F+M-1;F<=_;){var W=F+_>>>1,Y=T[W];if(Y<D)F=W+1;else if(Y>D)_=W-1;else return T[W+M]}return-1}n.determineBranch=y;var v=x(s.default),S=x(o.default);function k(T,A){return A===void 0&&(A=m.Legacy),v(T,A)}n.decodeHTML=k;function E(T){return v(T,m.Attribute)}n.decodeHTMLAttribute=E;function O(T){return v(T,m.Strict)}n.decodeHTMLStrict=O;function N(T){return S(T,m.Strict)}n.decodeXML=N})(Ft)),Ft}var el;function Zf(){return el||(el=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.QuoteType=void 0;var e=fs(),t;(function(f){f[f.Tab=9]="Tab",f[f.NewLine=10]="NewLine",f[f.FormFeed=12]="FormFeed",f[f.CarriageReturn=13]="CarriageReturn",f[f.Space=32]="Space",f[f.ExclamationMark=33]="ExclamationMark",f[f.Number=35]="Number",f[f.Amp=38]="Amp",f[f.SingleQuote=39]="SingleQuote",f[f.DoubleQuote=34]="DoubleQuote",f[f.Dash=45]="Dash",f[f.Slash=47]="Slash",f[f.Zero=48]="Zero",f[f.Nine=57]="Nine",f[f.Semi=59]="Semi",f[f.Lt=60]="Lt",f[f.Eq=61]="Eq",f[f.Gt=62]="Gt",f[f.Questionmark=63]="Questionmark",f[f.UpperA=65]="UpperA",f[f.LowerA=97]="LowerA",f[f.UpperF=70]="UpperF",f[f.LowerF=102]="LowerF",f[f.UpperZ=90]="UpperZ",f[f.LowerZ=122]="LowerZ",f[f.LowerX=120]="LowerX",f[f.OpeningSquareBracket=91]="OpeningSquareBracket"})(t||(t={}));var r;(function(f){f[f.Text=1]="Text",f[f.BeforeTagName=2]="BeforeTagName",f[f.InTagName=3]="InTagName",f[f.InSelfClosingTag=4]="InSelfClosingTag",f[f.BeforeClosingTagName=5]="BeforeClosingTagName",f[f.InClosingTagName=6]="InClosingTagName",f[f.AfterClosingTagName=7]="AfterClosingTagName",f[f.BeforeAttributeName=8]="BeforeAttributeName",f[f.InAttributeName=9]="InAttributeName",f[f.AfterAttributeName=10]="AfterAttributeName",f[f.BeforeAttributeValue=11]="BeforeAttributeValue",f[f.InAttributeValueDq=12]="InAttributeValueDq",f[f.InAttributeValueSq=13]="InAttributeValueSq",f[f.InAttributeValueNq=14]="InAttributeValueNq",f[f.BeforeDeclaration=15]="BeforeDeclaration",f[f.InDeclaration=16]="InDeclaration",f[f.InProcessingInstruction=17]="InProcessingInstruction",f[f.BeforeComment=18]="BeforeComment",f[f.CDATASequence=19]="CDATASequence",f[f.InSpecialComment=20]="InSpecialComment",f[f.InCommentLike=21]="InCommentLike",f[f.BeforeSpecialS=22]="BeforeSpecialS",f[f.SpecialStartSequence=23]="SpecialStartSequence",f[f.InSpecialTag=24]="InSpecialTag",f[f.BeforeEntity=25]="BeforeEntity",f[f.BeforeNumericEntity=26]="BeforeNumericEntity",f[f.InNamedEntity=27]="InNamedEntity",f[f.InNumericEntity=28]="InNumericEntity",f[f.InHexEntity=29]="InHexEntity"})(r||(r={}));function i(f){return f===t.Space||f===t.NewLine||f===t.Tab||f===t.FormFeed||f===t.CarriageReturn}function s(f){return f===t.Slash||f===t.Gt||i(f)}function o(f){return f>=t.Zero&&f<=t.Nine}function u(f){return f>=t.LowerA&&f<=t.LowerZ||f>=t.UpperA&&f<=t.UpperZ}function a(f){return f>=t.UpperA&&f<=t.UpperF||f>=t.LowerA&&f<=t.LowerF}var l;(function(f){f[f.NoValue=0]="NoValue",f[f.Unquoted=1]="Unquoted",f[f.Single=2]="Single",f[f.Double=3]="Double"})(l=n.QuoteType||(n.QuoteType={}));var c={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},h=(function(){function f(d,p){var g=d.xmlMode,b=g===void 0?!1:g,m=d.decodeEntities,w=m===void 0?!0:m;this.cbs=p,this.state=r.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=r.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=b,this.decodeEntities=w,this.entityTrie=b?e.xmlDecodeTree:e.htmlDecodeTree}return f.prototype.reset=function(){this.state=r.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=r.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},f.prototype.write=function(d){this.offset+=this.buffer.length,this.buffer=d,this.parse()},f.prototype.end=function(){this.running&&this.finish()},f.prototype.pause=function(){this.running=!1},f.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},f.prototype.getIndex=function(){return this.index},f.prototype.getSectionStart=function(){return this.sectionStart},f.prototype.stateText=function(d){d===t.Lt||!this.decodeEntities&&this.fastForwardTo(t.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=r.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&d===t.Amp&&(this.state=r.BeforeEntity)},f.prototype.stateSpecialStartSequence=function(d){var p=this.sequenceIndex===this.currentSequence.length,g=p?s(d):(d|32)===this.currentSequence[this.sequenceIndex];if(!g)this.isSpecial=!1;else if(!p){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=r.InTagName,this.stateInTagName(d)},f.prototype.stateInSpecialTag=function(d){if(this.sequenceIndex===this.currentSequence.length){if(d===t.Gt||i(d)){var p=this.index-this.currentSequence.length;if(this.sectionStart<p){var g=this.index;this.index=p,this.cbs.ontext(this.sectionStart,p),this.index=g}this.isSpecial=!1,this.sectionStart=p+2,this.stateInClosingTagName(d);return}this.sequenceIndex=0}(d|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===c.TitleEnd?this.decodeEntities&&d===t.Amp&&(this.state=r.BeforeEntity):this.fastForwardTo(t.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(d===t.Lt)},f.prototype.stateCDATASequence=function(d){d===c.Cdata[this.sequenceIndex]?++this.sequenceIndex===c.Cdata.length&&(this.state=r.InCommentLike,this.currentSequence=c.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=r.InDeclaration,this.stateInDeclaration(d))},f.prototype.fastForwardTo=function(d){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===d)return!0;return this.index=this.buffer.length+this.offset-1,!1},f.prototype.stateInCommentLike=function(d){d===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===c.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=r.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):d!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},f.prototype.isTagStartChar=function(d){return this.xmlMode?!s(d):u(d)},f.prototype.startSpecial=function(d,p){this.isSpecial=!0,this.currentSequence=d,this.sequenceIndex=p,this.state=r.SpecialStartSequence},f.prototype.stateBeforeTagName=function(d){if(d===t.ExclamationMark)this.state=r.BeforeDeclaration,this.sectionStart=this.index+1;else if(d===t.Questionmark)this.state=r.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(d)){var p=d|32;this.sectionStart=this.index,!this.xmlMode&&p===c.TitleEnd[2]?this.startSpecial(c.TitleEnd,3):this.state=!this.xmlMode&&p===c.ScriptEnd[2]?r.BeforeSpecialS:r.InTagName}else d===t.Slash?this.state=r.BeforeClosingTagName:(this.state=r.Text,this.stateText(d))},f.prototype.stateInTagName=function(d){s(d)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(d))},f.prototype.stateBeforeClosingTagName=function(d){i(d)||(d===t.Gt?this.state=r.Text:(this.state=this.isTagStartChar(d)?r.InClosingTagName:r.InSpecialComment,this.sectionStart=this.index))},f.prototype.stateInClosingTagName=function(d){(d===t.Gt||i(d))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.AfterClosingTagName,this.stateAfterClosingTagName(d))},f.prototype.stateAfterClosingTagName=function(d){(d===t.Gt||this.fastForwardTo(t.Gt))&&(this.state=r.Text,this.baseState=r.Text,this.sectionStart=this.index+1)},f.prototype.stateBeforeAttributeName=function(d){d===t.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=r.InSpecialTag,this.sequenceIndex=0):this.state=r.Text,this.baseState=this.state,this.sectionStart=this.index+1):d===t.Slash?this.state=r.InSelfClosingTag:i(d)||(this.state=r.InAttributeName,this.sectionStart=this.index)},f.prototype.stateInSelfClosingTag=function(d){d===t.Gt?(this.cbs.onselfclosingtag(this.index),this.state=r.Text,this.baseState=r.Text,this.sectionStart=this.index+1,this.isSpecial=!1):i(d)||(this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(d))},f.prototype.stateInAttributeName=function(d){(d===t.Eq||s(d))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.AfterAttributeName,this.stateAfterAttributeName(d))},f.prototype.stateAfterAttributeName=function(d){d===t.Eq?this.state=r.BeforeAttributeValue:d===t.Slash||d===t.Gt?(this.cbs.onattribend(l.NoValue,this.index),this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(d)):i(d)||(this.cbs.onattribend(l.NoValue,this.index),this.state=r.InAttributeName,this.sectionStart=this.index)},f.prototype.stateBeforeAttributeValue=function(d){d===t.DoubleQuote?(this.state=r.InAttributeValueDq,this.sectionStart=this.index+1):d===t.SingleQuote?(this.state=r.InAttributeValueSq,this.sectionStart=this.index+1):i(d)||(this.sectionStart=this.index,this.state=r.InAttributeValueNq,this.stateInAttributeValueNoQuotes(d))},f.prototype.handleInAttributeValue=function(d,p){d===p||!this.decodeEntities&&this.fastForwardTo(p)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(p===t.DoubleQuote?l.Double:l.Single,this.index),this.state=r.BeforeAttributeName):this.decodeEntities&&d===t.Amp&&(this.baseState=this.state,this.state=r.BeforeEntity)},f.prototype.stateInAttributeValueDoubleQuotes=function(d){this.handleInAttributeValue(d,t.DoubleQuote)},f.prototype.stateInAttributeValueSingleQuotes=function(d){this.handleInAttributeValue(d,t.SingleQuote)},f.prototype.stateInAttributeValueNoQuotes=function(d){i(d)||d===t.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(l.Unquoted,this.index),this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(d)):this.decodeEntities&&d===t.Amp&&(this.baseState=this.state,this.state=r.BeforeEntity)},f.prototype.stateBeforeDeclaration=function(d){d===t.OpeningSquareBracket?(this.state=r.CDATASequence,this.sequenceIndex=0):this.state=d===t.Dash?r.BeforeComment:r.InDeclaration},f.prototype.stateInDeclaration=function(d){(d===t.Gt||this.fastForwardTo(t.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=r.Text,this.sectionStart=this.index+1)},f.prototype.stateInProcessingInstruction=function(d){(d===t.Gt||this.fastForwardTo(t.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=r.Text,this.sectionStart=this.index+1)},f.prototype.stateBeforeComment=function(d){d===t.Dash?(this.state=r.InCommentLike,this.currentSequence=c.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=r.InDeclaration},f.prototype.stateInSpecialComment=function(d){(d===t.Gt||this.fastForwardTo(t.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=r.Text,this.sectionStart=this.index+1)},f.prototype.stateBeforeSpecialS=function(d){var p=d|32;p===c.ScriptEnd[3]?this.startSpecial(c.ScriptEnd,4):p===c.StyleEnd[3]?this.startSpecial(c.StyleEnd,4):(this.state=r.InTagName,this.stateInTagName(d))},f.prototype.stateBeforeEntity=function(d){this.entityExcess=1,this.entityResult=0,d===t.Number?this.state=r.BeforeNumericEntity:d===t.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=r.InNamedEntity,this.stateInNamedEntity(d))},f.prototype.stateInNamedEntity=function(d){if(this.entityExcess+=1,this.trieIndex=(0,e.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,d),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];var p=this.trieCurrent&e.BinTrieFlags.VALUE_LENGTH;if(p){var g=(p>>14)-1;if(!this.allowLegacyEntity()&&d!==t.Semi)this.trieIndex+=g;else{var b=this.index-this.entityExcess+1;b>this.sectionStart&&this.emitPartial(this.sectionStart,b),this.entityResult=this.trieIndex,this.trieIndex+=g,this.entityExcess=0,this.sectionStart=this.index+1,g===0&&this.emitNamedEntity()}}},f.prototype.emitNamedEntity=function(){if(this.state=this.baseState,this.entityResult!==0){var d=(this.entityTrie[this.entityResult]&e.BinTrieFlags.VALUE_LENGTH)>>14;switch(d){case 1:{this.emitCodePoint(this.entityTrie[this.entityResult]&~e.BinTrieFlags.VALUE_LENGTH);break}case 2:{this.emitCodePoint(this.entityTrie[this.entityResult+1]);break}case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}},f.prototype.stateBeforeNumericEntity=function(d){(d|32)===t.LowerX?(this.entityExcess++,this.state=r.InHexEntity):(this.state=r.InNumericEntity,this.stateInNumericEntity(d))},f.prototype.emitNumericEntity=function(d){var p=this.index-this.entityExcess-1,g=p+2+ +(this.state===r.InHexEntity);g!==this.index&&(p>this.sectionStart&&this.emitPartial(this.sectionStart,p),this.sectionStart=this.index+Number(d),this.emitCodePoint((0,e.replaceCodePoint)(this.entityResult))),this.state=this.baseState},f.prototype.stateInNumericEntity=function(d){d===t.Semi?this.emitNumericEntity(!0):o(d)?(this.entityResult=this.entityResult*10+(d-t.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},f.prototype.stateInHexEntity=function(d){d===t.Semi?this.emitNumericEntity(!0):o(d)?(this.entityResult=this.entityResult*16+(d-t.Zero),this.entityExcess++):a(d)?(this.entityResult=this.entityResult*16+((d|32)-t.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},f.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===r.Text||this.baseState===r.InSpecialTag)},f.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===r.Text||this.state===r.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===r.InAttributeValueDq||this.state===r.InAttributeValueSq||this.state===r.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},f.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},f.prototype.parse=function(){for(;this.shouldContinue();){var d=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case r.Text:{this.stateText(d);break}case r.SpecialStartSequence:{this.stateSpecialStartSequence(d);break}case r.InSpecialTag:{this.stateInSpecialTag(d);break}case r.CDATASequence:{this.stateCDATASequence(d);break}case r.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(d);break}case r.InAttributeName:{this.stateInAttributeName(d);break}case r.InCommentLike:{this.stateInCommentLike(d);break}case r.InSpecialComment:{this.stateInSpecialComment(d);break}case r.BeforeAttributeName:{this.stateBeforeAttributeName(d);break}case r.InTagName:{this.stateInTagName(d);break}case r.InClosingTagName:{this.stateInClosingTagName(d);break}case r.BeforeTagName:{this.stateBeforeTagName(d);break}case r.AfterAttributeName:{this.stateAfterAttributeName(d);break}case r.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(d);break}case r.BeforeAttributeValue:{this.stateBeforeAttributeValue(d);break}case r.BeforeClosingTagName:{this.stateBeforeClosingTagName(d);break}case r.AfterClosingTagName:{this.stateAfterClosingTagName(d);break}case r.BeforeSpecialS:{this.stateBeforeSpecialS(d);break}case r.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(d);break}case r.InSelfClosingTag:{this.stateInSelfClosingTag(d);break}case r.InDeclaration:{this.stateInDeclaration(d);break}case r.BeforeDeclaration:{this.stateBeforeDeclaration(d);break}case r.BeforeComment:{this.stateBeforeComment(d);break}case r.InProcessingInstruction:{this.stateInProcessingInstruction(d);break}case r.InNamedEntity:{this.stateInNamedEntity(d);break}case r.BeforeEntity:{this.stateBeforeEntity(d);break}case r.InHexEntity:{this.stateInHexEntity(d);break}case r.InNumericEntity:{this.stateInNumericEntity(d);break}default:this.stateBeforeNumericEntity(d)}this.index++}this.cleanup()},f.prototype.finish=function(){this.state===r.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},f.prototype.handleTrailingData=function(){var d=this.buffer.length+this.offset;this.state===r.InCommentLike?this.currentSequence===c.CdataEnd?this.cbs.oncdata(this.sectionStart,d,0):this.cbs.oncomment(this.sectionStart,d,0):this.state===r.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===r.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===r.InTagName||this.state===r.BeforeAttributeName||this.state===r.BeforeAttributeValue||this.state===r.AfterAttributeName||this.state===r.InAttributeName||this.state===r.InAttributeValueSq||this.state===r.InAttributeValueDq||this.state===r.InAttributeValueNq||this.state===r.InClosingTagName||this.cbs.ontext(this.sectionStart,d)},f.prototype.emitPartial=function(d,p){this.baseState!==r.Text&&this.baseState!==r.InSpecialTag?this.cbs.onattribdata(d,p):this.cbs.ontext(d,p)},f.prototype.emitCodePoint=function(d){this.baseState!==r.Text&&this.baseState!==r.InSpecialTag?this.cbs.onattribentity(d):this.cbs.ontextentity(d)},f})();n.default=h})(uo)),uo}var tl;function nl(){if(tl)return zt;tl=1;var n=zt&&zt.__createBinding||(Object.create?(function(b,m,w,x){x===void 0&&(x=w);var y=Object.getOwnPropertyDescriptor(m,w);(!y||("get"in y?!m.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return m[w]}}),Object.defineProperty(b,x,y)}):(function(b,m,w,x){x===void 0&&(x=w),b[x]=m[w]})),e=zt&&zt.__setModuleDefault||(Object.create?(function(b,m){Object.defineProperty(b,"default",{enumerable:!0,value:m})}):function(b,m){b.default=m}),t=zt&&zt.__importStar||function(b){if(b&&b.__esModule)return b;var m={};if(b!=null)for(var w in b)w!=="default"&&Object.prototype.hasOwnProperty.call(b,w)&&n(m,b,w);return e(m,b),m};Object.defineProperty(zt,"__esModule",{value:!0}),zt.Parser=void 0;var r=t(Zf()),i=fs(),s=new Set(["input","option","optgroup","select","button","datalist","textarea"]),o=new Set(["p"]),u=new Set(["thead","tbody"]),a=new Set(["dd","dt"]),l=new Set(["rt","rp"]),c=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",o],["h1",o],["h2",o],["h3",o],["h4",o],["h5",o],["h6",o],["select",s],["input",s],["output",s],["button",s],["datalist",s],["textarea",s],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",a],["dt",a],["address",o],["article",o],["aside",o],["blockquote",o],["details",o],["div",o],["dl",o],["fieldset",o],["figcaption",o],["figure",o],["footer",o],["form",o],["header",o],["hr",o],["main",o],["nav",o],["ol",o],["pre",o],["section",o],["table",o],["ul",o],["rt",l],["rp",l],["tbody",u],["tfoot",u]]),h=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),f=new Set(["math","svg"]),d=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),p=/\s|\//,g=(function(){function b(m,w){w===void 0&&(w={});var x,y,v,S,k;this.options=w,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=m??{},this.lowerCaseTagNames=(x=w.lowerCaseTags)!==null&&x!==void 0?x:!w.xmlMode,this.lowerCaseAttributeNames=(y=w.lowerCaseAttributeNames)!==null&&y!==void 0?y:!w.xmlMode,this.tokenizer=new((v=w.Tokenizer)!==null&&v!==void 0?v:r.default)(this.options,this),(k=(S=this.cbs).onparserinit)===null||k===void 0||k.call(S,this)}return b.prototype.ontext=function(m,w){var x,y,v=this.getSlice(m,w);this.endIndex=w-1,(y=(x=this.cbs).ontext)===null||y===void 0||y.call(x,v),this.startIndex=w},b.prototype.ontextentity=function(m){var w,x,y=this.tokenizer.getSectionStart();this.endIndex=y-1,(x=(w=this.cbs).ontext)===null||x===void 0||x.call(w,(0,i.fromCodePoint)(m)),this.startIndex=y},b.prototype.isVoidElement=function(m){return!this.options.xmlMode&&h.has(m)},b.prototype.onopentagname=function(m,w){this.endIndex=w;var x=this.getSlice(m,w);this.lowerCaseTagNames&&(x=x.toLowerCase()),this.emitOpenTag(x)},b.prototype.emitOpenTag=function(m){var w,x,y,v;this.openTagStart=this.startIndex,this.tagname=m;var S=!this.options.xmlMode&&c.get(m);if(S)for(;this.stack.length>0&&S.has(this.stack[this.stack.length-1]);){var k=this.stack.pop();(x=(w=this.cbs).onclosetag)===null||x===void 0||x.call(w,k,!0)}this.isVoidElement(m)||(this.stack.push(m),f.has(m)?this.foreignContext.push(!0):d.has(m)&&this.foreignContext.push(!1)),(v=(y=this.cbs).onopentagname)===null||v===void 0||v.call(y,m),this.cbs.onopentag&&(this.attribs={})},b.prototype.endOpenTag=function(m){var w,x;this.startIndex=this.openTagStart,this.attribs&&((x=(w=this.cbs).onopentag)===null||x===void 0||x.call(w,this.tagname,this.attribs,m),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},b.prototype.onopentagend=function(m){this.endIndex=m,this.endOpenTag(!1),this.startIndex=m+1},b.prototype.onclosetag=function(m,w){var x,y,v,S,k,E;this.endIndex=w;var O=this.getSlice(m,w);if(this.lowerCaseTagNames&&(O=O.toLowerCase()),(f.has(O)||d.has(O))&&this.foreignContext.pop(),this.isVoidElement(O))!this.options.xmlMode&&O==="br"&&((y=(x=this.cbs).onopentagname)===null||y===void 0||y.call(x,"br"),(S=(v=this.cbs).onopentag)===null||S===void 0||S.call(v,"br",{},!0),(E=(k=this.cbs).onclosetag)===null||E===void 0||E.call(k,"br",!1));else{var N=this.stack.lastIndexOf(O);if(N!==-1)if(this.cbs.onclosetag)for(var T=this.stack.length-N;T--;)this.cbs.onclosetag(this.stack.pop(),T!==0);else this.stack.length=N;else!this.options.xmlMode&&O==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=w+1},b.prototype.onselfclosingtag=function(m){this.endIndex=m,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=m+1):this.onopentagend(m)},b.prototype.closeCurrentTag=function(m){var w,x,y=this.tagname;this.endOpenTag(m),this.stack[this.stack.length-1]===y&&((x=(w=this.cbs).onclosetag)===null||x===void 0||x.call(w,y,!m),this.stack.pop())},b.prototype.onattribname=function(m,w){this.startIndex=m;var x=this.getSlice(m,w);this.attribname=this.lowerCaseAttributeNames?x.toLowerCase():x},b.prototype.onattribdata=function(m,w){this.attribvalue+=this.getSlice(m,w)},b.prototype.onattribentity=function(m){this.attribvalue+=(0,i.fromCodePoint)(m)},b.prototype.onattribend=function(m,w){var x,y;this.endIndex=w,(y=(x=this.cbs).onattribute)===null||y===void 0||y.call(x,this.attribname,this.attribvalue,m===r.QuoteType.Double?'"':m===r.QuoteType.Single?"'":m===r.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},b.prototype.getInstructionName=function(m){var w=m.search(p),x=w<0?m:m.substr(0,w);return this.lowerCaseTagNames&&(x=x.toLowerCase()),x},b.prototype.ondeclaration=function(m,w){this.endIndex=w;var x=this.getSlice(m,w);if(this.cbs.onprocessinginstruction){var y=this.getInstructionName(x);this.cbs.onprocessinginstruction("!".concat(y),"!".concat(x))}this.startIndex=w+1},b.prototype.onprocessinginstruction=function(m,w){this.endIndex=w;var x=this.getSlice(m,w);if(this.cbs.onprocessinginstruction){var y=this.getInstructionName(x);this.cbs.onprocessinginstruction("?".concat(y),"?".concat(x))}this.startIndex=w+1},b.prototype.oncomment=function(m,w,x){var y,v,S,k;this.endIndex=w,(v=(y=this.cbs).oncomment)===null||v===void 0||v.call(y,this.getSlice(m,w-x)),(k=(S=this.cbs).oncommentend)===null||k===void 0||k.call(S),this.startIndex=w+1},b.prototype.oncdata=function(m,w,x){var y,v,S,k,E,O,N,T,A,R;this.endIndex=w;var D=this.getSlice(m,w-x);this.options.xmlMode||this.options.recognizeCDATA?((v=(y=this.cbs).oncdatastart)===null||v===void 0||v.call(y),(k=(S=this.cbs).ontext)===null||k===void 0||k.call(S,D),(O=(E=this.cbs).oncdataend)===null||O===void 0||O.call(E)):((T=(N=this.cbs).oncomment)===null||T===void 0||T.call(N,"[CDATA[".concat(D,"]]")),(R=(A=this.cbs).oncommentend)===null||R===void 0||R.call(A)),this.startIndex=w+1},b.prototype.onend=function(){var m,w;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var x=this.stack.length;x>0;this.cbs.onclosetag(this.stack[--x],!0));}(w=(m=this.cbs).onend)===null||w===void 0||w.call(m)},b.prototype.reset=function(){var m,w,x,y;(w=(m=this.cbs).onreset)===null||w===void 0||w.call(m),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(y=(x=this.cbs).onparserinit)===null||y===void 0||y.call(x,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},b.prototype.parseComplete=function(m){this.reset(),this.end(m)},b.prototype.getSlice=function(m,w){for(;m-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var x=this.buffers[0].slice(m-this.bufferOffset,w-this.bufferOffset);w-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),x+=this.buffers[0].slice(0,w-this.bufferOffset);return x},b.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},b.prototype.write=function(m){var w,x;if(this.ended){(x=(w=this.cbs).onerror)===null||x===void 0||x.call(w,new Error(".write() after done!"));return}this.buffers.push(m),this.tokenizer.running&&(this.tokenizer.write(m),this.writeIndex++)},b.prototype.end=function(m){var w,x;if(this.ended){(x=(w=this.cbs).onerror)===null||x===void 0||x.call(w,new Error(".end() after done!"));return}m&&this.write(m),this.ended=!0,this.tokenizer.end()},b.prototype.pause=function(){this.tokenizer.pause()},b.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},b.prototype.parseChunk=function(m){this.write(m)},b.prototype.done=function(m){this.end(m)},b})();return zt.Parser=g,zt}var Jn={},lo={},rl;function xi(){return rl||(rl=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Doctype=n.CDATA=n.Tag=n.Style=n.Script=n.Comment=n.Directive=n.Text=n.Root=n.isTag=n.ElementType=void 0;var e;(function(r){r.Root="root",r.Text="text",r.Directive="directive",r.Comment="comment",r.Script="script",r.Style="style",r.Tag="tag",r.CDATA="cdata",r.Doctype="doctype"})(e=n.ElementType||(n.ElementType={}));function t(r){return r.type===e.Tag||r.type===e.Script||r.type===e.Style}n.isTag=t,n.Root=e.Root,n.Text=e.Text,n.Directive=e.Directive,n.Comment=e.Comment,n.Script=e.Script,n.Style=e.Style,n.Tag=e.Tag,n.CDATA=e.CDATA,n.Doctype=e.Doctype})(lo)),lo}var ye={},il;function sl(){if(il)return ye;il=1;var n=ye&&ye.__extends||(function(){var v=function(S,k){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,O){E.__proto__=O}||function(E,O){for(var N in O)Object.prototype.hasOwnProperty.call(O,N)&&(E[N]=O[N])},v(S,k)};return function(S,k){if(typeof k!="function"&&k!==null)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");v(S,k);function E(){this.constructor=S}S.prototype=k===null?Object.create(k):(E.prototype=k.prototype,new E)}})(),e=ye&&ye.__assign||function(){return e=Object.assign||function(v){for(var S,k=1,E=arguments.length;k<E;k++){S=arguments[k];for(var O in S)Object.prototype.hasOwnProperty.call(S,O)&&(v[O]=S[O])}return v},e.apply(this,arguments)};Object.defineProperty(ye,"__esModule",{value:!0}),ye.cloneNode=ye.hasChildren=ye.isDocument=ye.isDirective=ye.isComment=ye.isText=ye.isCDATA=ye.isTag=ye.Element=ye.Document=ye.CDATA=ye.NodeWithChildren=ye.ProcessingInstruction=ye.Comment=ye.Text=ye.DataNode=ye.Node=void 0;var t=xi(),r=(function(){function v(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(v.prototype,"parentNode",{get:function(){return this.parent},set:function(S){this.parent=S},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"previousSibling",{get:function(){return this.prev},set:function(S){this.prev=S},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"nextSibling",{get:function(){return this.next},set:function(S){this.next=S},enumerable:!1,configurable:!0}),v.prototype.cloneNode=function(S){return S===void 0&&(S=!1),x(this,S)},v})();ye.Node=r;var i=(function(v){n(S,v);function S(k){var E=v.call(this)||this;return E.data=k,E}return Object.defineProperty(S.prototype,"nodeValue",{get:function(){return this.data},set:function(k){this.data=k},enumerable:!1,configurable:!0}),S})(r);ye.DataNode=i;var s=(function(v){n(S,v);function S(){var k=v!==null&&v.apply(this,arguments)||this;return k.type=t.ElementType.Text,k}return Object.defineProperty(S.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),S})(i);ye.Text=s;var o=(function(v){n(S,v);function S(){var k=v!==null&&v.apply(this,arguments)||this;return k.type=t.ElementType.Comment,k}return Object.defineProperty(S.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),S})(i);ye.Comment=o;var u=(function(v){n(S,v);function S(k,E){var O=v.call(this,E)||this;return O.name=k,O.type=t.ElementType.Directive,O}return Object.defineProperty(S.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),S})(i);ye.ProcessingInstruction=u;var a=(function(v){n(S,v);function S(k){var E=v.call(this)||this;return E.children=k,E}return Object.defineProperty(S.prototype,"firstChild",{get:function(){var k;return(k=this.children[0])!==null&&k!==void 0?k:null},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"childNodes",{get:function(){return this.children},set:function(k){this.children=k},enumerable:!1,configurable:!0}),S})(r);ye.NodeWithChildren=a;var l=(function(v){n(S,v);function S(){var k=v!==null&&v.apply(this,arguments)||this;return k.type=t.ElementType.CDATA,k}return Object.defineProperty(S.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),S})(a);ye.CDATA=l;var c=(function(v){n(S,v);function S(){var k=v!==null&&v.apply(this,arguments)||this;return k.type=t.ElementType.Root,k}return Object.defineProperty(S.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),S})(a);ye.Document=c;var h=(function(v){n(S,v);function S(k,E,O,N){O===void 0&&(O=[]),N===void 0&&(N=k==="script"?t.ElementType.Script:k==="style"?t.ElementType.Style:t.ElementType.Tag);var T=v.call(this,O)||this;return T.name=k,T.attribs=E,T.type=N,T}return Object.defineProperty(S.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"tagName",{get:function(){return this.name},set:function(k){this.name=k},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"attributes",{get:function(){var k=this;return Object.keys(this.attribs).map(function(E){var O,N;return{name:E,value:k.attribs[E],namespace:(O=k["x-attribsNamespace"])===null||O===void 0?void 0:O[E],prefix:(N=k["x-attribsPrefix"])===null||N===void 0?void 0:N[E]}})},enumerable:!1,configurable:!0}),S})(a);ye.Element=h;function f(v){return(0,t.isTag)(v)}ye.isTag=f;function d(v){return v.type===t.ElementType.CDATA}ye.isCDATA=d;function p(v){return v.type===t.ElementType.Text}ye.isText=p;function g(v){return v.type===t.ElementType.Comment}ye.isComment=g;function b(v){return v.type===t.ElementType.Directive}ye.isDirective=b;function m(v){return v.type===t.ElementType.Root}ye.isDocument=m;function w(v){return Object.prototype.hasOwnProperty.call(v,"children")}ye.hasChildren=w;function x(v,S){S===void 0&&(S=!1);var k;if(p(v))k=new s(v.data);else if(g(v))k=new o(v.data);else if(f(v)){var E=S?y(v.children):[],O=new h(v.name,e({},v.attribs),E);E.forEach(function(R){return R.parent=O}),v.namespace!=null&&(O.namespace=v.namespace),v["x-attribsNamespace"]&&(O["x-attribsNamespace"]=e({},v["x-attribsNamespace"])),v["x-attribsPrefix"]&&(O["x-attribsPrefix"]=e({},v["x-attribsPrefix"])),k=O}else if(d(v)){var E=S?y(v.children):[],N=new l(E);E.forEach(function(D){return D.parent=N}),k=N}else if(m(v)){var E=S?y(v.children):[],T=new c(E);E.forEach(function(D){return D.parent=T}),v["x-mode"]&&(T["x-mode"]=v["x-mode"]),k=T}else if(b(v)){var A=new u(v.name,v.data);v["x-name"]!=null&&(A["x-name"]=v["x-name"],A["x-publicId"]=v["x-publicId"],A["x-systemId"]=v["x-systemId"]),k=A}else throw new Error("Not implemented yet: ".concat(v.type));return k.startIndex=v.startIndex,k.endIndex=v.endIndex,v.sourceCodeLocation!=null&&(k.sourceCodeLocation=v.sourceCodeLocation),k}ye.cloneNode=x;function y(v){for(var S=v.map(function(E){return x(E,!0)}),k=1;k<S.length;k++)S[k].prev=S[k-1],S[k-1].next=S[k];return S}return ye}var ol;function Ln(){return ol||(ol=1,(function(n){var e=Jn&&Jn.__createBinding||(Object.create?(function(u,a,l,c){c===void 0&&(c=l);var h=Object.getOwnPropertyDescriptor(a,l);(!h||("get"in h?!a.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return a[l]}}),Object.defineProperty(u,c,h)}):(function(u,a,l,c){c===void 0&&(c=l),u[c]=a[l]})),t=Jn&&Jn.__exportStar||function(u,a){for(var l in u)l!=="default"&&!Object.prototype.hasOwnProperty.call(a,l)&&e(a,u,l)};Object.defineProperty(n,"__esModule",{value:!0}),n.DomHandler=void 0;var r=xi(),i=sl();t(sl(),n);var s={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},o=(function(){function u(a,l,c){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof l=="function"&&(c=l,l=s),typeof a=="object"&&(l=a,a=void 0),this.callback=a??null,this.options=l??s,this.elementCB=c??null}return u.prototype.onparserinit=function(a){this.parser=a},u.prototype.onreset=function(){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},u.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},u.prototype.onerror=function(a){this.handleCallback(a)},u.prototype.onclosetag=function(){this.lastNode=null;var a=this.tagStack.pop();this.options.withEndIndices&&(a.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(a)},u.prototype.onopentag=function(a,l){var c=this.options.xmlMode?r.ElementType.Tag:void 0,h=new i.Element(a,l,void 0,c);this.addNode(h),this.tagStack.push(h)},u.prototype.ontext=function(a){var l=this.lastNode;if(l&&l.type===r.ElementType.Text)l.data+=a,this.options.withEndIndices&&(l.endIndex=this.parser.endIndex);else{var c=new i.Text(a);this.addNode(c),this.lastNode=c}},u.prototype.oncomment=function(a){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment){this.lastNode.data+=a;return}var l=new i.Comment(a);this.addNode(l),this.lastNode=l},u.prototype.oncommentend=function(){this.lastNode=null},u.prototype.oncdatastart=function(){var a=new i.Text(""),l=new i.CDATA([a]);this.addNode(l),a.parent=l,this.lastNode=a},u.prototype.oncdataend=function(){this.lastNode=null},u.prototype.onprocessinginstruction=function(a,l){var c=new i.ProcessingInstruction(a,l);this.addNode(c)},u.prototype.handleCallback=function(a){if(typeof this.callback=="function")this.callback(a,this.dom);else if(a)throw a},u.prototype.addNode=function(a){var l=this.tagStack[this.tagStack.length-1],c=l.children[l.children.length-1];this.options.withStartIndices&&(a.startIndex=this.parser.startIndex),this.options.withEndIndices&&(a.endIndex=this.parser.endIndex),l.children.push(a),c&&(a.prev=c,c.next=a),a.parent=l,this.lastNode=null},u})();n.DomHandler=o,n.default=o})(Jn)),Jn}var Gn={},Kt={},pt={},co={},un={},Ii={},ul;function u0(){if(ul)return Ii;ul=1,Object.defineProperty(Ii,"__esModule",{value:!0});function n(e){for(var t=1;t<e.length;t++)e[t][0]+=e[t-1][0]+1;return e}return Ii.default=new Map(n([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(n([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(n([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(n([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]])),Ii}var fo={},al;function bu(){return al||(al=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.escapeText=n.escapeAttribute=n.escapeUTF8=n.escape=n.encodeXML=n.getCodePoint=n.xmlReplacer=void 0,n.xmlReplacer=/["&'<>$\x80-\uFFFF]/g;var e=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);n.getCodePoint=String.prototype.codePointAt!=null?function(i,s){return i.codePointAt(s)}:function(i,s){return(i.charCodeAt(s)&64512)===55296?(i.charCodeAt(s)-55296)*1024+i.charCodeAt(s+1)-56320+65536:i.charCodeAt(s)};function t(i){for(var s="",o=0,u;(u=n.xmlReplacer.exec(i))!==null;){var a=u.index,l=i.charCodeAt(a),c=e.get(l);c!==void 0?(s+=i.substring(o,a)+c,o=a+1):(s+="".concat(i.substring(o,a),"&#x").concat((0,n.getCodePoint)(i,a).toString(16),";"),o=n.xmlReplacer.lastIndex+=+((l&64512)===55296))}return s+i.substr(o)}n.encodeXML=t,n.escape=t;function r(i,s){return function(u){for(var a,l=0,c="";a=i.exec(u);)l!==a.index&&(c+=u.substring(l,a.index)),c+=s.get(a[0].charCodeAt(0)),l=a.index+1;return c+u.substring(l)}}n.escapeUTF8=r(/[&<>'"]/g,e),n.escapeAttribute=r(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),n.escapeText=r(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))})(fo)),fo}var ll;function cl(){if(ll)return un;ll=1;var n=un&&un.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(un,"__esModule",{value:!0}),un.encodeNonAsciiHTML=un.encodeHTML=void 0;var e=n(u0()),t=bu(),r=/[\t\n!-,./:-@[-`\f{-}$\x80-\uFFFF]/g;function i(u){return o(r,u)}un.encodeHTML=i;function s(u){return o(t.xmlReplacer,u)}un.encodeNonAsciiHTML=s;function o(u,a){for(var l="",c=0,h;(h=u.exec(a))!==null;){var f=h.index;l+=a.substring(c,f);var d=a.charCodeAt(f),p=e.default.get(d);if(typeof p=="object"){if(f+1<a.length){var g=a.charCodeAt(f+1),b=typeof p.n=="number"?p.n===g?p.o:void 0:p.n.get(g);if(b!==void 0){l+=b,c=u.lastIndex+=1;continue}}p=p.v}if(p!==void 0)l+=p,c=f+1;else{var m=(0,t.getCodePoint)(a,f);l+="&#x".concat(m.toString(16),";"),c=u.lastIndex+=+(m!==d)}}return l+a.substr(c)}return un}var fl;function a0(){return fl||(fl=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.decodeXMLStrict=n.decodeHTML5Strict=n.decodeHTML4Strict=n.decodeHTML5=n.decodeHTML4=n.decodeHTMLAttribute=n.decodeHTMLStrict=n.decodeHTML=n.decodeXML=n.DecodingMode=n.EntityDecoder=n.encodeHTML5=n.encodeHTML4=n.encodeNonAsciiHTML=n.encodeHTML=n.escapeText=n.escapeAttribute=n.escapeUTF8=n.escape=n.encodeXML=n.encode=n.decodeStrict=n.decode=n.EncodingMode=n.EntityLevel=void 0;var e=fs(),t=cl(),r=bu(),i;(function(f){f[f.XML=0]="XML",f[f.HTML=1]="HTML"})(i=n.EntityLevel||(n.EntityLevel={}));var s;(function(f){f[f.UTF8=0]="UTF8",f[f.ASCII=1]="ASCII",f[f.Extensive=2]="Extensive",f[f.Attribute=3]="Attribute",f[f.Text=4]="Text"})(s=n.EncodingMode||(n.EncodingMode={}));function o(f,d){d===void 0&&(d=i.XML);var p=typeof d=="number"?d:d.level;if(p===i.HTML){var g=typeof d=="object"?d.mode:void 0;return(0,e.decodeHTML)(f,g)}return(0,e.decodeXML)(f)}n.decode=o;function u(f,d){var p;d===void 0&&(d=i.XML);var g=typeof d=="number"?{level:d}:d;return(p=g.mode)!==null&&p!==void 0||(g.mode=e.DecodingMode.Strict),o(f,g)}n.decodeStrict=u;function a(f,d){d===void 0&&(d=i.XML);var p=typeof d=="number"?{level:d}:d;return p.mode===s.UTF8?(0,r.escapeUTF8)(f):p.mode===s.Attribute?(0,r.escapeAttribute)(f):p.mode===s.Text?(0,r.escapeText)(f):p.level===i.HTML?p.mode===s.ASCII?(0,t.encodeNonAsciiHTML)(f):(0,t.encodeHTML)(f):(0,r.encodeXML)(f)}n.encode=a;var l=bu();Object.defineProperty(n,"encodeXML",{enumerable:!0,get:function(){return l.encodeXML}}),Object.defineProperty(n,"escape",{enumerable:!0,get:function(){return l.escape}}),Object.defineProperty(n,"escapeUTF8",{enumerable:!0,get:function(){return l.escapeUTF8}}),Object.defineProperty(n,"escapeAttribute",{enumerable:!0,get:function(){return l.escapeAttribute}}),Object.defineProperty(n,"escapeText",{enumerable:!0,get:function(){return l.escapeText}});var c=cl();Object.defineProperty(n,"encodeHTML",{enumerable:!0,get:function(){return c.encodeHTML}}),Object.defineProperty(n,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return c.encodeNonAsciiHTML}}),Object.defineProperty(n,"encodeHTML4",{enumerable:!0,get:function(){return c.encodeHTML}}),Object.defineProperty(n,"encodeHTML5",{enumerable:!0,get:function(){return c.encodeHTML}});var h=fs();Object.defineProperty(n,"EntityDecoder",{enumerable:!0,get:function(){return h.EntityDecoder}}),Object.defineProperty(n,"DecodingMode",{enumerable:!0,get:function(){return h.DecodingMode}}),Object.defineProperty(n,"decodeXML",{enumerable:!0,get:function(){return h.decodeXML}}),Object.defineProperty(n,"decodeHTML",{enumerable:!0,get:function(){return h.decodeHTML}}),Object.defineProperty(n,"decodeHTMLStrict",{enumerable:!0,get:function(){return h.decodeHTMLStrict}}),Object.defineProperty(n,"decodeHTMLAttribute",{enumerable:!0,get:function(){return h.decodeHTMLAttribute}}),Object.defineProperty(n,"decodeHTML4",{enumerable:!0,get:function(){return h.decodeHTML}}),Object.defineProperty(n,"decodeHTML5",{enumerable:!0,get:function(){return h.decodeHTML}}),Object.defineProperty(n,"decodeHTML4Strict",{enumerable:!0,get:function(){return h.decodeHTMLStrict}}),Object.defineProperty(n,"decodeHTML5Strict",{enumerable:!0,get:function(){return h.decodeHTMLStrict}}),Object.defineProperty(n,"decodeXMLStrict",{enumerable:!0,get:function(){return h.decodeXML}})})(co)),co}var Kn={},dl;function l0(){return dl||(dl=1,Object.defineProperty(Kn,"__esModule",{value:!0}),Kn.attributeNames=Kn.elementNames=void 0,Kn.elementNames=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(function(n){return[n.toLowerCase(),n]})),Kn.attributeNames=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(function(n){return[n.toLowerCase(),n]}))),Kn}var hl;function c0(){if(hl)return pt;hl=1;var n=pt&&pt.__assign||function(){return n=Object.assign||function(y){for(var v,S=1,k=arguments.length;S<k;S++){v=arguments[S];for(var E in v)Object.prototype.hasOwnProperty.call(v,E)&&(y[E]=v[E])}return y},n.apply(this,arguments)},e=pt&&pt.__createBinding||(Object.create?(function(y,v,S,k){k===void 0&&(k=S);var E=Object.getOwnPropertyDescriptor(v,S);(!E||("get"in E?!v.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return v[S]}}),Object.defineProperty(y,k,E)}):(function(y,v,S,k){k===void 0&&(k=S),y[k]=v[S]})),t=pt&&pt.__setModuleDefault||(Object.create?(function(y,v){Object.defineProperty(y,"default",{enumerable:!0,value:v})}):function(y,v){y.default=v}),r=pt&&pt.__importStar||function(y){if(y&&y.__esModule)return y;var v={};if(y!=null)for(var S in y)S!=="default"&&Object.prototype.hasOwnProperty.call(y,S)&&e(v,y,S);return t(v,y),v};Object.defineProperty(pt,"__esModule",{value:!0}),pt.render=void 0;var i=r(xi()),s=a0(),o=l0(),u=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function a(y){return y.replace(/"/g,"&quot;")}function l(y,v){var S;if(y){var k=((S=v.encodeEntities)!==null&&S!==void 0?S:v.decodeEntities)===!1?a:v.xmlMode||v.encodeEntities!=="utf8"?s.encodeXML:s.escapeAttribute;return Object.keys(y).map(function(E){var O,N,T=(O=y[E])!==null&&O!==void 0?O:"";return v.xmlMode==="foreign"&&(E=(N=o.attributeNames.get(E))!==null&&N!==void 0?N:E),!v.emptyAttrs&&!v.xmlMode&&T===""?E:"".concat(E,'="').concat(k(T),'"')}).join(" ")}}var c=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function h(y,v){v===void 0&&(v={});for(var S=("length"in y)?y:[y],k="",E=0;E<S.length;E++)k+=f(S[E],v);return k}pt.render=h,pt.default=h;function f(y,v){switch(y.type){case i.Root:return h(y.children,v);case i.Doctype:case i.Directive:return b(y);case i.Comment:return x(y);case i.CDATA:return w(y);case i.Script:case i.Style:case i.Tag:return g(y,v);case i.Text:return m(y,v)}}var d=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),p=new Set(["svg","math"]);function g(y,v){var S;v.xmlMode==="foreign"&&(y.name=(S=o.elementNames.get(y.name))!==null&&S!==void 0?S:y.name,y.parent&&d.has(y.parent.name)&&(v=n(n({},v),{xmlMode:!1}))),!v.xmlMode&&p.has(y.name)&&(v=n(n({},v),{xmlMode:"foreign"}));var k="<".concat(y.name),E=l(y.attribs,v);return E&&(k+=" ".concat(E)),y.children.length===0&&(v.xmlMode?v.selfClosingTags!==!1:v.selfClosingTags&&c.has(y.name))?(v.xmlMode||(k+=" "),k+="/>"):(k+=">",y.children.length>0&&(k+=h(y.children,v)),(v.xmlMode||!c.has(y.name))&&(k+="</".concat(y.name,">"))),k}function b(y){return"<".concat(y.data,">")}function m(y,v){var S,k=y.data||"";return((S=v.encodeEntities)!==null&&S!==void 0?S:v.decodeEntities)!==!1&&!(!v.xmlMode&&y.parent&&u.has(y.parent.name))&&(k=v.xmlMode||v.encodeEntities!=="utf8"?(0,s.encodeXML)(k):(0,s.escapeText)(k)),k}function w(y){return"<![CDATA[".concat(y.children[0].data,"]]>")}function x(y){return"<!--".concat(y.data,"-->")}return pt}var pl;function ed(){if(pl)return Kt;pl=1;var n=Kt&&Kt.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.getOuterHTML=i,Kt.getInnerHTML=s,Kt.getText=o,Kt.textContent=u,Kt.innerText=a;var e=Ln(),t=n(c0()),r=xi();function i(l,c){return(0,t.default)(l,c)}function s(l,c){return(0,e.hasChildren)(l)?l.children.map(function(h){return i(h,c)}).join(""):""}function o(l){return Array.isArray(l)?l.map(o).join(""):(0,e.isTag)(l)?l.name==="br"?`
`:o(l.children):(0,e.isCDATA)(l)?o(l.children):(0,e.isText)(l)?l.data:""}function u(l){return Array.isArray(l)?l.map(u).join(""):(0,e.hasChildren)(l)&&!(0,e.isComment)(l)?u(l.children):(0,e.isText)(l)?l.data:""}function a(l){return Array.isArray(l)?l.map(a).join(""):(0,e.hasChildren)(l)&&(l.type===r.ElementType.Tag||(0,e.isCDATA)(l))?a(l.children):(0,e.isText)(l)?l.data:""}return Kt}var jt={},ml;function f0(){if(ml)return jt;ml=1,Object.defineProperty(jt,"__esModule",{value:!0}),jt.getChildren=e,jt.getParent=t,jt.getSiblings=r,jt.getAttributeValue=i,jt.hasAttrib=s,jt.getName=o,jt.nextElementSibling=u,jt.prevElementSibling=a;var n=Ln();function e(l){return(0,n.hasChildren)(l)?l.children:[]}function t(l){return l.parent||null}function r(l){var c,h,f=t(l);if(f!=null)return e(f);for(var d=[l],p=l.prev,g=l.next;p!=null;)d.unshift(p),c=p,p=c.prev;for(;g!=null;)d.push(g),h=g,g=h.next;return d}function i(l,c){var h;return(h=l.attribs)===null||h===void 0?void 0:h[c]}function s(l,c){return l.attribs!=null&&Object.prototype.hasOwnProperty.call(l.attribs,c)&&l.attribs[c]!=null}function o(l){return l.name}function u(l){for(var c,h=l.next;h!==null&&!(0,n.isTag)(h);)c=h,h=c.next;return h}function a(l){for(var c,h=l.prev;h!==null&&!(0,n.isTag)(h);)c=h,h=c.prev;return h}return jt}var an={},gl;function d0(){if(gl)return an;gl=1,Object.defineProperty(an,"__esModule",{value:!0}),an.removeElement=n,an.replaceElement=e,an.appendChild=t,an.append=r,an.prependChild=i,an.prepend=s;function n(o){if(o.prev&&(o.prev.next=o.next),o.next&&(o.next.prev=o.prev),o.parent){var u=o.parent.children,a=u.lastIndexOf(o);a>=0&&u.splice(a,1)}o.next=null,o.prev=null,o.parent=null}function e(o,u){var a=u.prev=o.prev;a&&(a.next=u);var l=u.next=o.next;l&&(l.prev=u);var c=u.parent=o.parent;if(c){var h=c.children;h[h.lastIndexOf(o)]=u,o.parent=null}}function t(o,u){if(n(u),u.next=null,u.parent=o,o.children.push(u)>1){var a=o.children[o.children.length-2];a.next=u,u.prev=a}else u.prev=null}function r(o,u){n(u);var a=o.parent,l=o.next;if(u.next=l,u.prev=o,o.next=u,u.parent=a,l){if(l.prev=u,a){var c=a.children;c.splice(c.lastIndexOf(l),0,u)}}else a&&a.children.push(u)}function i(o,u){if(n(u),u.parent=o,u.prev=null,o.children.unshift(u)!==1){var a=o.children[1];a.prev=u,u.next=a}else u.next=null}function s(o,u){n(u);var a=o.parent;if(a){var l=a.children;l.splice(l.indexOf(o),0,u)}o.prev&&(o.prev.next=u),u.parent=a,u.prev=o.prev,u.next=o,o.prev=u}return an}var ln={},bl;function td(){if(bl)return ln;bl=1,Object.defineProperty(ln,"__esModule",{value:!0}),ln.filter=e,ln.find=t,ln.findOneChild=r,ln.findOne=i,ln.existsOne=s,ln.findAll=o;var n=Ln();function e(u,a,l,c){return l===void 0&&(l=!0),c===void 0&&(c=1/0),t(u,Array.isArray(a)?a:[a],l,c)}function t(u,a,l,c){for(var h=[],f=[Array.isArray(a)?a:[a]],d=[0];;){if(d[0]>=f[0].length){if(d.length===1)return h;f.shift(),d.shift();continue}var p=f[0][d[0]++];if(u(p)&&(h.push(p),--c<=0))return h;l&&(0,n.hasChildren)(p)&&p.children.length>0&&(d.unshift(0),f.unshift(p.children))}}function r(u,a){return a.find(u)}function i(u,a,l){l===void 0&&(l=!0);for(var c=Array.isArray(a)?a:[a],h=0;h<c.length;h++){var f=c[h];if((0,n.isTag)(f)&&u(f))return f;if(l&&(0,n.hasChildren)(f)&&f.children.length>0){var d=i(u,f.children,!0);if(d)return d}}return null}function s(u,a){return(Array.isArray(a)?a:[a]).some(function(l){return(0,n.isTag)(l)&&u(l)||(0,n.hasChildren)(l)&&s(u,l.children)})}function o(u,a){for(var l=[],c=[Array.isArray(a)?a:[a]],h=[0];;){if(h[0]>=c[0].length){if(c.length===1)return l;c.shift(),h.shift();continue}var f=c[0][h[0]++];(0,n.isTag)(f)&&u(f)&&l.push(f),(0,n.hasChildren)(f)&&f.children.length>0&&(h.unshift(0),c.unshift(f.children))}}return ln}var cn={},yl;function nd(){if(yl)return cn;yl=1,Object.defineProperty(cn,"__esModule",{value:!0}),cn.testElement=o,cn.getElements=u,cn.getElementById=a,cn.getElementsByTagName=l,cn.getElementsByClassName=c,cn.getElementsByTagType=h;var n=Ln(),e=td(),t={tag_name:function(f){return typeof f=="function"?function(d){return(0,n.isTag)(d)&&f(d.name)}:f==="*"?n.isTag:function(d){return(0,n.isTag)(d)&&d.name===f}},tag_type:function(f){return typeof f=="function"?function(d){return f(d.type)}:function(d){return d.type===f}},tag_contains:function(f){return typeof f=="function"?function(d){return(0,n.isText)(d)&&f(d.data)}:function(d){return(0,n.isText)(d)&&d.data===f}}};function r(f,d){return typeof d=="function"?function(p){return(0,n.isTag)(p)&&d(p.attribs[f])}:function(p){return(0,n.isTag)(p)&&p.attribs[f]===d}}function i(f,d){return function(p){return f(p)||d(p)}}function s(f){var d=Object.keys(f).map(function(p){var g=f[p];return Object.prototype.hasOwnProperty.call(t,p)?t[p](g):r(p,g)});return d.length===0?null:d.reduce(i)}function o(f,d){var p=s(f);return p?p(d):!0}function u(f,d,p,g){g===void 0&&(g=1/0);var b=s(f);return b?(0,e.filter)(b,d,p,g):[]}function a(f,d,p){return p===void 0&&(p=!0),Array.isArray(d)||(d=[d]),(0,e.findOne)(r("id",f),d,p)}function l(f,d,p,g){return p===void 0&&(p=!0),g===void 0&&(g=1/0),(0,e.filter)(t.tag_name(f),d,p,g)}function c(f,d,p,g){return p===void 0&&(p=!0),g===void 0&&(g=1/0),(0,e.filter)(r("class",f),d,p,g)}function h(f,d,p,g){return p===void 0&&(p=!0),g===void 0&&(g=1/0),(0,e.filter)(t.tag_type(f),d,p,g)}return cn}var Sn={},vl;function h0(){if(vl)return Sn;vl=1,Object.defineProperty(Sn,"__esModule",{value:!0}),Sn.DocumentPosition=void 0,Sn.removeSubsets=e,Sn.compareDocumentPosition=r,Sn.uniqueSort=i;var n=Ln();function e(s){for(var o=s.length;--o>=0;){var u=s[o];if(o>0&&s.lastIndexOf(u,o-1)>=0){s.splice(o,1);continue}for(var a=u.parent;a;a=a.parent)if(s.includes(a)){s.splice(o,1);break}}return s}var t;(function(s){s[s.DISCONNECTED=1]="DISCONNECTED",s[s.PRECEDING=2]="PRECEDING",s[s.FOLLOWING=4]="FOLLOWING",s[s.CONTAINS=8]="CONTAINS",s[s.CONTAINED_BY=16]="CONTAINED_BY"})(t||(Sn.DocumentPosition=t={}));function r(s,o){var u=[],a=[];if(s===o)return 0;for(var l=(0,n.hasChildren)(s)?s:s.parent;l;)u.unshift(l),l=l.parent;for(l=(0,n.hasChildren)(o)?o:o.parent;l;)a.unshift(l),l=l.parent;for(var c=Math.min(u.length,a.length),h=0;h<c&&u[h]===a[h];)h++;if(h===0)return t.DISCONNECTED;var f=u[h-1],d=f.children,p=u[h],g=a[h];return d.indexOf(p)>d.indexOf(g)?f===o?t.FOLLOWING|t.CONTAINED_BY:t.FOLLOWING:f===s?t.PRECEDING|t.CONTAINS:t.PRECEDING}function i(s){return s=s.filter(function(o,u,a){return!a.includes(o,u+1)}),s.sort(function(o,u){var a=r(o,u);return a&t.PRECEDING?-1:a&t.FOLLOWING?1:0}),s}return Sn}var Ri={},xl;function p0(){if(xl)return Ri;xl=1,Object.defineProperty(Ri,"__esModule",{value:!0}),Ri.getFeed=t;var n=ed(),e=nd();function t(f){var d=a(h,f);return d?d.name==="feed"?r(d):i(d):null}function r(f){var d,p=f.children,g={type:"atom",items:(0,e.getElementsByTagName)("entry",p).map(function(w){var x,y=w.children,v={media:u(y)};c(v,"id","id",y),c(v,"title","title",y);var S=(x=a("link",y))===null||x===void 0?void 0:x.attribs.href;S&&(v.link=S);var k=l("summary",y)||l("content",y);k&&(v.description=k);var E=l("updated",y);return E&&(v.pubDate=new Date(E)),v})};c(g,"id","id",p),c(g,"title","title",p);var b=(d=a("link",p))===null||d===void 0?void 0:d.attribs.href;b&&(g.link=b),c(g,"description","subtitle",p);var m=l("updated",p);return m&&(g.updated=new Date(m)),c(g,"author","email",p,!0),g}function i(f){var d,p,g=(p=(d=a("channel",f.children))===null||d===void 0?void 0:d.children)!==null&&p!==void 0?p:[],b={type:f.name.substr(0,3),id:"",items:(0,e.getElementsByTagName)("item",f.children).map(function(w){var x=w.children,y={media:u(x)};c(y,"id","guid",x),c(y,"title","title",x),c(y,"link","link",x),c(y,"description","description",x);var v=l("pubDate",x)||l("dc:date",x);return v&&(y.pubDate=new Date(v)),y})};c(b,"title","title",g),c(b,"link","link",g),c(b,"description","description",g);var m=l("lastBuildDate",g);return m&&(b.updated=new Date(m)),c(b,"author","managingEditor",g,!0),b}var s=["url","type","lang"],o=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function u(f){return(0,e.getElementsByTagName)("media:content",f).map(function(d){for(var p=d.attribs,g={medium:p.medium,isDefault:!!p.isDefault},b=0,m=s;b<m.length;b++){var w=m[b];p[w]&&(g[w]=p[w])}for(var x=0,y=o;x<y.length;x++){var w=y[x];p[w]&&(g[w]=parseInt(p[w],10))}return p.expression&&(g.expression=p.expression),g})}function a(f,d){return(0,e.getElementsByTagName)(f,d,!0,1)[0]}function l(f,d,p){return p===void 0&&(p=!1),(0,n.textContent)((0,e.getElementsByTagName)(f,d,p,1)).trim()}function c(f,d,p,g,b){b===void 0&&(b=!1);var m=l(p,g,b);m&&(f[d]=m)}function h(f){return f==="rss"||f==="feed"||f==="rdf:RDF"}return Ri}var wl;function ho(){return wl||(wl=1,(function(n){var e=Gn&&Gn.__createBinding||(Object.create?(function(i,s,o,u){u===void 0&&(u=o);var a=Object.getOwnPropertyDescriptor(s,o);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[o]}}),Object.defineProperty(i,u,a)}):(function(i,s,o,u){u===void 0&&(u=o),i[u]=s[o]})),t=Gn&&Gn.__exportStar||function(i,s){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&e(s,i,o)};Object.defineProperty(n,"__esModule",{value:!0}),n.hasChildren=n.isDocument=n.isComment=n.isText=n.isCDATA=n.isTag=void 0,t(ed(),n),t(f0(),n),t(d0(),n),t(td(),n),t(nd(),n),t(h0(),n),t(p0(),n);var r=Ln();Object.defineProperty(n,"isTag",{enumerable:!0,get:function(){return r.isTag}}),Object.defineProperty(n,"isCDATA",{enumerable:!0,get:function(){return r.isCDATA}}),Object.defineProperty(n,"isText",{enumerable:!0,get:function(){return r.isText}}),Object.defineProperty(n,"isComment",{enumerable:!0,get:function(){return r.isComment}}),Object.defineProperty(n,"isDocument",{enumerable:!0,get:function(){return r.isDocument}}),Object.defineProperty(n,"hasChildren",{enumerable:!0,get:function(){return r.hasChildren}})})(Gn)),Gn}var Sl;function m0(){return Sl||(Sl=1,(function(n){var e=qt&&qt.__createBinding||(Object.create?(function(m,w,x,y){y===void 0&&(y=x);var v=Object.getOwnPropertyDescriptor(w,x);(!v||("get"in v?!w.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return w[x]}}),Object.defineProperty(m,y,v)}):(function(m,w,x,y){y===void 0&&(y=x),m[y]=w[x]})),t=qt&&qt.__setModuleDefault||(Object.create?(function(m,w){Object.defineProperty(m,"default",{enumerable:!0,value:w})}):function(m,w){m.default=w}),r=qt&&qt.__importStar||function(m){if(m&&m.__esModule)return m;var w={};if(m!=null)for(var x in m)x!=="default"&&Object.prototype.hasOwnProperty.call(m,x)&&e(w,m,x);return t(w,m),w},i=qt&&qt.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(n,"__esModule",{value:!0}),n.DomUtils=n.parseFeed=n.getFeed=n.ElementType=n.Tokenizer=n.createDomStream=n.parseDOM=n.parseDocument=n.DefaultHandler=n.DomHandler=n.Parser=void 0;var s=nl(),o=nl();Object.defineProperty(n,"Parser",{enumerable:!0,get:function(){return o.Parser}});var u=Ln(),a=Ln();Object.defineProperty(n,"DomHandler",{enumerable:!0,get:function(){return a.DomHandler}}),Object.defineProperty(n,"DefaultHandler",{enumerable:!0,get:function(){return a.DomHandler}});function l(m,w){var x=new u.DomHandler(void 0,w);return new s.Parser(x,w).end(m),x.root}n.parseDocument=l;function c(m,w){return l(m,w).children}n.parseDOM=c;function h(m,w,x){var y=new u.DomHandler(m,w,x);return new s.Parser(y,w)}n.createDomStream=h;var f=Zf();Object.defineProperty(n,"Tokenizer",{enumerable:!0,get:function(){return i(f).default}}),n.ElementType=r(xi());var d=ho(),p=ho();Object.defineProperty(n,"getFeed",{enumerable:!0,get:function(){return p.getFeed}});var g={xmlMode:!0};function b(m,w){return w===void 0&&(w=g),(0,d.getFeed)(c(m,w))}n.parseFeed=b,n.DomUtils=r(ho())})(qt)),qt}var po,kl;function g0(){return kl||(kl=1,po=n=>{if(typeof n!="string")throw new TypeError("Expected a string");return n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}),po}var Pi={},Cl;function b0(){if(Cl)return Pi;Cl=1,Object.defineProperty(Pi,"__esModule",{value:!0});function n(t){return Object.prototype.toString.call(t)==="[object Object]"}function e(t){var r,i;return n(t)===!1?!1:(r=t.constructor,r===void 0?!0:(i=r.prototype,!(n(i)===!1||i.hasOwnProperty("isPrototypeOf")===!1)))}return Pi.isPlainObject=e,Pi}var mo,Tl;function y0(){if(Tl)return mo;Tl=1;var n=function(w){return e(w)&&!t(w)};function e(m){return!!m&&typeof m=="object"}function t(m){var w=Object.prototype.toString.call(m);return w==="[object RegExp]"||w==="[object Date]"||s(m)}var r=typeof Symbol=="function"&&Symbol.for,i=r?Symbol.for("react.element"):60103;function s(m){return m.$$typeof===i}function o(m){return Array.isArray(m)?[]:{}}function u(m,w){return w.clone!==!1&&w.isMergeableObject(m)?g(o(m),m,w):m}function a(m,w,x){return m.concat(w).map(function(y){return u(y,x)})}function l(m,w){if(!w.customMerge)return g;var x=w.customMerge(m);return typeof x=="function"?x:g}function c(m){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(m).filter(function(w){return Object.propertyIsEnumerable.call(m,w)}):[]}function h(m){return Object.keys(m).concat(c(m))}function f(m,w){try{return w in m}catch{return!1}}function d(m,w){return f(m,w)&&!(Object.hasOwnProperty.call(m,w)&&Object.propertyIsEnumerable.call(m,w))}function p(m,w,x){var y={};return x.isMergeableObject(m)&&h(m).forEach(function(v){y[v]=u(m[v],x)}),h(w).forEach(function(v){d(m,v)||(f(m,v)&&x.isMergeableObject(w[v])?y[v]=l(v,x)(m[v],w[v],x):y[v]=u(w[v],x))}),y}function g(m,w,x){x=x||{},x.arrayMerge=x.arrayMerge||a,x.isMergeableObject=x.isMergeableObject||n,x.cloneUnlessOtherwiseSpecified=u;var y=Array.isArray(w),v=Array.isArray(m),S=y===v;return S?y?x.arrayMerge(m,w,x):p(m,w,x):u(w,x)}g.all=function(w,x){if(!Array.isArray(w))throw new Error("first argument should be an array");return w.reduce(function(y,v){return g(y,v,x)},{})};var b=g;return mo=b,mo}var es={exports:{}},v0=es.exports,El;function x0(){return El||(El=1,(function(n){(function(e,t){n.exports?n.exports=t():e.parseSrcset=t()})(v0,function(){return function(e){function t(y){return y===" "||y==="	"||y===`
`||y==="\f"||y==="\r"}function r(y){var v,S=y.exec(e.substring(b));if(S)return v=S[0],b+=v.length,v}for(var i=e.length,s=/^[ \t\n\r\u000c]+/,o=/^[, \t\n\r\u000c]+/,u=/^[^ \t\n\r\u000c]+/,a=/[,]+$/,l=/^\d+$/,c=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,h,f,d,p,g,b=0,m=[];;){if(r(o),b>=i)return m;h=r(u),f=[],h.slice(-1)===","?(h=h.replace(a,""),x()):w()}function w(){for(r(s),d="",p="in descriptor";;){if(g=e.charAt(b),p==="in descriptor")if(t(g))d&&(f.push(d),d="",p="after descriptor");else if(g===","){b+=1,d&&f.push(d),x();return}else if(g==="(")d=d+g,p="in parens";else if(g===""){d&&f.push(d),x();return}else d=d+g;else if(p==="in parens")if(g===")")d=d+g,p="in descriptor";else if(g===""){f.push(d),x();return}else d=d+g;else if(p==="after descriptor"&&!t(g))if(g===""){x();return}else p="in descriptor",b-=1;b+=1}}function x(){var y=!1,v,S,k,E,O={},N,T,A,R,D;for(E=0;E<f.length;E++)N=f[E],T=N[N.length-1],A=N.substring(0,N.length-1),R=parseInt(A,10),D=parseFloat(A),l.test(A)&&T==="w"?((v||S)&&(y=!0),R===0?y=!0:v=R):c.test(A)&&T==="x"?((v||S||k)&&(y=!0),D<0?y=!0:S=D):l.test(A)&&T==="h"?((k||S)&&(y=!0),R===0?y=!0:k=R):y=!0;y?console&&console.log&&console.log("Invalid srcset descriptor found in '"+e+"' at '"+N+"'."):(O.url=h,v&&(O.w=v),S&&(O.d=S),k&&(O.h=k),m.push(O))}}})})(es)),es.exports}var _i={exports:{}},Ol;function w0(){if(Ol)return _i.exports;Ol=1;var n=String,e=function(){return{isColorSupported:!1,reset:n,bold:n,dim:n,italic:n,underline:n,inverse:n,hidden:n,strikethrough:n,black:n,red:n,green:n,yellow:n,blue:n,magenta:n,cyan:n,white:n,gray:n,bgBlack:n,bgRed:n,bgGreen:n,bgYellow:n,bgBlue:n,bgMagenta:n,bgCyan:n,bgWhite:n,blackBright:n,redBright:n,greenBright:n,yellowBright:n,blueBright:n,magentaBright:n,cyanBright:n,whiteBright:n,bgBlackBright:n,bgRedBright:n,bgGreenBright:n,bgYellowBright:n,bgBlueBright:n,bgMagentaBright:n,bgCyanBright:n,bgWhiteBright:n}};return _i.exports=e(),_i.exports.createColors=e,_i.exports}const S0={},k0=Object.freeze(Object.defineProperty({__proto__:null,default:S0},Symbol.toStringTag,{value:"Module"})),Ht=i0(k0);var go,Al;function Zu(){if(Al)return go;Al=1;let n=w0(),e=Ht;class t extends Error{constructor(i,s,o,u,a,l){super(i),this.name="CssSyntaxError",this.reason=i,a&&(this.file=a),u&&(this.source=u),l&&(this.plugin=l),typeof s<"u"&&typeof o<"u"&&(typeof s=="number"?(this.line=s,this.column=o):(this.line=s.line,this.column=s.column,this.endLine=o.line,this.endColumn=o.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,t)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(i){if(!this.source)return"";let s=this.source;i==null&&(i=n.isColorSupported);let o=d=>d,u=d=>d,a=d=>d;if(i){let{bold:d,gray:p,red:g}=n.createColors(!0);u=b=>d(g(b)),o=b=>p(b),e&&(a=b=>e(b))}let l=s.split(/\r?\n/),c=Math.max(this.line-3,0),h=Math.min(this.line+2,l.length),f=String(h).length;return l.slice(c,h).map((d,p)=>{let g=c+1+p,b=" "+(" "+g).slice(-f)+" | ";if(g===this.line){if(d.length>160){let w=20,x=Math.max(0,this.column-w),y=Math.max(this.column+w,this.endColumn+w),v=d.slice(x,y),S=o(b.replace(/\d/g," "))+d.slice(0,Math.min(this.column-1,w-1)).replace(/[^\t]/g," ");return u(">")+o(b)+a(v)+`
 `+S+u("^")}let m=o(b.replace(/\d/g," "))+d.slice(0,this.column-1).replace(/[^\t]/g," ");return u(">")+o(b)+a(d)+`
 `+m+u("^")}return" "+o(b)+a(d)}).join(`
`)}toString(){let i=this.showSourceCode();return i&&(i=`

`+i+`
`),this.name+": "+this.message+i}}return go=t,t.default=t,go}var bo,Ml;function rd(){if(Ml)return bo;Ml=1;const n={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function e(r){return r[0].toUpperCase()+r.slice(1)}class t{constructor(i){this.builder=i}atrule(i,s){let o="@"+i.name,u=i.params?this.rawValue(i,"params"):"";if(typeof i.raws.afterName<"u"?o+=i.raws.afterName:u&&(o+=" "),i.nodes)this.block(i,o+u);else{let a=(i.raws.between||"")+(s?";":"");this.builder(o+u+a,i)}}beforeAfter(i,s){let o;i.type==="decl"?o=this.raw(i,null,"beforeDecl"):i.type==="comment"?o=this.raw(i,null,"beforeComment"):s==="before"?o=this.raw(i,null,"beforeRule"):o=this.raw(i,null,"beforeClose");let u=i.parent,a=0;for(;u&&u.type!=="root";)a+=1,u=u.parent;if(o.includes(`
`)){let l=this.raw(i,null,"indent");if(l.length)for(let c=0;c<a;c++)o+=l}return o}block(i,s){let o=this.raw(i,"between","beforeOpen");this.builder(s+o+"{",i,"start");let u;i.nodes&&i.nodes.length?(this.body(i),u=this.raw(i,"after")):u=this.raw(i,"after","emptyBody"),u&&this.builder(u),this.builder("}",i,"end")}body(i){let s=i.nodes.length-1;for(;s>0&&i.nodes[s].type==="comment";)s-=1;let o=this.raw(i,"semicolon");for(let u=0;u<i.nodes.length;u++){let a=i.nodes[u],l=this.raw(a,"before");l&&this.builder(l),this.stringify(a,s!==u||o)}}comment(i){let s=this.raw(i,"left","commentLeft"),o=this.raw(i,"right","commentRight");this.builder("/*"+s+i.text+o+"*/",i)}decl(i,s){let o=this.raw(i,"between","colon"),u=i.prop+o+this.rawValue(i,"value");i.important&&(u+=i.raws.important||" !important"),s&&(u+=";"),this.builder(u,i)}document(i){this.body(i)}raw(i,s,o){let u;if(o||(o=s),s&&(u=i.raws[s],typeof u<"u"))return u;let a=i.parent;if(o==="before"&&(!a||a.type==="root"&&a.first===i||a&&a.type==="document"))return"";if(!a)return n[o];let l=i.root();if(l.rawCache||(l.rawCache={}),typeof l.rawCache[o]<"u")return l.rawCache[o];if(o==="before"||o==="after")return this.beforeAfter(i,o);{let c="raw"+e(o);this[c]?u=this[c](l,i):l.walk(h=>{if(u=h.raws[s],typeof u<"u")return!1})}return typeof u>"u"&&(u=n[o]),l.rawCache[o]=u,u}rawBeforeClose(i){let s;return i.walk(o=>{if(o.nodes&&o.nodes.length>0&&typeof o.raws.after<"u")return s=o.raws.after,s.includes(`
`)&&(s=s.replace(/[^\n]+$/,"")),!1}),s&&(s=s.replace(/\S/g,"")),s}rawBeforeComment(i,s){let o;return i.walkComments(u=>{if(typeof u.raws.before<"u")return o=u.raws.before,o.includes(`
`)&&(o=o.replace(/[^\n]+$/,"")),!1}),typeof o>"u"?o=this.raw(s,null,"beforeDecl"):o&&(o=o.replace(/\S/g,"")),o}rawBeforeDecl(i,s){let o;return i.walkDecls(u=>{if(typeof u.raws.before<"u")return o=u.raws.before,o.includes(`
`)&&(o=o.replace(/[^\n]+$/,"")),!1}),typeof o>"u"?o=this.raw(s,null,"beforeRule"):o&&(o=o.replace(/\S/g,"")),o}rawBeforeOpen(i){let s;return i.walk(o=>{if(o.type!=="decl"&&(s=o.raws.between,typeof s<"u"))return!1}),s}rawBeforeRule(i){let s;return i.walk(o=>{if(o.nodes&&(o.parent!==i||i.first!==o)&&typeof o.raws.before<"u")return s=o.raws.before,s.includes(`
`)&&(s=s.replace(/[^\n]+$/,"")),!1}),s&&(s=s.replace(/\S/g,"")),s}rawColon(i){let s;return i.walkDecls(o=>{if(typeof o.raws.between<"u")return s=o.raws.between.replace(/[^\s:]/g,""),!1}),s}rawEmptyBody(i){let s;return i.walk(o=>{if(o.nodes&&o.nodes.length===0&&(s=o.raws.after,typeof s<"u"))return!1}),s}rawIndent(i){if(i.raws.indent)return i.raws.indent;let s;return i.walk(o=>{let u=o.parent;if(u&&u!==i&&u.parent&&u.parent===i&&typeof o.raws.before<"u"){let a=o.raws.before.split(`
`);return s=a[a.length-1],s=s.replace(/\S/g,""),!1}}),s}rawSemicolon(i){let s;return i.walk(o=>{if(o.nodes&&o.nodes.length&&o.last.type==="decl"&&(s=o.raws.semicolon,typeof s<"u"))return!1}),s}rawValue(i,s){let o=i[s],u=i.raws[s];return u&&u.value===o?u.raw:o}root(i){this.body(i),i.raws.after&&this.builder(i.raws.after)}rule(i){this.block(i,this.rawValue(i,"selector")),i.raws.ownSemicolon&&this.builder(i.raws.ownSemicolon,i,"end")}stringify(i,s){if(!this[i.type])throw new Error("Unknown AST node type "+i.type+". Maybe you need to change PostCSS stringifier.");this[i.type](i,s)}}return bo=t,t.default=t,bo}var yo,Nl;function Ns(){if(Nl)return yo;Nl=1;let n=rd();function e(t,r){new n(r).stringify(t)}return yo=e,e.default=e,yo}var Li={},Dl;function ea(){return Dl||(Dl=1,Li.isClean=Symbol("isClean"),Li.my=Symbol("my")),Li}var vo,Il;function Ds(){if(Il)return vo;Il=1;let n=Zu(),e=rd(),t=Ns(),{isClean:r,my:i}=ea();function s(a,l){let c=new a.constructor;for(let h in a){if(!Object.prototype.hasOwnProperty.call(a,h)||h==="proxyCache")continue;let f=a[h],d=typeof f;h==="parent"&&d==="object"?l&&(c[h]=l):h==="source"?c[h]=f:Array.isArray(f)?c[h]=f.map(p=>s(p,c)):(d==="object"&&f!==null&&(f=s(f)),c[h]=f)}return c}function o(a,l){if(l&&typeof l.offset<"u")return l.offset;let c=1,h=1,f=0;for(let d=0;d<a.length;d++){if(h===l.line&&c===l.column){f=d;break}a[d]===`
`?(c=1,h+=1):c+=1}return f}class u{get proxyOf(){return this}constructor(l={}){this.raws={},this[r]=!1,this[i]=!0;for(let c in l)if(c==="nodes"){this.nodes=[];for(let h of l[c])typeof h.clone=="function"?this.append(h.clone()):this.append(h)}else this[c]=l[c]}addToError(l){if(l.postcssNode=this,l.stack&&this.source&&/\n\s{4}at /.test(l.stack)){let c=this.source;l.stack=l.stack.replace(/\n\s{4}at /,`$&${c.input.from}:${c.start.line}:${c.start.column}$&`)}return l}after(l){return this.parent.insertAfter(this,l),this}assign(l={}){for(let c in l)this[c]=l[c];return this}before(l){return this.parent.insertBefore(this,l),this}cleanRaws(l){delete this.raws.before,delete this.raws.after,l||delete this.raws.between}clone(l={}){let c=s(this);for(let h in l)c[h]=l[h];return c}cloneAfter(l={}){let c=this.clone(l);return this.parent.insertAfter(this,c),c}cloneBefore(l={}){let c=this.clone(l);return this.parent.insertBefore(this,c),c}error(l,c={}){if(this.source){let{end:h,start:f}=this.rangeBy(c);return this.source.input.error(l,{column:f.column,line:f.line},{column:h.column,line:h.line},c)}return new n(l)}getProxyProcessor(){return{get(l,c){return c==="proxyOf"?l:c==="root"?()=>l.root().toProxy():l[c]},set(l,c,h){return l[c]===h||(l[c]=h,(c==="prop"||c==="value"||c==="name"||c==="params"||c==="important"||c==="text")&&l.markDirty()),!0}}}markClean(){this[r]=!0}markDirty(){if(this[r]){this[r]=!1;let l=this;for(;l=l.parent;)l[r]=!1}}next(){if(!this.parent)return;let l=this.parent.index(this);return this.parent.nodes[l+1]}positionBy(l={}){let c=this.source.start;if(l.index)c=this.positionInside(l.index);else if(l.word){let h="document"in this.source.input?this.source.input.document:this.source.input.css,d=h.slice(o(h,this.source.start),o(h,this.source.end)).indexOf(l.word);d!==-1&&(c=this.positionInside(d))}return c}positionInside(l){let c=this.source.start.column,h=this.source.start.line,f="document"in this.source.input?this.source.input.document:this.source.input.css,d=o(f,this.source.start),p=d+l;for(let g=d;g<p;g++)f[g]===`
`?(c=1,h+=1):c+=1;return{column:c,line:h,offset:p}}prev(){if(!this.parent)return;let l=this.parent.index(this);return this.parent.nodes[l-1]}rangeBy(l={}){let c="document"in this.source.input?this.source.input.document:this.source.input.css,h={column:this.source.start.column,line:this.source.start.line,offset:o(c,this.source.start)},f=this.source.end?{column:this.source.end.column+1,line:this.source.end.line,offset:typeof this.source.end.offset=="number"?this.source.end.offset:o(c,this.source.end)+1}:{column:h.column+1,line:h.line,offset:h.offset+1};if(l.word){let p=c.slice(o(c,this.source.start),o(c,this.source.end)).indexOf(l.word);p!==-1&&(h=this.positionInside(p),f=this.positionInside(p+l.word.length))}else l.start?h={column:l.start.column,line:l.start.line,offset:o(c,l.start)}:l.index&&(h=this.positionInside(l.index)),l.end?f={column:l.end.column,line:l.end.line,offset:o(c,l.end)}:typeof l.endIndex=="number"?f=this.positionInside(l.endIndex):l.index&&(f=this.positionInside(l.index+1));return(f.line<h.line||f.line===h.line&&f.column<=h.column)&&(f={column:h.column+1,line:h.line,offset:h.offset+1}),{end:f,start:h}}raw(l,c){return new e().raw(this,l,c)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...l){if(this.parent){let c=this,h=!1;for(let f of l)f===this?h=!0:h?(this.parent.insertAfter(c,f),c=f):this.parent.insertBefore(c,f);h||this.remove()}return this}root(){let l=this;for(;l.parent&&l.parent.type!=="document";)l=l.parent;return l}toJSON(l,c){let h={},f=c==null;c=c||new Map;let d=0;for(let p in this){if(!Object.prototype.hasOwnProperty.call(this,p)||p==="parent"||p==="proxyCache")continue;let g=this[p];if(Array.isArray(g))h[p]=g.map(b=>typeof b=="object"&&b.toJSON?b.toJSON(null,c):b);else if(typeof g=="object"&&g.toJSON)h[p]=g.toJSON(null,c);else if(p==="source"){if(g==null)continue;let b=c.get(g.input);b==null&&(b=d,c.set(g.input,d),d++),h[p]={end:g.end,inputId:b,start:g.start}}else h[p]=g}return f&&(h.inputs=[...c.keys()].map(p=>p.toJSON())),h}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(l=t){l.stringify&&(l=l.stringify);let c="";return l(this,h=>{c+=h}),c}warn(l,c,h={}){let f={node:this};for(let d in h)f[d]=h[d];return l.warn(c,f)}}return vo=u,u.default=u,vo}var xo,Rl;function Is(){if(Rl)return xo;Rl=1;let n=Ds();class e extends n{constructor(r){super(r),this.type="comment"}}return xo=e,e.default=e,xo}var wo,Pl;function Rs(){if(Pl)return wo;Pl=1;let n=Ds();class e extends n{get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}constructor(r){r&&typeof r.value<"u"&&typeof r.value!="string"&&(r={...r,value:String(r.value)}),super(r),this.type="decl"}}return wo=e,e.default=e,wo}var So,_l;function gr(){if(_l)return So;_l=1;let n=Is(),e=Rs(),t=Ds(),{isClean:r,my:i}=ea(),s,o,u,a;function l(f){return f.map(d=>(d.nodes&&(d.nodes=l(d.nodes)),delete d.source,d))}function c(f){if(f[r]=!1,f.proxyOf.nodes)for(let d of f.proxyOf.nodes)c(d)}class h extends t{get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}append(...d){for(let p of d){let g=this.normalize(p,this.last);for(let b of g)this.proxyOf.nodes.push(b)}return this.markDirty(),this}cleanRaws(d){if(super.cleanRaws(d),this.nodes)for(let p of this.nodes)p.cleanRaws(d)}each(d){if(!this.proxyOf.nodes)return;let p=this.getIterator(),g,b;for(;this.indexes[p]<this.proxyOf.nodes.length&&(g=this.indexes[p],b=d(this.proxyOf.nodes[g],g),b!==!1);)this.indexes[p]+=1;return delete this.indexes[p],b}every(d){return this.nodes.every(d)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let d=this.lastEach;return this.indexes[d]=0,d}getProxyProcessor(){return{get(d,p){return p==="proxyOf"?d:d[p]?p==="each"||typeof p=="string"&&p.startsWith("walk")?(...g)=>d[p](...g.map(b=>typeof b=="function"?(m,w)=>b(m.toProxy(),w):b)):p==="every"||p==="some"?g=>d[p]((b,...m)=>g(b.toProxy(),...m)):p==="root"?()=>d.root().toProxy():p==="nodes"?d.nodes.map(g=>g.toProxy()):p==="first"||p==="last"?d[p].toProxy():d[p]:d[p]},set(d,p,g){return d[p]===g||(d[p]=g,(p==="name"||p==="params"||p==="selector")&&d.markDirty()),!0}}}index(d){return typeof d=="number"?d:(d.proxyOf&&(d=d.proxyOf),this.proxyOf.nodes.indexOf(d))}insertAfter(d,p){let g=this.index(d),b=this.normalize(p,this.proxyOf.nodes[g]).reverse();g=this.index(d);for(let w of b)this.proxyOf.nodes.splice(g+1,0,w);let m;for(let w in this.indexes)m=this.indexes[w],g<m&&(this.indexes[w]=m+b.length);return this.markDirty(),this}insertBefore(d,p){let g=this.index(d),b=g===0?"prepend":!1,m=this.normalize(p,this.proxyOf.nodes[g],b).reverse();g=this.index(d);for(let x of m)this.proxyOf.nodes.splice(g,0,x);let w;for(let x in this.indexes)w=this.indexes[x],g<=w&&(this.indexes[x]=w+m.length);return this.markDirty(),this}normalize(d,p){if(typeof d=="string")d=l(o(d).nodes);else if(typeof d>"u")d=[];else if(Array.isArray(d)){d=d.slice(0);for(let b of d)b.parent&&b.parent.removeChild(b,"ignore")}else if(d.type==="root"&&this.type!=="document"){d=d.nodes.slice(0);for(let b of d)b.parent&&b.parent.removeChild(b,"ignore")}else if(d.type)d=[d];else if(d.prop){if(typeof d.value>"u")throw new Error("Value field is missed in node creation");typeof d.value!="string"&&(d.value=String(d.value)),d=[new e(d)]}else if(d.selector||d.selectors)d=[new a(d)];else if(d.name)d=[new s(d)];else if(d.text)d=[new n(d)];else throw new Error("Unknown node type in node creation");return d.map(b=>(b[i]||h.rebuild(b),b=b.proxyOf,b.parent&&b.parent.removeChild(b),b[r]&&c(b),b.raws||(b.raws={}),typeof b.raws.before>"u"&&p&&typeof p.raws.before<"u"&&(b.raws.before=p.raws.before.replace(/\S/g,"")),b.parent=this.proxyOf,b))}prepend(...d){d=d.reverse();for(let p of d){let g=this.normalize(p,this.first,"prepend").reverse();for(let b of g)this.proxyOf.nodes.unshift(b);for(let b in this.indexes)this.indexes[b]=this.indexes[b]+g.length}return this.markDirty(),this}push(d){return d.parent=this,this.proxyOf.nodes.push(d),this}removeAll(){for(let d of this.proxyOf.nodes)d.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(d){d=this.index(d),this.proxyOf.nodes[d].parent=void 0,this.proxyOf.nodes.splice(d,1);let p;for(let g in this.indexes)p=this.indexes[g],p>=d&&(this.indexes[g]=p-1);return this.markDirty(),this}replaceValues(d,p,g){return g||(g=p,p={}),this.walkDecls(b=>{p.props&&!p.props.includes(b.prop)||p.fast&&!b.value.includes(p.fast)||(b.value=b.value.replace(d,g))}),this.markDirty(),this}some(d){return this.nodes.some(d)}walk(d){return this.each((p,g)=>{let b;try{b=d(p,g)}catch(m){throw p.addToError(m)}return b!==!1&&p.walk&&(b=p.walk(d)),b})}walkAtRules(d,p){return p?d instanceof RegExp?this.walk((g,b)=>{if(g.type==="atrule"&&d.test(g.name))return p(g,b)}):this.walk((g,b)=>{if(g.type==="atrule"&&g.name===d)return p(g,b)}):(p=d,this.walk((g,b)=>{if(g.type==="atrule")return p(g,b)}))}walkComments(d){return this.walk((p,g)=>{if(p.type==="comment")return d(p,g)})}walkDecls(d,p){return p?d instanceof RegExp?this.walk((g,b)=>{if(g.type==="decl"&&d.test(g.prop))return p(g,b)}):this.walk((g,b)=>{if(g.type==="decl"&&g.prop===d)return p(g,b)}):(p=d,this.walk((g,b)=>{if(g.type==="decl")return p(g,b)}))}walkRules(d,p){return p?d instanceof RegExp?this.walk((g,b)=>{if(g.type==="rule"&&d.test(g.selector))return p(g,b)}):this.walk((g,b)=>{if(g.type==="rule"&&g.selector===d)return p(g,b)}):(p=d,this.walk((g,b)=>{if(g.type==="rule")return p(g,b)}))}}return h.registerParse=f=>{o=f},h.registerRule=f=>{a=f},h.registerAtRule=f=>{s=f},h.registerRoot=f=>{u=f},So=h,h.default=h,h.rebuild=f=>{f.type==="atrule"?Object.setPrototypeOf(f,s.prototype):f.type==="rule"?Object.setPrototypeOf(f,a.prototype):f.type==="decl"?Object.setPrototypeOf(f,e.prototype):f.type==="comment"?Object.setPrototypeOf(f,n.prototype):f.type==="root"&&Object.setPrototypeOf(f,u.prototype),f[i]=!0,f.nodes&&f.nodes.forEach(d=>{h.rebuild(d)})},So}var ko,Ll;function ta(){if(Ll)return ko;Ll=1;let n=gr();class e extends n{constructor(r){super(r),this.type="atrule"}append(...r){return this.proxyOf.nodes||(this.nodes=[]),super.append(...r)}prepend(...r){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...r)}}return ko=e,e.default=e,n.registerAtRule(e),ko}var Co,Bl;function na(){if(Bl)return Co;Bl=1;let n=gr(),e,t;class r extends n{constructor(s){super({type:"document",...s}),this.nodes||(this.nodes=[])}toResult(s={}){return new e(new t,this,s).stringify()}}return r.registerLazyResult=i=>{e=i},r.registerProcessor=i=>{t=i},Co=r,r.default=r,Co}var To,ql;function C0(){if(ql)return To;ql=1;let n="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";return To={nanoid:(r=21)=>{let i="",s=r|0;for(;s--;)i+=n[Math.random()*64|0];return i},customAlphabet:(r,i=21)=>(s=i)=>{let o="",u=s|0;for(;u--;)o+=r[Math.random()*r.length|0];return o}},To}var Eo,zl;function id(){if(zl)return Eo;zl=1;let{existsSync:n,readFileSync:e}=Ht,{dirname:t,join:r}=Ht,{SourceMapConsumer:i,SourceMapGenerator:s}=Ht;function o(a){return Buffer?Buffer.from(a,"base64").toString():window.atob(a)}class u{constructor(l,c){if(c.map===!1)return;this.loadAnnotation(l),this.inline=this.startWith(this.annotation,"data:");let h=c.map?c.map.prev:void 0,f=this.loadMap(c.from,h);!this.mapFile&&c.from&&(this.mapFile=c.from),this.mapFile&&(this.root=t(this.mapFile)),f&&(this.text=f)}consumer(){return this.consumerCache||(this.consumerCache=new i(this.text)),this.consumerCache}decodeInline(l){let c=/^data:application\/json;charset=utf-?8;base64,/,h=/^data:application\/json;base64,/,f=/^data:application\/json;charset=utf-?8,/,d=/^data:application\/json,/,p=l.match(f)||l.match(d);if(p)return decodeURIComponent(l.substr(p[0].length));let g=l.match(c)||l.match(h);if(g)return o(l.substr(g[0].length));let b=l.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+b)}getAnnotationURL(l){return l.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(l){return typeof l!="object"?!1:typeof l.mappings=="string"||typeof l._mappings=="string"||Array.isArray(l.sections)}loadAnnotation(l){let c=l.match(/\/\*\s*# sourceMappingURL=/g);if(!c)return;let h=l.lastIndexOf(c.pop()),f=l.indexOf("*/",h);h>-1&&f>-1&&(this.annotation=this.getAnnotationURL(l.substring(h,f)))}loadFile(l){if(this.root=t(l),n(l))return this.mapFile=l,e(l,"utf-8").toString().trim()}loadMap(l,c){if(c===!1)return!1;if(c){if(typeof c=="string")return c;if(typeof c=="function"){let h=c(l);if(h){let f=this.loadFile(h);if(!f)throw new Error("Unable to load previous source map: "+h.toString());return f}}else{if(c instanceof i)return s.fromSourceMap(c).toString();if(c instanceof s)return c.toString();if(this.isMap(c))return JSON.stringify(c);throw new Error("Unsupported previous source map format: "+c.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let h=this.annotation;return l&&(h=r(t(l),h)),this.loadFile(h)}}}startWith(l,c){return l?l.substr(0,c.length)===c:!1}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}}return Eo=u,u.default=u,Eo}var Oo,Fl;function Ps(){if(Fl)return Oo;Fl=1;let{nanoid:n}=C0(),{isAbsolute:e,resolve:t}=Ht,{SourceMapConsumer:r,SourceMapGenerator:i}=Ht,{fileURLToPath:s,pathToFileURL:o}=Ht,u=Zu(),a=id(),l=Ht,c=Symbol("lineToIndexCache"),h=!!(r&&i),f=!!(t&&e);function d(g){if(g[c])return g[c];let b=g.css.split(`
`),m=new Array(b.length),w=0;for(let x=0,y=b.length;x<y;x++)m[x]=w,w+=b[x].length+1;return g[c]=m,m}class p{get from(){return this.file||this.id}constructor(b,m={}){if(b===null||typeof b>"u"||typeof b=="object"&&!b.toString)throw new Error(`PostCSS received ${b} instead of CSS string`);if(this.css=b.toString(),this.css[0]==="\uFEFF"||this.css[0]==="ï¿¾"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,this.document=this.css,m.document&&(this.document=m.document.toString()),m.from&&(!f||/^\w+:\/\//.test(m.from)||e(m.from)?this.file=m.from:this.file=t(m.from)),f&&h){let w=new a(this.css,m);if(w.text){this.map=w;let x=w.consumer().file;!this.file&&x&&(this.file=this.mapResolve(x))}}this.file||(this.id="<input css "+n(6)+">"),this.map&&(this.map.file=this.from)}error(b,m,w,x={}){let y,v,S,k,E;if(m&&typeof m=="object"){let N=m,T=w;if(typeof N.offset=="number"){k=N.offset;let A=this.fromOffset(k);m=A.line,w=A.col}else m=N.line,w=N.column,k=this.fromLineAndColumn(m,w);if(typeof T.offset=="number"){S=T.offset;let A=this.fromOffset(S);v=A.line,y=A.col}else v=T.line,y=T.column,S=this.fromLineAndColumn(T.line,T.column)}else if(w)k=this.fromLineAndColumn(m,w);else{k=m;let N=this.fromOffset(k);m=N.line,w=N.col}let O=this.origin(m,w,v,y);return O?E=new u(b,O.endLine===void 0?O.line:{column:O.column,line:O.line},O.endLine===void 0?O.column:{column:O.endColumn,line:O.endLine},O.source,O.file,x.plugin):E=new u(b,v===void 0?m:{column:w,line:m},v===void 0?w:{column:y,line:v},this.css,this.file,x.plugin),E.input={column:w,endColumn:y,endLine:v,endOffset:S,line:m,offset:k,source:this.css},this.file&&(o&&(E.input.url=o(this.file).toString()),E.input.file=this.file),E}fromLineAndColumn(b,m){return d(this)[b-1]+m-1}fromOffset(b){let m=d(this),w=m[m.length-1],x=0;if(b>=w)x=m.length-1;else{let y=m.length-2,v;for(;x<y;)if(v=x+(y-x>>1),b<m[v])y=v-1;else if(b>=m[v+1])x=v+1;else{x=v;break}}return{col:b-m[x]+1,line:x+1}}mapResolve(b){return/^\w+:\/\//.test(b)?b:t(this.map.consumer().sourceRoot||this.map.root||".",b)}origin(b,m,w,x){if(!this.map)return!1;let y=this.map.consumer(),v=y.originalPositionFor({column:m,line:b});if(!v.source)return!1;let S;typeof w=="number"&&(S=y.originalPositionFor({column:x,line:w}));let k;e(v.source)?k=o(v.source):k=new URL(v.source,this.map.consumer().sourceRoot||o(this.map.mapFile));let E={column:v.column,endColumn:S&&S.column,endLine:S&&S.line,line:v.line,url:k.toString()};if(k.protocol==="file:")if(s)E.file=s(k);else throw new Error("file: protocol is not available in this PostCSS build");let O=y.sourceContentFor(v.source);return O&&(E.source=O),E}toJSON(){let b={};for(let m of["hasBOM","css","file","id"])this[m]!=null&&(b[m]=this[m]);return this.map&&(b.map={...this.map},b.map.consumerCache&&(b.map.consumerCache=void 0)),b}}return Oo=p,p.default=p,l&&l.registerInput&&l.registerInput(p),Oo}var Ao,jl;function wi(){if(jl)return Ao;jl=1;let n=gr(),e,t;class r extends n{constructor(s){super(s),this.type="root",this.nodes||(this.nodes=[])}normalize(s,o,u){let a=super.normalize(s);if(o){if(u==="prepend")this.nodes.length>1?o.raws.before=this.nodes[1].raws.before:delete o.raws.before;else if(this.first!==o)for(let l of a)l.raws.before=o.raws.before}return a}removeChild(s,o){let u=this.index(s);return!o&&u===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[u].raws.before),super.removeChild(s)}toResult(s={}){return new e(new t,this,s).stringify()}}return r.registerLazyResult=i=>{e=i},r.registerProcessor=i=>{t=i},Ao=r,r.default=r,n.registerRoot(r),Ao}var Mo,Vl;function sd(){if(Vl)return Mo;Vl=1;let n={comma(e){return n.split(e,[","],!0)},space(e){let t=[" ",`
`,"	"];return n.split(e,t)},split(e,t,r){let i=[],s="",o=!1,u=0,a=!1,l="",c=!1;for(let h of e)c?c=!1:h==="\\"?c=!0:a?h===l&&(a=!1):h==='"'||h==="'"?(a=!0,l=h):h==="("?u+=1:h===")"?u>0&&(u-=1):u===0&&t.includes(h)&&(o=!0),o?(s!==""&&i.push(s.trim()),s="",o=!1):s+=h;return(r||s!=="")&&i.push(s.trim()),i}};return Mo=n,n.default=n,Mo}var No,Hl;function ra(){if(Hl)return No;Hl=1;let n=gr(),e=sd();class t extends n{get selectors(){return e.comma(this.selector)}set selectors(i){let s=this.selector?this.selector.match(/,\s*/):null,o=s?s[0]:","+this.raw("between","beforeOpen");this.selector=i.join(o)}constructor(i){super(i),this.type="rule",this.nodes||(this.nodes=[])}}return No=t,t.default=t,n.registerRule(t),No}var Do,Ul;function T0(){if(Ul)return Do;Ul=1;let n=ta(),e=Is(),t=Rs(),r=Ps(),i=id(),s=wi(),o=ra();function u(a,l){if(Array.isArray(a))return a.map(f=>u(f));let{inputs:c,...h}=a;if(c){l=[];for(let f of c){let d={...f,__proto__:r.prototype};d.map&&(d.map={...d.map,__proto__:i.prototype}),l.push(d)}}if(h.nodes&&(h.nodes=a.nodes.map(f=>u(f,l))),h.source){let{inputId:f,...d}=h.source;h.source=d,f!=null&&(h.source.input=l[f])}if(h.type==="root")return new s(h);if(h.type==="decl")return new t(h);if(h.type==="rule")return new o(h);if(h.type==="comment")return new e(h);if(h.type==="atrule")return new n(h);throw new Error("Unknown node type: "+a.type)}return Do=u,u.default=u,Do}var Io,Wl;function od(){if(Wl)return Io;Wl=1;let{dirname:n,relative:e,resolve:t,sep:r}=Ht,{SourceMapConsumer:i,SourceMapGenerator:s}=Ht,{pathToFileURL:o}=Ht,u=Ps(),a=!!(i&&s),l=!!(n&&t&&e&&r);class c{constructor(f,d,p,g){this.stringify=f,this.mapOpts=p.map||{},this.root=d,this.opts=p,this.css=g,this.originalCSS=g,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let f;this.isInline()?f="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?f=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?f=this.mapOpts.annotation(this.opts.to,this.root):f=this.outputFile()+".map";let d=`
`;this.css.includes(`\r
`)&&(d=`\r
`),this.css+=d+"/*# sourceMappingURL="+f+" */"}applyPrevMaps(){for(let f of this.previous()){let d=this.toUrl(this.path(f.file)),p=f.root||n(f.file),g;this.mapOpts.sourcesContent===!1?(g=new i(f.text),g.sourcesContent&&(g.sourcesContent=null)):g=f.consumer(),this.map.applySourceMap(g,d,this.toUrl(this.path(p)))}}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let f;for(let d=this.root.nodes.length-1;d>=0;d--)f=this.root.nodes[d],f.type==="comment"&&f.text.startsWith("# sourceMappingURL=")&&this.root.removeChild(d)}else this.css&&(this.css=this.css.replace(/\n*\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),l&&a&&this.isMap())return this.generateMap();{let f="";return this.stringify(this.root,d=>{f+=d}),[f]}}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let f=this.previous()[0].consumer();f.file=this.outputFile(),this.map=s.fromSourceMap(f,{ignoreInvalidMapping:!0})}else this.map=new s({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new s({file:this.outputFile(),ignoreInvalidMapping:!0});let f=1,d=1,p="<no source>",g={generated:{column:0,line:0},original:{column:0,line:0},source:""},b,m;this.stringify(this.root,(w,x,y)=>{if(this.css+=w,x&&y!=="end"&&(g.generated.line=f,g.generated.column=d-1,x.source&&x.source.start?(g.source=this.sourcePath(x),g.original.line=x.source.start.line,g.original.column=x.source.start.column-1,this.map.addMapping(g)):(g.source=p,g.original.line=1,g.original.column=0,this.map.addMapping(g))),m=w.match(/\n/g),m?(f+=m.length,b=w.lastIndexOf(`
`),d=w.length-b):d+=w.length,x&&y!=="start"){let v=x.parent||{raws:{}};(!(x.type==="decl"||x.type==="atrule"&&!x.nodes)||x!==v.last||v.raws.semicolon)&&(x.source&&x.source.end?(g.source=this.sourcePath(x),g.original.line=x.source.end.line,g.original.column=x.source.end.column-1,g.generated.line=f,g.generated.column=d-2,this.map.addMapping(g)):(g.source=p,g.original.line=1,g.original.column=0,g.generated.line=f,g.generated.column=d-1,this.map.addMapping(g)))}})}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(f=>f.annotation):!0}isInline(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;let f=this.mapOpts.annotation;return typeof f<"u"&&f!==!0?!1:this.previous().length?this.previous().some(d=>d.inline):!0}isMap(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0}isSourcesContent(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(f=>f.withContent()):!0}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(f){if(this.mapOpts.absolute||f.charCodeAt(0)===60||/^\w+:\/\//.test(f))return f;let d=this.memoizedPaths.get(f);if(d)return d;let p=this.opts.to?n(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(p=n(t(p,this.mapOpts.annotation)));let g=e(p,f);return this.memoizedPaths.set(f,g),g}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(f=>{if(f.source&&f.source.input.map){let d=f.source.input.map;this.previousMaps.includes(d)||this.previousMaps.push(d)}});else{let f=new u(this.originalCSS,this.opts);f.map&&this.previousMaps.push(f.map)}return this.previousMaps}setSourcesContent(){let f={};if(this.root)this.root.walk(d=>{if(d.source){let p=d.source.input.from;if(p&&!f[p]){f[p]=!0;let g=this.usesFileUrls?this.toFileUrl(p):this.toUrl(this.path(p));this.map.setSourceContent(g,d.source.input.css)}}});else if(this.css){let d=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(d,this.css)}}sourcePath(f){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(f.source.input.from):this.toUrl(this.path(f.source.input.from))}toBase64(f){return Buffer?Buffer.from(f).toString("base64"):window.btoa(unescape(encodeURIComponent(f)))}toFileUrl(f){let d=this.memoizedFileURLs.get(f);if(d)return d;if(o){let p=o(f).toString();return this.memoizedFileURLs.set(f,p),p}else throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(f){let d=this.memoizedURLs.get(f);if(d)return d;r==="\\"&&(f=f.replace(/\\/g,"/"));let p=encodeURI(f).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(f,p),p}}return Io=c,Io}var Ro,Jl;function E0(){if(Jl)return Ro;Jl=1;const n=39,e=34,t=92,r=47,i=10,s=32,o=12,u=9,a=13,l=91,c=93,h=40,f=41,d=123,p=125,g=59,b=42,m=58,w=64,x=/[\t\n\f\r "#'()/;[\\\]{}]/g,y=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,v=/.[\r\n"'(/\\]/,S=/[\da-f]/i;return Ro=function(E,O={}){let N=E.css.valueOf(),T=O.ignoreErrors,A,R,D,M,q,j,F,_,W,Y,ue=N.length,J=0,ae=[],be=[];function ke(){return J}function Oe(I){throw E.error("Unclosed "+I,J)}function ze(){return be.length===0&&J>=ue}function Ve(I){if(be.length)return be.pop();if(J>=ue)return;let z=I?I.ignoreUnclosed:!1;switch(A=N.charCodeAt(J),A){case i:case s:case u:case a:case o:{M=J;do M+=1,A=N.charCodeAt(M);while(A===s||A===i||A===u||A===a||A===o);j=["space",N.slice(J,M)],J=M-1;break}case l:case c:case d:case p:case m:case g:case f:{let B=String.fromCharCode(A);j=[B,B,J];break}case h:{if(Y=ae.length?ae.pop()[1]:"",W=N.charCodeAt(J+1),Y==="url"&&W!==n&&W!==e&&W!==s&&W!==i&&W!==u&&W!==o&&W!==a){M=J;do{if(F=!1,M=N.indexOf(")",M+1),M===-1)if(T||z){M=J;break}else Oe("bracket");for(_=M;N.charCodeAt(_-1)===t;)_-=1,F=!F}while(F);j=["brackets",N.slice(J,M+1),J,M],J=M}else M=N.indexOf(")",J+1),R=N.slice(J,M+1),M===-1||v.test(R)?j=["(","(",J]:(j=["brackets",R,J,M],J=M);break}case n:case e:{q=A===n?"'":'"',M=J;do{if(F=!1,M=N.indexOf(q,M+1),M===-1)if(T||z){M=J+1;break}else Oe("string");for(_=M;N.charCodeAt(_-1)===t;)_-=1,F=!F}while(F);j=["string",N.slice(J,M+1),J,M],J=M;break}case w:{x.lastIndex=J+1,x.test(N),x.lastIndex===0?M=N.length-1:M=x.lastIndex-2,j=["at-word",N.slice(J,M+1),J,M],J=M;break}case t:{for(M=J,D=!0;N.charCodeAt(M+1)===t;)M+=1,D=!D;if(A=N.charCodeAt(M+1),D&&A!==r&&A!==s&&A!==i&&A!==u&&A!==a&&A!==o&&(M+=1,S.test(N.charAt(M)))){for(;S.test(N.charAt(M+1));)M+=1;N.charCodeAt(M+1)===s&&(M+=1)}j=["word",N.slice(J,M+1),J,M],J=M;break}default:{A===r&&N.charCodeAt(J+1)===b?(M=N.indexOf("*/",J+2)+1,M===0&&(T||z?M=N.length:Oe("comment")),j=["comment",N.slice(J,M+1),J,M],J=M):(y.lastIndex=J+1,y.test(N),y.lastIndex===0?M=N.length-1:M=y.lastIndex-2,j=["word",N.slice(J,M+1),J,M],ae.push(j),J=M);break}}return J++,j}function He(I){be.push(I)}return{back:He,endOfFile:ze,nextToken:Ve,position:ke}},Ro}var Po,Gl;function O0(){if(Gl)return Po;Gl=1;let n=ta(),e=Is(),t=Rs(),r=wi(),i=ra(),s=E0();const o={empty:!0,space:!0};function u(l){for(let c=l.length-1;c>=0;c--){let h=l[c],f=h[3]||h[2];if(f)return f}}class a{constructor(c){this.input=c,this.root=new r,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:c,start:{column:1,line:1,offset:0}}}atrule(c){let h=new n;h.name=c[1].slice(1),h.name===""&&this.unnamedAtrule(h,c),this.init(h,c[2]);let f,d,p,g=!1,b=!1,m=[],w=[];for(;!this.tokenizer.endOfFile();){if(c=this.tokenizer.nextToken(),f=c[0],f==="("||f==="["?w.push(f==="("?")":"]"):f==="{"&&w.length>0?w.push("}"):f===w[w.length-1]&&w.pop(),w.length===0)if(f===";"){h.source.end=this.getPosition(c[2]),h.source.end.offset++,this.semicolon=!0;break}else if(f==="{"){b=!0;break}else if(f==="}"){if(m.length>0){for(p=m.length-1,d=m[p];d&&d[0]==="space";)d=m[--p];d&&(h.source.end=this.getPosition(d[3]||d[2]),h.source.end.offset++)}this.end(c);break}else m.push(c);else m.push(c);if(this.tokenizer.endOfFile()){g=!0;break}}h.raws.between=this.spacesAndCommentsFromEnd(m),m.length?(h.raws.afterName=this.spacesAndCommentsFromStart(m),this.raw(h,"params",m),g&&(c=m[m.length-1],h.source.end=this.getPosition(c[3]||c[2]),h.source.end.offset++,this.spaces=h.raws.between,h.raws.between="")):(h.raws.afterName="",h.params=""),b&&(h.nodes=[],this.current=h)}checkMissedSemicolon(c){let h=this.colon(c);if(h===!1)return;let f=0,d;for(let p=h-1;p>=0&&(d=c[p],!(d[0]!=="space"&&(f+=1,f===2)));p--);throw this.input.error("Missed semicolon",d[0]==="word"?d[3]+1:d[2])}colon(c){let h=0,f,d,p;for(let[g,b]of c.entries()){if(d=b,p=d[0],p==="("&&(h+=1),p===")"&&(h-=1),h===0&&p===":")if(!f)this.doubleColon(d);else{if(f[0]==="word"&&f[1]==="progid")continue;return g}f=d}return!1}comment(c){let h=new e;this.init(h,c[2]),h.source.end=this.getPosition(c[3]||c[2]),h.source.end.offset++;let f=c[1].slice(2,-2);if(/^\s*$/.test(f))h.text="",h.raws.left=f,h.raws.right="";else{let d=f.match(/^(\s*)([^]*\S)(\s*)$/);h.text=d[2],h.raws.left=d[1],h.raws.right=d[3]}}createTokenizer(){this.tokenizer=s(this.input)}decl(c,h){let f=new t;this.init(f,c[0][2]);let d=c[c.length-1];for(d[0]===";"&&(this.semicolon=!0,c.pop()),f.source.end=this.getPosition(d[3]||d[2]||u(c)),f.source.end.offset++;c[0][0]!=="word";)c.length===1&&this.unknownWord(c),f.raws.before+=c.shift()[1];for(f.source.start=this.getPosition(c[0][2]),f.prop="";c.length;){let w=c[0][0];if(w===":"||w==="space"||w==="comment")break;f.prop+=c.shift()[1]}f.raws.between="";let p;for(;c.length;)if(p=c.shift(),p[0]===":"){f.raws.between+=p[1];break}else p[0]==="word"&&/\w/.test(p[1])&&this.unknownWord([p]),f.raws.between+=p[1];(f.prop[0]==="_"||f.prop[0]==="*")&&(f.raws.before+=f.prop[0],f.prop=f.prop.slice(1));let g=[],b;for(;c.length&&(b=c[0][0],!(b!=="space"&&b!=="comment"));)g.push(c.shift());this.precheckMissedSemicolon(c);for(let w=c.length-1;w>=0;w--){if(p=c[w],p[1].toLowerCase()==="!important"){f.important=!0;let x=this.stringFrom(c,w);x=this.spacesFromEnd(c)+x,x!==" !important"&&(f.raws.important=x);break}else if(p[1].toLowerCase()==="important"){let x=c.slice(0),y="";for(let v=w;v>0;v--){let S=x[v][0];if(y.trim().startsWith("!")&&S!=="space")break;y=x.pop()[1]+y}y.trim().startsWith("!")&&(f.important=!0,f.raws.important=y,c=x)}if(p[0]!=="space"&&p[0]!=="comment")break}c.some(w=>w[0]!=="space"&&w[0]!=="comment")&&(f.raws.between+=g.map(w=>w[1]).join(""),g=[]),this.raw(f,"value",g.concat(c),h),f.value.includes(":")&&!h&&this.checkMissedSemicolon(c)}doubleColon(c){throw this.input.error("Double colon",{offset:c[2]},{offset:c[2]+c[1].length})}emptyRule(c){let h=new i;this.init(h,c[2]),h.selector="",h.raws.between="",this.current=h}end(c){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(c[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(c)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(c){if(this.spaces+=c[1],this.current.nodes){let h=this.current.nodes[this.current.nodes.length-1];h&&h.type==="rule"&&!h.raws.ownSemicolon&&(h.raws.ownSemicolon=this.spaces,this.spaces="",h.source.end=this.getPosition(c[2]),h.source.end.offset+=h.raws.ownSemicolon.length)}}getPosition(c){let h=this.input.fromOffset(c);return{column:h.col,line:h.line,offset:c}}init(c,h){this.current.push(c),c.source={input:this.input,start:this.getPosition(h)},c.raws.before=this.spaces,this.spaces="",c.type!=="comment"&&(this.semicolon=!1)}other(c){let h=!1,f=null,d=!1,p=null,g=[],b=c[1].startsWith("--"),m=[],w=c;for(;w;){if(f=w[0],m.push(w),f==="("||f==="[")p||(p=w),g.push(f==="("?")":"]");else if(b&&d&&f==="{")p||(p=w),g.push("}");else if(g.length===0)if(f===";")if(d){this.decl(m,b);return}else break;else if(f==="{"){this.rule(m);return}else if(f==="}"){this.tokenizer.back(m.pop()),h=!0;break}else f===":"&&(d=!0);else f===g[g.length-1]&&(g.pop(),g.length===0&&(p=null));w=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(h=!0),g.length>0&&this.unclosedBracket(p),h&&d){if(!b)for(;m.length&&(w=m[m.length-1][0],!(w!=="space"&&w!=="comment"));)this.tokenizer.back(m.pop());this.decl(m,b)}else this.unknownWord(m)}parse(){let c;for(;!this.tokenizer.endOfFile();)switch(c=this.tokenizer.nextToken(),c[0]){case"space":this.spaces+=c[1];break;case";":this.freeSemicolon(c);break;case"}":this.end(c);break;case"comment":this.comment(c);break;case"at-word":this.atrule(c);break;case"{":this.emptyRule(c);break;default:this.other(c);break}this.endFile()}precheckMissedSemicolon(){}raw(c,h,f,d){let p,g,b=f.length,m="",w=!0,x,y;for(let v=0;v<b;v+=1)p=f[v],g=p[0],g==="space"&&v===b-1&&!d?w=!1:g==="comment"?(y=f[v-1]?f[v-1][0]:"empty",x=f[v+1]?f[v+1][0]:"empty",!o[y]&&!o[x]?m.slice(-1)===","?w=!1:m+=p[1]:w=!1):m+=p[1];if(!w){let v=f.reduce((S,k)=>S+k[1],"");c.raws[h]={raw:v,value:m}}c[h]=m}rule(c){c.pop();let h=new i;this.init(h,c[0][2]),h.raws.between=this.spacesAndCommentsFromEnd(c),this.raw(h,"selector",c),this.current=h}spacesAndCommentsFromEnd(c){let h,f="";for(;c.length&&(h=c[c.length-1][0],!(h!=="space"&&h!=="comment"));)f=c.pop()[1]+f;return f}spacesAndCommentsFromStart(c){let h,f="";for(;c.length&&(h=c[0][0],!(h!=="space"&&h!=="comment"));)f+=c.shift()[1];return f}spacesFromEnd(c){let h,f="";for(;c.length&&(h=c[c.length-1][0],h==="space");)f=c.pop()[1]+f;return f}stringFrom(c,h){let f="";for(let d=h;d<c.length;d++)f+=c[d][1];return c.splice(h,c.length-h),f}unclosedBlock(){let c=this.current.source.start;throw this.input.error("Unclosed block",c.line,c.column)}unclosedBracket(c){throw this.input.error("Unclosed bracket",{offset:c[2]},{offset:c[2]+1})}unexpectedClose(c){throw this.input.error("Unexpected }",{offset:c[2]},{offset:c[2]+1})}unknownWord(c){throw this.input.error("Unknown word "+c[0][1],{offset:c[0][2]},{offset:c[0][2]+c[0][1].length})}unnamedAtrule(c,h){throw this.input.error("At-rule without name",{offset:h[2]},{offset:h[2]+h[1].length})}}return Po=a,Po}var _o,Kl;function ia(){if(Kl)return _o;Kl=1;let n=gr(),e=Ps(),t=O0();function r(i,s){let o=new e(i,s),u=new t(o);try{u.parse()}catch(a){throw a}return u.root}return _o=r,r.default=r,n.registerParse(r),_o}var Lo,Xl;function ud(){if(Xl)return Lo;Xl=1;class n{constructor(t,r={}){if(this.type="warning",this.text=t,r.node&&r.node.source){let i=r.node.rangeBy(r);this.line=i.start.line,this.column=i.start.column,this.endLine=i.end.line,this.endColumn=i.end.column}for(let i in r)this[i]=r[i]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}return Lo=n,n.default=n,Lo}var Bo,Yl;function sa(){if(Yl)return Bo;Yl=1;let n=ud();class e{get content(){return this.css}constructor(r,i,s){this.processor=r,this.messages=[],this.root=i,this.opts=s,this.css="",this.map=void 0}toString(){return this.css}warn(r,i={}){i.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(i.plugin=this.lastPlugin.postcssPlugin);let s=new n(r,i);return this.messages.push(s),s}warnings(){return this.messages.filter(r=>r.type==="warning")}}return Bo=e,e.default=e,Bo}var qo,$l;function ad(){if($l)return qo;$l=1;let n=gr(),e=na(),t=od(),r=ia(),i=sa(),s=wi(),o=Ns(),{isClean:u,my:a}=ea();const l={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},c={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},h={Once:!0,postcssPlugin:!0,prepare:!0},f=0;function d(x){return typeof x=="object"&&typeof x.then=="function"}function p(x){let y=!1,v=l[x.type];return x.type==="decl"?y=x.prop.toLowerCase():x.type==="atrule"&&(y=x.name.toLowerCase()),y&&x.append?[v,v+"-"+y,f,v+"Exit",v+"Exit-"+y]:y?[v,v+"-"+y,v+"Exit",v+"Exit-"+y]:x.append?[v,f,v+"Exit"]:[v,v+"Exit"]}function g(x){let y;return x.type==="document"?y=["Document",f,"DocumentExit"]:x.type==="root"?y=["Root",f,"RootExit"]:y=p(x),{eventIndex:0,events:y,iterator:0,node:x,visitorIndex:0,visitors:[]}}function b(x){return x[u]=!1,x.nodes&&x.nodes.forEach(y=>b(y)),x}let m={};class w{get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}constructor(y,v,S){this.stringified=!1,this.processed=!1;let k;if(typeof v=="object"&&v!==null&&(v.type==="root"||v.type==="document"))k=b(v);else if(v instanceof w||v instanceof i)k=b(v.root),v.map&&(typeof S.map>"u"&&(S.map={}),S.map.inline||(S.map.inline=!1),S.map.prev=v.map);else{let E=r;S.syntax&&(E=S.syntax.parse),S.parser&&(E=S.parser),E.parse&&(E=E.parse);try{k=E(v,S)}catch(O){this.processed=!0,this.error=O}k&&!k[a]&&n.rebuild(k)}this.result=new i(y,k,S),this.helpers={...m,postcss:m,result:this.result},this.plugins=this.processor.plugins.map(E=>typeof E=="object"&&E.prepare?{...E,...E.prepare(this.result)}:E)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(y){return this.async().catch(y)}finally(y){return this.async().then(y,y)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(y,v){let S=this.result.lastPlugin;try{v&&v.addToError(y),this.error=y,y.name==="CssSyntaxError"&&!y.plugin?(y.plugin=S.postcssPlugin,y.setMessage()):S.postcssVersion}catch(k){console&&console.error&&console.error(k)}return y}prepareVisitors(){this.listeners={};let y=(v,S,k)=>{this.listeners[S]||(this.listeners[S]=[]),this.listeners[S].push([v,k])};for(let v of this.plugins)if(typeof v=="object")for(let S in v){if(!c[S]&&/^[A-Z]/.test(S))throw new Error(`Unknown event ${S} in ${v.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!h[S])if(typeof v[S]=="object")for(let k in v[S])k==="*"?y(v,S,v[S][k]):y(v,S+"-"+k.toLowerCase(),v[S][k]);else typeof v[S]=="function"&&y(v,S,v[S])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let y=0;y<this.plugins.length;y++){let v=this.plugins[y],S=this.runOnRoot(v);if(d(S))try{await S}catch(k){throw this.handleError(k)}}if(this.prepareVisitors(),this.hasListener){let y=this.result.root;for(;!y[u];){y[u]=!0;let v=[g(y)];for(;v.length>0;){let S=this.visitTick(v);if(d(S))try{await S}catch(k){let E=v[v.length-1].node;throw this.handleError(k,E)}}}if(this.listeners.OnceExit)for(let[v,S]of this.listeners.OnceExit){this.result.lastPlugin=v;try{if(y.type==="document"){let k=y.nodes.map(E=>S(E,this.helpers));await Promise.all(k)}else await S(y,this.helpers)}catch(k){throw this.handleError(k)}}}return this.processed=!0,this.stringify()}runOnRoot(y){this.result.lastPlugin=y;try{if(typeof y=="object"&&y.Once){if(this.result.root.type==="document"){let v=this.result.root.nodes.map(S=>y.Once(S,this.helpers));return d(v[0])?Promise.all(v):v}return y.Once(this.result.root,this.helpers)}else if(typeof y=="function")return y(this.result.root,this.result)}catch(v){throw this.handleError(v)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let y=this.result.opts,v=o;y.syntax&&(v=y.syntax.stringify),y.stringifier&&(v=y.stringifier),v.stringify&&(v=v.stringify);let k=new t(v,this.result.root,this.result.opts).generate();return this.result.css=k[0],this.result.map=k[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let y of this.plugins){let v=this.runOnRoot(y);if(d(v))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let y=this.result.root;for(;!y[u];)y[u]=!0,this.walkSync(y);if(this.listeners.OnceExit)if(y.type==="document")for(let v of y.nodes)this.visitSync(this.listeners.OnceExit,v);else this.visitSync(this.listeners.OnceExit,y)}return this.result}then(y,v){return this.async().then(y,v)}toString(){return this.css}visitSync(y,v){for(let[S,k]of y){this.result.lastPlugin=S;let E;try{E=k(v,this.helpers)}catch(O){throw this.handleError(O,v.proxyOf)}if(v.type!=="root"&&v.type!=="document"&&!v.parent)return!0;if(d(E))throw this.getAsyncError()}}visitTick(y){let v=y[y.length-1],{node:S,visitors:k}=v;if(S.type!=="root"&&S.type!=="document"&&!S.parent){y.pop();return}if(k.length>0&&v.visitorIndex<k.length){let[O,N]=k[v.visitorIndex];v.visitorIndex+=1,v.visitorIndex===k.length&&(v.visitors=[],v.visitorIndex=0),this.result.lastPlugin=O;try{return N(S.toProxy(),this.helpers)}catch(T){throw this.handleError(T,S)}}if(v.iterator!==0){let O=v.iterator,N;for(;N=S.nodes[S.indexes[O]];)if(S.indexes[O]+=1,!N[u]){N[u]=!0,y.push(g(N));return}v.iterator=0,delete S.indexes[O]}let E=v.events;for(;v.eventIndex<E.length;){let O=E[v.eventIndex];if(v.eventIndex+=1,O===f){S.nodes&&S.nodes.length&&(S[u]=!0,v.iterator=S.getIterator());return}else if(this.listeners[O]){v.visitors=this.listeners[O];return}}y.pop()}walkSync(y){y[u]=!0;let v=p(y);for(let S of v)if(S===f)y.nodes&&y.each(k=>{k[u]||this.walkSync(k)});else{let k=this.listeners[S];if(k&&this.visitSync(k,y.toProxy()))return}}warnings(){return this.sync().warnings()}}return w.registerPostcss=x=>{m=x},qo=w,w.default=w,s.registerLazyResult(w),e.registerLazyResult(w),qo}var zo,Ql;function A0(){if(Ql)return zo;Ql=1;let n=od(),e=ia();const t=sa();let r=Ns();class i{get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let o,u=e;try{o=u(this._css,this._opts)}catch(a){this.error=a}if(this.error)throw this.error;return this._root=o,o}get[Symbol.toStringTag](){return"NoWorkResult"}constructor(o,u,a){u=u.toString(),this.stringified=!1,this._processor=o,this._css=u,this._opts=a,this._map=void 0;let l,c=r;this.result=new t(this._processor,l,this._opts),this.result.css=u;let h=this;Object.defineProperty(this.result,"root",{get(){return h.root}});let f=new n(c,l,this._opts,u);if(f.isMap()){let[d,p]=f.generate();d&&(this.result.css=d),p&&(this.result.map=p)}else f.clearAnnotation(),this.result.css=f.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(o){return this.async().catch(o)}finally(o){return this.async().then(o,o)}sync(){if(this.error)throw this.error;return this.result}then(o,u){return this.async().then(o,u)}toString(){return this._css}warnings(){return[]}}return zo=i,i.default=i,zo}var Fo,Zl;function M0(){if(Zl)return Fo;Zl=1;let n=na(),e=ad(),t=A0(),r=wi();class i{constructor(o=[]){this.version="8.5.6",this.plugins=this.normalize(o)}normalize(o){let u=[];for(let a of o)if(a.postcss===!0?a=a():a.postcss&&(a=a.postcss),typeof a=="object"&&Array.isArray(a.plugins))u=u.concat(a.plugins);else if(typeof a=="object"&&a.postcssPlugin)u.push(a);else if(typeof a=="function")u.push(a);else if(!(typeof a=="object"&&(a.parse||a.stringify)))throw new Error(a+" is not a PostCSS plugin");return u}process(o,u={}){return!this.plugins.length&&!u.parser&&!u.stringifier&&!u.syntax?new t(this,o,u):new e(this,o,u)}use(o){return this.plugins=this.plugins.concat(this.normalize([o])),this}}return Fo=i,i.default=i,r.registerProcessor(i),n.registerProcessor(i),Fo}var jo,ec;function N0(){if(ec)return jo;ec=1;var n={};let e=ta(),t=Is(),r=gr(),i=Zu(),s=Rs(),o=na(),u=T0(),a=Ps(),l=ad(),c=sd(),h=Ds(),f=ia(),d=M0(),p=sa(),g=wi(),b=ra(),m=Ns(),w=ud();function x(...y){return y.length===1&&Array.isArray(y[0])&&(y=y[0]),new d(y)}return x.plugin=function(v,S){let k=!1;function E(...N){console&&console.warn&&!k&&(k=!0,console.warn(v+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),n.LANG&&n.LANG.startsWith("cn")&&console.warn(v+`: é‡Œé¢ postcss.plugin è¢«å¼ƒç”¨. è¿ç§»æŒ‡å—:
https://www.w3ctech.com/topic/2226`));let T=S(...N);return T.postcssPlugin=v,T.postcssVersion=new d().version,T}let O;return Object.defineProperty(E,"postcss",{get(){return O||(O=E()),O}}),E.process=function(N,T,A){return x([E(A)]).process(N,T)},E},x.stringify=m,x.parse=f,x.fromJSON=u,x.list=c,x.comment=y=>new t(y),x.atRule=y=>new e(y),x.decl=y=>new s(y),x.rule=y=>new b(y),x.root=y=>new g(y),x.document=y=>new o(y),x.CssSyntaxError=i,x.Declaration=s,x.Container=r,x.Processor=d,x.Document=o,x.Comment=t,x.Warning=w,x.AtRule=e,x.Result=p,x.Input=a,x.Rule=b,x.Root=g,x.Node=h,l.registerPostcss(x),jo=x,x.default=x,jo}var Vo,tc;function D0(){if(tc)return Vo;tc=1;const n=m0(),e=g0(),{isPlainObject:t}=b0(),r=y0(),i=x0(),{parse:s}=N0(),o=["img","audio","video","picture","svg","object","map","iframe","embed"],u=["script","style"];function a(b,m){b&&Object.keys(b).forEach(function(w){m(b[w],w)})}function l(b,m){return{}.hasOwnProperty.call(b,m)}function c(b,m){const w=[];return a(b,function(x){m(x)&&w.push(x)}),w}function h(b){for(const m in b)if(l(b,m))return!1;return!0}function f(b){return b.map(function(m){if(!m.url)throw new Error("URL missing");return m.url+(m.w?` ${m.w}w`:"")+(m.h?` ${m.h}h`:"")+(m.d?` ${m.d}x`:"")}).join(", ")}Vo=p;const d=/^[^\0\t\n\f\r /<=>]+$/;function p(b,m,w){if(b==null)return"";typeof b=="number"&&(b=b.toString());let x="",y="";function v(I,z){const B=this;this.tag=I,this.attribs=z||{},this.tagPosition=x.length,this.text="",this.openingTagLength=0,this.mediaChildren=[],this.updateParentNodeText=function(){if(q.length){const ne=q[q.length-1];ne.text+=B.text}},this.updateParentNodeMediaChildren=function(){q.length&&o.includes(this.tag)&&q[q.length-1].mediaChildren.push(this.tag)}}m=Object.assign({},p.defaults,m),m.parser=Object.assign({},g,m.parser);const S=function(I){return m.allowedTags===!1||(m.allowedTags||[]).indexOf(I)>-1};u.forEach(function(I){S(I)&&!m.allowVulnerableTags&&console.warn(`

âš ï¸ Your \`allowedTags\` option includes, \`${I}\`, which is inherently
vulnerable to XSS attacks. Please remove it from \`allowedTags\`.
Or, to disable this warning, add the \`allowVulnerableTags\` option
and ensure you are accounting for this risk.

`)});const k=m.nonTextTags||["script","style","textarea","option"];let E,O;m.allowedAttributes&&(E={},O={},a(m.allowedAttributes,function(I,z){E[z]=[];const B=[];I.forEach(function(ne){typeof ne=="string"&&ne.indexOf("*")>=0?B.push(e(ne).replace(/\\\*/g,".*")):E[z].push(ne)}),B.length&&(O[z]=new RegExp("^("+B.join("|")+")$"))}));const N={},T={},A={};a(m.allowedClasses,function(I,z){if(E&&(l(E,z)||(E[z]=[]),E[z].push("class")),N[z]=I,Array.isArray(I)){const B=[];N[z]=[],A[z]=[],I.forEach(function(ne){typeof ne=="string"&&ne.indexOf("*")>=0?B.push(e(ne).replace(/\\\*/g,".*")):ne instanceof RegExp?A[z].push(ne):N[z].push(ne)}),B.length&&(T[z]=new RegExp("^("+B.join("|")+")$"))}});const R={};let D;a(m.transformTags,function(I,z){let B;typeof I=="function"?B=I:typeof I=="string"&&(B=p.simpleTransform(I)),z==="*"?D=B:R[z]=B});let M,q,j,F,_,W,Y=!1;J();const ue=new n.Parser({onopentag:function(I,z){if(m.onOpenTag&&m.onOpenTag(I,z),m.enforceHtmlBoundary&&I==="html"&&J(),_){W++;return}const B=new v(I,z);q.push(B);let ne=!1;const Ae=!!B.text;let Me;if(l(R,I)&&(Me=R[I](I,z),B.attribs=z=Me.attribs,Me.text!==void 0&&(B.innerText=Me.text),I!==Me.tagName&&(B.name=I=Me.tagName,F[M]=Me.tagName)),D&&(Me=D(I,z),B.attribs=z=Me.attribs,I!==Me.tagName&&(B.name=I=Me.tagName,F[M]=Me.tagName)),(!S(I)||m.disallowedTagsMode==="recursiveEscape"&&!h(j)||m.nestingLimit!=null&&M>=m.nestingLimit)&&(ne=!0,j[M]=!0,(m.disallowedTagsMode==="discard"||m.disallowedTagsMode==="completelyDiscard")&&k.indexOf(I)!==-1&&(_=!0,W=1)),M++,ne){if(m.disallowedTagsMode==="discard"||m.disallowedTagsMode==="completelyDiscard"){if(B.innerText&&!Ae){const re=ae(B.innerText);m.textFilter?x+=m.textFilter(re,I):x+=re,Y=!0}return}y=x,x=""}x+="<"+I,I==="script"&&(m.allowedScriptHostnames||m.allowedScriptDomains)&&(B.innerText=""),ne&&(m.disallowedTagsMode==="escape"||m.disallowedTagsMode==="recursiveEscape")&&m.preserveEscapedAttributes?a(z,function(re,ie){x+=" "+ie+'="'+ae(re||"",!0)+'"'}):(!E||l(E,I)||E["*"])&&a(z,function(re,ie){if(!d.test(ie)){delete B.attribs[ie];return}if(re===""&&!m.allowedEmptyAttributes.includes(ie)&&(m.nonBooleanAttributes.includes(ie)||m.nonBooleanAttributes.includes("*"))){delete B.attribs[ie];return}let Ne=!1;if(!E||l(E,I)&&E[I].indexOf(ie)!==-1||E["*"]&&E["*"].indexOf(ie)!==-1||l(O,I)&&O[I].test(ie)||O["*"]&&O["*"].test(ie))Ne=!0;else if(E&&E[I]){for(const oe of E[I])if(t(oe)&&oe.name&&oe.name===ie){Ne=!0;let he="";if(oe.multiple===!0){const Ce=re.split(" ");for(const _e of Ce)oe.values.indexOf(_e)!==-1&&(he===""?he=_e:he+=" "+_e)}else oe.values.indexOf(re)>=0&&(he=re);re=he}}if(Ne){if(m.allowedSchemesAppliedToAttributes.indexOf(ie)!==-1&&be(I,re)){delete B.attribs[ie];return}if(I==="script"&&ie==="src"){let oe=!0;try{const he=ke(re);if(m.allowedScriptHostnames||m.allowedScriptDomains){const Ce=(m.allowedScriptHostnames||[]).find(function(We){return We===he.url.hostname}),_e=(m.allowedScriptDomains||[]).find(function(We){return he.url.hostname===We||he.url.hostname.endsWith(`.${We}`)});oe=Ce||_e}}catch{oe=!1}if(!oe){delete B.attribs[ie];return}}if(I==="iframe"&&ie==="src"){let oe=!0;try{const he=ke(re);if(he.isRelativeUrl)oe=l(m,"allowIframeRelativeUrls")?m.allowIframeRelativeUrls:!m.allowedIframeHostnames&&!m.allowedIframeDomains;else if(m.allowedIframeHostnames||m.allowedIframeDomains){const Ce=(m.allowedIframeHostnames||[]).find(function(We){return We===he.url.hostname}),_e=(m.allowedIframeDomains||[]).find(function(We){return he.url.hostname===We||he.url.hostname.endsWith(`.${We}`)});oe=Ce||_e}}catch{oe=!1}if(!oe){delete B.attribs[ie];return}}if(ie==="srcset")try{let oe=i(re);if(oe.forEach(function(he){be("srcset",he.url)&&(he.evil=!0)}),oe=c(oe,function(he){return!he.evil}),oe.length)re=f(c(oe,function(he){return!he.evil})),B.attribs[ie]=re;else{delete B.attribs[ie];return}}catch{delete B.attribs[ie];return}if(ie==="class"){const oe=N[I],he=N["*"],Ce=T[I],_e=A[I],We=A["*"],sn=T["*"],on=[Ce,sn].concat(_e,We).filter(function(yr){return yr});if(oe&&he?re=He(re,r(oe,he),on):re=He(re,oe||he,on),!re.length){delete B.attribs[ie];return}}if(ie==="style"){if(m.parseStyleAttributes)try{const oe=s(I+" {"+re+"}",{map:!1}),he=Oe(oe,m.allowedStyles);if(re=ze(he),re.length===0){delete B.attribs[ie];return}}catch{typeof window<"u"&&console.warn('Failed to parse "'+I+" {"+re+`}", If you're running this in a browser, we recommend to disable style parsing: options.parseStyleAttributes: false, since this only works in a node environment due to a postcss dependency, More info: https://github.com/apostrophecms/sanitize-html/issues/547`),delete B.attribs[ie];return}else if(m.allowedStyles)throw new Error("allowedStyles option cannot be used together with parseStyleAttributes: false.")}x+=" "+ie,re&&re.length?x+='="'+ae(re,!0)+'"':m.allowedEmptyAttributes.includes(ie)&&(x+='=""')}else delete B.attribs[ie]}),m.selfClosing.indexOf(I)!==-1?x+=" />":(x+=">",B.innerText&&!Ae&&!m.textFilter&&(x+=ae(B.innerText),Y=!0)),ne&&(x=y+ae(x),y=""),B.openingTagLength=x.length-B.tagPosition},ontext:function(I){if(_)return;const z=q[q.length-1];let B;if(z&&(B=z.tag,I=z.innerText!==void 0?z.innerText:I),m.disallowedTagsMode==="completelyDiscard"&&!S(B))I="";else if((m.disallowedTagsMode==="discard"||m.disallowedTagsMode==="completelyDiscard")&&(B==="script"||B==="style"))x+=I;else if(!Y){const ne=ae(I,!1);m.textFilter?x+=m.textFilter(ne,B):x+=ne}if(q.length){const ne=q[q.length-1];ne.text+=I}},onclosetag:function(I,z){if(m.onCloseTag&&m.onCloseTag(I,z),_)if(W--,!W)_=!1;else return;const B=q.pop();if(!B)return;if(B.tag!==I){q.push(B);return}_=m.enforceHtmlBoundary?I==="html":!1,M--;const ne=j[M];if(ne){if(delete j[M],m.disallowedTagsMode==="discard"||m.disallowedTagsMode==="completelyDiscard"){B.updateParentNodeText();return}y=x,x=""}if(F[M]&&(I=F[M],delete F[M]),m.exclusiveFilter){const Ae=m.exclusiveFilter(B);if(Ae==="excludeTag"){ne&&(x=y,y=""),x=x.substring(0,B.tagPosition)+x.substring(B.tagPosition+B.openingTagLength);return}else if(Ae){x=x.substring(0,B.tagPosition);return}}if(B.updateParentNodeMediaChildren(),B.updateParentNodeText(),m.selfClosing.indexOf(I)!==-1||z&&!S(I)&&["escape","recursiveEscape"].indexOf(m.disallowedTagsMode)>=0){ne&&(x=y,y="");return}x+="</"+I+">",ne&&(x=y+ae(x),y=""),Y=!1}},m.parser);if(ue.write(b),ue.end(),m.disallowedTagsMode==="escape"||m.disallowedTagsMode==="recursiveEscape"){const I=ue.endIndex;if(I!=null&&I>=0&&I<b.length){const z=b.substring(I);x+=ae(z)}else(I==null||I<0)&&b.length>0&&x===""&&(x=ae(b))}return x;function J(){x="",M=0,q=[],j={},F={},_=!1,W=0}function ae(I,z){return typeof I!="string"&&(I=I+""),m.parser.decodeEntities&&(I=I.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),z&&(I=I.replace(/"/g,"&quot;"))),I=I.replace(/&(?![a-zA-Z0-9#]{1,20};)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),z&&(I=I.replace(/"/g,"&quot;")),I}function be(I,z){for(z=z.replace(/[\x00-\x20]+/g,"");;){const Ae=z.indexOf("<!--");if(Ae===-1)break;const Me=z.indexOf("-->",Ae+4);if(Me===-1)break;z=z.substring(0,Ae)+z.substring(Me+3)}const B=z.match(/^([a-zA-Z][a-zA-Z0-9.\-+]*):/);if(!B)return z.match(/^[/\\]{2}/)?!m.allowProtocolRelative:!1;const ne=B[1].toLowerCase();return l(m.allowedSchemesByTag,I)?m.allowedSchemesByTag[I].indexOf(ne)===-1:!m.allowedSchemes||m.allowedSchemes.indexOf(ne)===-1}function ke(I){if(I=I.replace(/^(\w+:)?\s*[\\/]\s*[\\/]/,"$1//"),I.startsWith("relative:"))throw new Error("relative: exploit attempt");let z="relative://relative-site";for(let Ae=0;Ae<100;Ae++)z+=`/${Ae}`;const B=new URL(I,z);return{isRelativeUrl:B&&B.hostname==="relative-site"&&B.protocol==="relative:",url:B}}function Oe(I,z){if(!z)return I;const B=I.nodes[0];let ne;return z[B.selector]&&z["*"]?ne=r(z[B.selector],z["*"]):ne=z[B.selector]||z["*"],ne&&(I.nodes[0].nodes=B.nodes.reduce(Ve(ne),[])),I}function ze(I){return I.nodes[0].nodes.reduce(function(z,B){return z.push(`${B.prop}:${B.value}${B.important?" !important":""}`),z},[]).join(";")}function Ve(I){return function(z,B){return l(I,B.prop)&&I[B.prop].some(function(Ae){return Ae.test(B.value)})&&z.push(B),z}}function He(I,z,B){return z?(I=I.split(/\s+/),I.filter(function(ne){return z.indexOf(ne)!==-1||B.some(function(Ae){return Ae.test(ne)})}).join(" ")):I}}const g={decodeEntities:!0};return p.defaults={allowedTags:["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","menu","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr"],nonBooleanAttributes:["abbr","accept","accept-charset","accesskey","action","allow","alt","as","autocapitalize","autocomplete","blocking","charset","cite","class","color","cols","colspan","content","contenteditable","coords","crossorigin","data","datetime","decoding","dir","dirname","download","draggable","enctype","enterkeyhint","fetchpriority","for","form","formaction","formenctype","formmethod","formtarget","headers","height","hidden","high","href","hreflang","http-equiv","id","imagesizes","imagesrcset","inputmode","integrity","is","itemid","itemprop","itemref","itemtype","kind","label","lang","list","loading","low","max","maxlength","media","method","min","minlength","name","nonce","optimum","pattern","ping","placeholder","popover","popovertarget","popovertargetaction","poster","preload","referrerpolicy","rel","rows","rowspan","sandbox","scope","shape","size","sizes","slot","span","spellcheck","src","srcdoc","srclang","srcset","start","step","style","tabindex","target","title","translate","type","usemap","value","width","wrap","onauxclick","onafterprint","onbeforematch","onbeforeprint","onbeforeunload","onbeforetoggle","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextlost","oncontextmenu","oncontextrestored","oncopy","oncuechange","oncut","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onformdata","onhashchange","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onlanguagechange","onload","onloadeddata","onloadedmetadata","onloadstart","onmessage","onmessageerror","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onoffline","ononline","onpagehide","onpageshow","onpaste","onpause","onplay","onplaying","onpopstate","onprogress","onratechange","onreset","onresize","onrejectionhandled","onscroll","onscrollend","onsecuritypolicyviolation","onseeked","onseeking","onselect","onslotchange","onstalled","onstorage","onsubmit","onsuspend","ontimeupdate","ontoggle","onunhandledrejection","onunload","onvolumechange","onwaiting","onwheel"],disallowedTagsMode:"discard",allowedAttributes:{a:["href","name","target"],img:["src","srcset","alt","title","width","height","loading"]},allowedEmptyAttributes:["alt"],selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto","tel"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","src","cite"],allowProtocolRelative:!0,enforceHtmlBoundary:!1,parseStyleAttributes:!0,preserveEscapedAttributes:!1},p.simpleTransform=function(b,m,w){return w=w===void 0?!0:w,m=m||{},function(x,y){let v;if(w)for(v in m)y[v]=m[v];else y=m;return{tagName:b,attribs:y}}},Vo}var I0=D0();const nc=r0(I0);function $e(n){this.content=n}$e.prototype={constructor:$e,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,i=r.find(n),s=r.content.slice();return i==-1?s.push(t||n,e):(s[i+1]=e,t&&(s[i]=t)),new $e(s)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new $e(t)},addToStart:function(n,e){return new $e([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new $e(t)},addBefore:function(n,e,t){var r=this.remove(e),i=r.content.slice(),s=r.find(n);return i.splice(s==-1?i.length:s,0,e,t),new $e(i)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=$e.from(n),n.size?new $e(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=$e.from(n),n.size?new $e(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=$e.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};$e.from=function(n){if(n instanceof $e)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new $e(e)};function ld(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let i=n.child(r),s=e.child(r);if(i==s){t+=i.nodeSize;continue}if(!i.sameMarkup(s))return t;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)t++;return t}if(i.content.size||s.content.size){let o=ld(i.content,s.content,t+1);if(o!=null)return o}t+=i.nodeSize}}function cd(n,e,t,r){for(let i=n.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:t,b:r};let o=n.child(--i),u=e.child(--s),a=o.nodeSize;if(o==u){t-=a,r-=a;continue}if(!o.sameMarkup(u))return{a:t,b:r};if(o.isText&&o.text!=u.text){let l=0,c=Math.min(o.text.length,u.text.length);for(;l<c&&o.text[o.text.length-l-1]==u.text[u.text.length-l-1];)l++,t--,r--;return{a:t,b:r}}if(o.content.size||u.content.size){let l=cd(o.content,u.content,t-1,r-1);if(l)return l}t-=a,r-=a}}class L{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,i=0,s){for(let o=0,u=0;u<t;o++){let a=this.content[o],l=u+a.nodeSize;if(l>e&&r(a,i+u,s||null,o)!==!1&&a.content.size){let c=u+1;a.nodesBetween(Math.max(0,e-c),Math.min(a.content.size,t-c),r,i+c)}u=l}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,i){let s="",o=!0;return this.nodesBetween(e,t,(u,a)=>{let l=u.isText?u.text.slice(Math.max(e,a)-a,t-a):u.isLeaf?i?typeof i=="function"?i(u):i:u.type.spec.leafText?u.type.spec.leafText(u):"":"";u.isBlock&&(u.isLeaf&&l||u.isTextblock)&&r&&(o?o=!1:s+=r),s+=l},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(t.isText&&t.sameMarkup(r)&&(i[i.length-1]=t.withText(t.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new L(i,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],i=0;if(t>e)for(let s=0,o=0;o<t;s++){let u=this.content[s],a=o+u.nodeSize;a>e&&((o<e||a>t)&&(u.isText?u=u.cut(Math.max(0,e-o),Math.min(u.text.length,t-o)):u=u.cut(Math.max(0,e-o-1),Math.min(u.content.size,t-o-1))),r.push(u),i+=u.nodeSize),o=a}return new L(r,i)}cutByIndex(e,t){return e==t?L.empty:e==0&&t==this.content.length?this:new L(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let i=this.content.slice(),s=this.size+t.nodeSize-r.nodeSize;return i[e]=t,new L(i,s)}addToStart(e){return new L([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new L(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let i=this.content[t];e(i,r,t),r+=i.nodeSize}}findDiffStart(e,t=0){return ld(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return cd(this,e,t,r)}findIndex(e){if(e==0)return Bi(0,e);if(e==this.size)return Bi(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let t=0,r=0;;t++){let i=this.child(t),s=r+i.nodeSize;if(s>=e)return s==e?Bi(t+1,s):Bi(t,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return L.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new L(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return L.empty;let t,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(t||(t=e.slice(0,i)),t[t.length-1]=s.withText(t[t.length-1].text+s.text)):t&&t.push(s)}return new L(t||e,r)}static from(e){if(!e)return L.empty;if(e instanceof L)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new L([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}L.empty=new L([],0);const Ho={index:0,offset:0};function Bi(n,e){return Ho.index=n,Ho.offset=e,Ho}function ds(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!ds(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!ds(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}let Re=class yu{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))t||(t=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),r=!0),t&&t.push(s)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&ds(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let i=r.create(t.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return yu.none;if(e instanceof yu)return[e];let t=e.slice();return t.sort((r,i)=>r.type.rank-i.type.rank),t}};Re.none=[];class hs extends Error{}class G{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=dd(this.content,e+this.openStart,t);return r&&new G(r,this.openStart,this.openEnd)}removeBetween(e,t){return new G(fd(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return G.empty;let r=t.openStart||0,i=t.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new G(L.fromJSON(e,t.content),r,i)}static maxOpen(e,t=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.lastChild)i++;return new G(e,r,i)}}G.empty=new G(L.empty,0,0);function fd(n,e,t){let{index:r,offset:i}=n.findIndex(e),s=n.maybeChild(r),{index:o,offset:u}=n.findIndex(t);if(i==e||s.isText){if(u!=t&&!n.child(o).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=o)throw new RangeError("Removing non-flat range");return n.replaceChild(r,s.copy(fd(s.content,e-i-1,t-i-1)))}function dd(n,e,t,r){let{index:i,offset:s}=n.findIndex(e),o=n.maybeChild(i);if(s==e||o.isText)return r&&!r.canReplace(i,i,t)?null:n.cut(0,e).append(t).append(n.cut(e));let u=dd(o.content,e-s-1,t,o);return u&&n.replaceChild(i,o.copy(u))}function R0(n,e,t){if(t.openStart>n.depth)throw new hs("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new hs("Inconsistent open depths");return hd(n,e,t,0)}function hd(n,e,t,r){let i=n.index(r),s=n.node(r);if(i==e.index(r)&&r<n.depth-t.openStart){let o=hd(n,e,t,r+1);return s.copy(s.content.replaceChild(i,o))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let o=n.parent,u=o.content;return ir(o,u.cut(0,n.parentOffset).append(t.content).append(u.cut(e.parentOffset)))}else{let{start:o,end:u}=P0(t,n);return ir(s,md(n,o,u,e,r))}else return ir(s,ps(n,e,r))}function pd(n,e){if(!e.type.compatibleContent(n.type))throw new hs("Cannot join "+e.type.name+" onto "+n.type.name)}function vu(n,e,t){let r=n.node(t);return pd(r,e.node(t)),r}function rr(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function Zr(n,e,t,r){let i=(e||n).node(t),s=0,o=e?e.index(t):i.childCount;n&&(s=n.index(t),n.depth>t?s++:n.textOffset&&(rr(n.nodeAfter,r),s++));for(let u=s;u<o;u++)rr(i.child(u),r);e&&e.depth==t&&e.textOffset&&rr(e.nodeBefore,r)}function ir(n,e){return n.type.checkContent(e),n.copy(e)}function md(n,e,t,r,i){let s=n.depth>i&&vu(n,e,i+1),o=r.depth>i&&vu(t,r,i+1),u=[];return Zr(null,n,i,u),s&&o&&e.index(i)==t.index(i)?(pd(s,o),rr(ir(s,md(n,e,t,r,i+1)),u)):(s&&rr(ir(s,ps(n,e,i+1)),u),Zr(e,t,i,u),o&&rr(ir(o,ps(t,r,i+1)),u)),Zr(r,null,i,u),new L(u)}function ps(n,e,t){let r=[];if(Zr(null,n,t,r),n.depth>t){let i=vu(n,e,t+1);rr(ir(i,ps(n,e,t+1)),r)}return Zr(e,null,t,r),new L(r)}function P0(n,e){let t=e.depth-n.openStart,i=e.node(t).copy(n.content);for(let s=t-1;s>=0;s--)i=e.node(s).copy(L.from(i));return{start:i.resolveNoCache(n.openStart+t),end:i.resolveNoCache(i.content.size-n.openEnd-t)}}class li{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(t);return r?e.child(t).cut(r):i}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],i=t==0?0:this.path[t*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return Re.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),i=e.maybeChild(t);if(!r){let u=r;r=i,i=u}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new ms(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],i=0,s=t;for(let o=e;;){let{index:u,offset:a}=o.content.findIndex(s),l=s-a;if(r.push(o,u,i+a),!l||(o=o.child(u),o.isText))break;s=l-1,i+=a+1}return new li(t,r,s)}static resolveCached(e,t){let r=rc.get(e);if(r)for(let s=0;s<r.elts.length;s++){let o=r.elts[s];if(o.pos==t)return o}else rc.set(e,r=new _0);let i=r.elts[r.i]=li.resolve(e,t);return r.i=(r.i+1)%L0,i}}class _0{constructor(){this.elts=[],this.i=0}}const L0=12,rc=new WeakMap;class ms{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const B0=Object.create(null);let Dn=class xu{constructor(e,t,r,i=Re.none){this.type=e,this.attrs=t,this.marks=i,this.content=r||L.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,i=0){this.content.nodesBetween(e,t,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,i){return this.content.textBetween(e,t,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&ds(this.attrs,t||e.defaultAttrs||B0)&&Re.sameSet(this.marks,r||Re.none)}copy(e=null){return e==this.content?this:new xu(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new xu(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return G.empty;let i=this.resolve(e),s=this.resolve(t),o=r?0:i.sharedDepth(t),u=i.start(o),l=i.node(o).content.cut(i.pos-u,s.pos-u);return new G(l,i.depth-o,s.depth-o)}replace(e,t,r){return R0(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:i}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(i==e||t.isText)return t;e-=i+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let i=this.content.child(t-1);return{node:i,index:t-1,offset:r-i.nodeSize}}resolve(e){return li.resolveCached(this,e)}resolveNoCache(e){return li.resolve(this,e)}rangeHasMark(e,t,r){let i=!1;return t>e&&this.nodesBetween(e,t,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),gd(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=L.empty,i=0,s=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,i,s),u=o&&o.matchFragment(this.content,t);if(!u||!u.validEnd)return!1;for(let a=i;a<s;a++)if(!this.type.allowsMarks(r.child(a).marks))return!1;return!0}canReplaceWith(e,t,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),o=s&&s.matchFragment(this.content,t);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Re.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Re.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let i=L.fromJSON(e,t.content),s=e.nodeType(t.type).create(t.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};Dn.prototype.text=void 0;class gs extends Dn{constructor(e,t,r,i){if(super(e,t,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):gd(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new gs(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new gs(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function gd(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class lr{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new q0(e,t);if(r.next==null)return lr.empty;let i=bd(r);r.next&&r.err("Unexpected trailing text");let s=W0(U0(i));return J0(s,r),s}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let i=this;for(let s=t;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let i=[this];function s(o,u){let a=o.matchFragment(e,r);if(a&&(!t||a.validEnd))return L.from(u.map(l=>l.createAndFill()));for(let l=0;l<o.next.length;l++){let{type:c,next:h}=o.next[l];if(!(c.isText||c.hasRequiredAttrs())&&i.indexOf(h)==-1){i.push(h);let f=s(h,u.concat(c));if(f)return f}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let o=[];for(let u=i;u.type;u=u.via)o.push(u.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:u,next:a}=s.next[o];!u.isLeaf&&!u.hasRequiredAttrs()&&!(u.name in t)&&(!i.type||a.validEnd)&&(r.push({match:u.contentMatch,type:u,via:i}),t[u.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&t(r.next[i].next)}return t(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return s}).join(`
`)}}lr.empty=new lr(!0);class q0{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function bd(n){let e=[];do e.push(z0(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function z0(n){let e=[];do e.push(F0(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function F0(n){let e=H0(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=j0(n,e);else break;return e}function ic(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function j0(n,e){let t=ic(n),r=t;return n.eat(",")&&(n.next!="}"?r=ic(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function V0(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let i=[];for(let s in t){let o=t[s];o.isInGroup(e)&&i.push(o)}return i.length==0&&n.err("No node type or group '"+e+"' found"),i}function H0(n){if(n.eat("(")){let e=bd(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=V0(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function U0(n){let e=[[]];return i(s(n,0),t()),e;function t(){return e.push([])-1}function r(o,u,a){let l={term:a,to:u};return e[o].push(l),l}function i(o,u){o.forEach(a=>a.to=u)}function s(o,u){if(o.type=="choice")return o.exprs.reduce((a,l)=>a.concat(s(l,u)),[]);if(o.type=="seq")for(let a=0;;a++){let l=s(o.exprs[a],u);if(a==o.exprs.length-1)return l;i(l,u=t())}else if(o.type=="star"){let a=t();return r(u,a),i(s(o.expr,a),a),[r(a)]}else if(o.type=="plus"){let a=t();return i(s(o.expr,u),a),i(s(o.expr,a),a),[r(a)]}else{if(o.type=="opt")return[r(u)].concat(s(o.expr,u));if(o.type=="range"){let a=u;for(let l=0;l<o.min;l++){let c=t();i(s(o.expr,a),c),a=c}if(o.max==-1)i(s(o.expr,a),a);else for(let l=o.min;l<o.max;l++){let c=t();r(a,c),i(s(o.expr,a),c),a=c}return[r(a)]}else{if(o.type=="name")return[r(u,void 0,o.value)];throw new Error("Unknown expr type")}}}}function yd(n,e){return e-n}function sc(n,e){let t=[];return r(e),t.sort(yd);function r(i){let s=n[i];if(s.length==1&&!s[0].term)return r(s[0].to);t.push(i);for(let o=0;o<s.length;o++){let{term:u,to:a}=s[o];!u&&t.indexOf(a)==-1&&r(a)}}}function W0(n){let e=Object.create(null);return t(sc(n,0));function t(r){let i=[];r.forEach(o=>{n[o].forEach(({term:u,to:a})=>{if(!u)return;let l;for(let c=0;c<i.length;c++)i[c][0]==u&&(l=i[c][1]);sc(n,a).forEach(c=>{l||i.push([u,l=[]]),l.indexOf(c)==-1&&l.push(c)})})});let s=e[r.join(",")]=new lr(r.indexOf(n.length-1)>-1);for(let o=0;o<i.length;o++){let u=i[o][1].sort(yd);s.next.push({type:i[o][0],next:e[u.join(",")]||t(u)})}return s}}function J0(n,e){for(let t=0,r=[n];t<r.length;t++){let i=r[t],s=!i.validEnd,o=[];for(let u=0;u<i.next.length;u++){let{type:a,next:l}=i.next[u];o.push(a.name),s&&!(a.isText||a.hasRequiredAttrs())&&(s=!1),r.indexOf(l)==-1&&r.push(l)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function vd(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function xd(n,e){let t=Object.create(null);for(let r in n){let i=e&&e[r];if(i===void 0){let s=n[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=i}return t}function wd(n,e,t,r){for(let i in e)if(!(i in n))throw new RangeError(`Unsupported attribute ${i} for ${t} of type ${i}`);for(let i in n){let s=n[i];s.validate&&s.validate(e[i])}}function Sd(n,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new K0(n,r,e[r]);return t}let oc=class kd{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=Sd(e,r.attrs),this.defaultAttrs=vd(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==lr.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:xd(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Dn(this,this.computeAttrs(e),L.from(t),Re.setFrom(r))}createChecked(e=null,t,r){return t=L.from(t),this.checkContent(t),new Dn(this,this.computeAttrs(e),t,Re.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=L.from(t),t.size){let o=this.contentMatch.fillBefore(t);if(!o)return null;t=o.append(t)}let i=this.contentMatch.matchFragment(t),s=i&&i.fillBefore(L.empty,!0);return s?new Dn(this,e,t.append(s),Re.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){wd(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:Re.none:e}static compile(e,t){let r=Object.create(null);e.forEach((s,o)=>r[s]=new kd(s,t,o));let i=t.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function G0(n,e,t){let r=t.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${s}`)}}class K0{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?G0(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class _s{constructor(e,t,r,i){this.name=e,this.rank=t,this.schema=r,this.spec=i,this.attrs=Sd(e,i.attrs),this.excluded=null;let s=vd(this.attrs);this.instance=s?new Re(this,s):null}create(e=null){return!e&&this.instance?this.instance:new Re(this,xd(this.attrs,e))}static compile(e,t){let r=Object.create(null),i=0;return e.forEach((s,o)=>r[s]=new _s(s,i++,t,o)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){wd(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class Cd{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let i in e)t[i]=e[i];t.nodes=$e.from(e.nodes),t.marks=$e.from(e.marks||{}),this.nodes=oc.compile(this.spec.nodes,this),this.marks=_s.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",u=s.spec.marks;if(s.contentMatch=r[o]||(r[o]=lr.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=u=="_"?null:u?uc(this,u.split(" ")):u==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:uc(this,o.split(" "))}this.nodeFromJSON=i=>Dn.fromJSON(this,i),this.markFromJSON=i=>Re.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof oc){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,i)}text(e,t){let r=this.nodes.text;return new gs(r,r.defaultAttrs,e,Re.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function uc(n,e){let t=[];for(let r=0;r<e.length;r++){let i=e[r],s=n.marks[i],o=s;if(s)t.push(s);else for(let u in n.marks){let a=n.marks[u];(i=="_"||a.spec.group&&a.spec.group.split(" ").indexOf(i)>-1)&&t.push(o=a)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function X0(n){return n.tag!=null}function Y0(n){return n.style!=null}class In{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(i=>{if(X0(i))this.tags.push(i);else if(Y0(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,t={}){let r=new lc(this,t,!1);return r.addAll(e,Re.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new lc(this,t,!0);return r.addAll(e,Re.none,t.from,t.to),G.maxOpen(r.finish())}matchTag(e,t,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(Z0(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||t.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,t,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],u=o.style;if(!(u.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||u.length>e.length&&(u.charCodeAt(e.length)!=61||u.slice(e.length+1)!=t))){if(o.getAttrs){let a=o.getAttrs(t);if(a===!1)continue;o.attrs=a||void 0}return o}}}static schemaRules(e){let t=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<t.length;o++){let u=t[o];if((u.priority==null?50:u.priority)<s)break}t.splice(o,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=cc(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=cc(o)),o.node||o.ignore||o.mark||(o.node=i)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new In(e,In.schemaRules(e)))}}const Td={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},$0={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Ed={ol:!0,ul:!0},ci=1,wu=2,ei=4;function ac(n,e,t){return e!=null?(e?ci:0)|(e==="full"?wu:0):n&&n.whitespace=="pre"?ci|wu:t&~ei}class qi{constructor(e,t,r,i,s,o){this.type=e,this.attrs=t,this.marks=r,this.solid=i,this.options=o,this.content=[],this.activeMarks=Re.none,this.match=s||(o&ei?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(L.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&ci)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let t=L.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(L.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Td.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class lc{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=t.topNode,s,o=ac(null,t.preserveWhitespace,0)|(r?ei:0);i?s=new qi(i.type,i.attrs,Re.none,!0,t.topMatch||i.type.contentMatch,o):r?s=new qi(null,null,Re.none,!0,null,o):s=new qi(e.schema.topNodeType,null,Re.none,!0,null,o),this.nodes=[s],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,i=this.top,s=i.options&wu?"full":this.localPreserveWS||(i.options&ci)>0,{schema:o}=this.parser;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)if(s==="full")r=r.replace(/\r\n?/g,`
`);else if(o.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(o.linebreakReplacement.create())){let u=r.split(/\r?\n|\r/);for(let a=0;a<u.length;a++)a&&this.insertNode(o.linebreakReplacement.create(),t,!0),u[a]&&this.insertNode(o.text(u[a]),t,!/\S/.test(u[a]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let u=i.content[i.content.length-1],a=e.previousSibling;(!u||a&&a.nodeName=="BR"||u.isText&&/[ \t\r\n\u000c]$/.test(u.text))&&(r=r.slice(1))}r&&this.insertNode(o.text(r),t,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),u;Ed.hasOwnProperty(o)&&this.parser.normalizeLists&&Q0(e);let a=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(u=this.parser.matchTag(e,this,r));e:if(a?a.ignore:$0.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,t);else if(!a||a.skip||a.closeParent){a&&a.closeParent?this.open=Math.max(0,this.open-1):a&&a.skip.nodeType&&(e=a.skip);let l,c=this.needsBlock;if(Td.hasOwnProperty(o))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),l=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let h=a&&a.skip?t:this.readStyles(e,t);h&&this.addAll(e,h),l&&this.sync(s),this.needsBlock=c}else{let l=this.readStyles(e,t);l&&this.addElementByRule(e,a,l,a.consuming===!1?u:void 0)}this.localPreserveWS=i}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],o=r.getPropertyValue(s);if(o)for(let u=void 0;;){let a=this.parser.matchStyle(s,o,this,u);if(!a)break;if(a.ignore)return null;if(a.clearMark?t=t.filter(l=>!a.clearMark(l)):t=t.concat(this.parser.schema.marks[a.mark].create(a.attrs)),a.consuming===!1)u=a;else break}}return t}addElementByRule(e,t,r,i){let s,o;if(t.node)if(o=this.parser.schema.nodes[t.node],o.isLeaf)this.insertNode(o.create(t.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let a=this.enter(o,t.attrs||null,r,t.preserveWhitespace);a&&(s=!0,r=a)}else{let a=this.parser.schema.marks[t.mark];r=r.concat(a.create(t.attrs))}let u=this.top;if(o&&o.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(a=>this.insertNode(a,r,!1));else{let a=e;typeof t.contentElement=="string"?a=e.querySelector(t.contentElement):typeof t.contentElement=="function"?a=t.contentElement(e):t.contentElement&&(a=t.contentElement),this.findAround(e,a,!0),this.addAll(a,r),this.findAround(e,a,!1)}s&&this.sync(u)&&this.open--}addAll(e,t,r,i){let s=r||0;for(let o=r?e.childNodes[r]:e.firstChild,u=i==null?null:e.childNodes[i];o!=u;o=o.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(o,t);this.findAtPoint(e,s)}findPlace(e,t,r){let i,s;for(let o=this.open,u=0;o>=0;o--){let a=this.nodes[o],l=a.findWrapping(e);if(l&&(!i||i.length>l.length+u)&&(i=l,s=a,!l.length))break;if(a.solid){if(r)break;u+=2}}if(!i)return null;this.sync(s);for(let o=0;o<i.length;o++)t=this.enterInner(i[o],null,t,!1);return t}insertNode(e,t,r){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(t=this.enterInner(s,null,t))}let i=this.findPlace(e,t,r);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let o=Re.none;for(let u of i.concat(e.marks))(s.type?s.type.allowsMarkType(u.type):fc(u.type,e.type))&&(o=u.addToSet(o));return s.content.push(e.mark(o)),!0}return!1}enter(e,t,r,i){let s=this.findPlace(e.create(t),r,!1);return s&&(s=this.enterInner(e,t,r,!0,i)),s}enterInner(e,t,r,i=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let u=ac(e,s,o.options);o.options&ei&&o.content.length==0&&(u|=ei);let a=Re.none;return r=r.filter(l=>(o.type?o.type.allowsMarkType(l.type):fc(l.type,e))?(a=l.addToSet(a),!1):!0),this.nodes.push(new qi(e,t,a,i,null,u)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=ci)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&t.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=(u,a)=>{for(;u>=0;u--){let l=t[u];if(l==""){if(u==t.length-1||u==0)continue;for(;a>=s;a--)if(o(u-1,a))return!0;return!1}else{let c=a>0||a==0&&i?this.nodes[a].type:r&&a>=s?r.node(a-s).type:null;if(!c||c.name!=l&&!c.isInGroup(l))return!1;a--}}return!0};return o(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function Q0(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&Ed.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function Z0(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function cc(n){let e={};for(let t in n)e[t]=n[t];return e}function fc(n,e){let t=e.schema.nodes;for(let r in t){let i=t[r];if(!i.allowsMarkType(n))continue;let s=[],o=u=>{s.push(u);for(let a=0;a<u.edgeCount;a++){let{type:l,next:c}=u.edge(a);if(l==e||s.indexOf(c)<0&&o(c))return!0}};if(o(i.contentMatch))return!0}}class br{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=Uo(t).createDocumentFragment());let i=r,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let u=0,a=0;for(;u<s.length&&a<o.marks.length;){let l=o.marks[a];if(!this.marks[l.type.name]){a++;continue}if(!l.eq(s[u][0])||l.type.spec.spanning===!1)break;u++,a++}for(;u<s.length;)i=s.pop()[1];for(;a<o.marks.length;){let l=o.marks[a++],c=this.serializeMark(l,o.isInline,t);c&&(s.push([l,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(this.serializeNodeInner(o,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:i}=ts(Uo(t),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,i)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,t);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,t,r={}){let i=this.marks[e.type.name];return i&&ts(Uo(r),i(e,t),null,e.attrs)}static renderSpec(e,t,r=null,i){return ts(e,t,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new br(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=dc(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return dc(e.marks)}}function dc(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function Uo(n){return n.document||window.document}const hc=new WeakMap;function em(n){let e=hc.get(n);return e===void 0&&hc.set(n,e=tm(n)),e}function tm(n){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)t(r[i]);else for(let i in r)t(r[i])}return t(n),e}function ts(n,e,t,r){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=em(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(t=i.slice(0,o),i=i.slice(o+1));let u,a=t?n.createElementNS(t,i):n.createElement(i),l=e[1],c=1;if(l&&typeof l=="object"&&l.nodeType==null&&!Array.isArray(l)){c=2;for(let h in l)if(l[h]!=null){let f=h.indexOf(" ");f>0?a.setAttributeNS(h.slice(0,f),h.slice(f+1),l[h]):h=="style"&&a.style?a.style.cssText=l[h]:a.setAttribute(h,l[h])}}for(let h=c;h<e.length;h++){let f=e[h];if(f===0){if(h<e.length-1||h>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}else{let{dom:d,contentDOM:p}=ts(n,f,t,r);if(a.appendChild(d),p){if(u)throw new RangeError("Multiple content holes");u=p}}}return{dom:a,contentDOM:u}}const Od=65535,Ad=Math.pow(2,16);function nm(n,e){return n+e*Ad}function pc(n){return n&Od}function rm(n){return(n-(n&Od))/Ad}const Md=1,Nd=2,ns=4,Dd=8;class Su{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&Dd)>0}get deletedBefore(){return(this.delInfo&(Md|ns))>0}get deletedAfter(){return(this.delInfo&(Nd|ns))>0}get deletedAcross(){return(this.delInfo&ns)>0}}class vt{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&vt.empty)return vt.empty}recover(e){let t=0,r=pc(e);if(!this.inverted)for(let i=0;i<r;i++)t+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+t+rm(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let a=this.ranges[u]-(this.inverted?i:0);if(a>e)break;let l=this.ranges[u+s],c=this.ranges[u+o],h=a+l;if(e<=h){let f=l?e==a?-1:e==h?1:t:t,d=a+i+(f<0?0:c);if(r)return d;let p=e==(t<0?a:h)?null:nm(u/3,e-a),g=e==a?Nd:e==h?Md:ns;return(t<0?e!=a:e!=h)&&(g|=Dd),new Su(d,g,p)}i+=c-l}return r?e+i:new Su(e+i,0,null)}touches(e,t){let r=0,i=pc(t),s=this.inverted?2:1,o=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let a=this.ranges[u]-(this.inverted?r:0);if(a>e)break;let l=this.ranges[u+s],c=a+l;if(e<=c&&u==i*3)return!0;r+=this.ranges[u+o]-l}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],u=o-(this.inverted?s:0),a=o+(this.inverted?0:s),l=this.ranges[i+t],c=this.ranges[i+r];e(u,u+l,a,a+c),s+=c-l}}invert(){return new vt(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?vt.empty:new vt(e<0?[0,-e,0]:[0,0,e])}}vt.empty=new vt([]);class bs{constructor(e,t,r=0,i=e?e.length:0){this.mirror=t,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new bs(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,r=this._maps.length;t<e._maps.length;t++){let i=e.getMirror(t);this.appendMap(e._maps[t],i!=null&&i<t?r+i:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this._maps.length+e._maps.length;t>=0;t--){let i=e.getMirror(t);this.appendMap(e._maps[t].invert(),i!=null&&i>t?r-i-1:void 0)}}invert(){let e=new bs;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this._maps[s],u=o.mapResult(e,t);if(u.recover!=null){let a=this.getMirror(s);if(a!=null&&a>s&&a<this.to){s=a,e=this._maps[a].recover(u.recover);continue}}i|=u.delInfo,e=u.pos}return r?e:new Su(e,i,null)}}const Wo=Object.create(null);class lt{getMap(){return vt.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Wo[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in Wo)throw new RangeError("Duplicate use of step JSON ID "+e);return Wo[e]=t,t.prototype.jsonID=e,t}}class Ue{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Ue(e,null)}static fail(e){return new Ue(null,e)}static fromReplace(e,t,r,i){try{return Ue.ok(e.replace(t,r,i))}catch(s){if(s instanceof hs)return Ue.fail(s.message);throw s}}}function oa(n,e,t){let r=[];for(let i=0;i<n.childCount;i++){let s=n.child(i);s.content.size&&(s=s.copy(oa(s.content,e,s))),s.isInline&&(s=e(s,t,i)),r.push(s)}return L.fromArray(r)}class An extends lt{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new G(oa(t.content,(o,u)=>!o.isAtom||!u.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),t.openStart,t.openEnd);return Ue.fromReplace(e,this.from,this.to,s)}invert(){return new $t(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new An(t.pos,r.pos,this.mark)}merge(e){return e instanceof An&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new An(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new An(t.from,t.to,e.markFromJSON(t.mark))}}lt.jsonID("addMark",An);class $t extends lt{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new G(oa(t.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),t.openStart,t.openEnd);return Ue.fromReplace(e,this.from,this.to,r)}invert(){return new An(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new $t(t.pos,r.pos,this.mark)}merge(e){return e instanceof $t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new $t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new $t(t.from,t.to,e.markFromJSON(t.mark))}}lt.jsonID("removeMark",$t);class Mn extends lt{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Ue.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return Ue.fromReplace(e,this.pos,this.pos+1,new G(L.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let i=0;i<t.marks.length;i++)if(!t.marks[i].isInSet(r))return new Mn(this.pos,t.marks[i]);return new Mn(this.pos,this.mark)}}return new cr(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Mn(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Mn(t.pos,e.markFromJSON(t.mark))}}lt.jsonID("addNodeMark",Mn);class cr extends lt{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Ue.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return Ue.fromReplace(e,this.pos,this.pos+1,new G(L.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new Mn(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new cr(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new cr(t.pos,e.markFromJSON(t.mark))}}lt.jsonID("removeNodeMark",cr);class Ke extends lt{constructor(e,t,r,i=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=i}apply(e){return this.structure&&ku(e,this.from,this.to)?Ue.fail("Structure replace would overwrite content"):Ue.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new vt([this.from,this.to-this.from,this.slice.size])}invert(e){return new Ke(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new Ke(t.pos,Math.max(t.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Ke)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?G.empty:new G(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Ke(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?G.empty:new G(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Ke(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Ke(t.from,t.to,G.fromJSON(e,t.slice),!!t.structure)}}lt.jsonID("replace",Ke);class Xe extends lt{constructor(e,t,r,i,s,o,u=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=u}apply(e){if(this.structure&&(ku(e,this.from,this.gapFrom)||ku(e,this.gapTo,this.to)))return Ue.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Ue.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?Ue.fromReplace(e,this.from,this.to,r):Ue.fail("Content does not fit in gap")}getMap(){return new vt([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new Xe(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||i<t.pos||s>r.pos?null:new Xe(t.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Xe(t.from,t.to,t.gapFrom,t.gapTo,G.fromJSON(e,t.slice),t.insert,!!t.structure)}}lt.jsonID("replaceAround",Xe);function ku(n,e,t){let r=n.resolve(e),i=t-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function im(n,e,t,r){let i=[],s=[],o,u;n.doc.nodesBetween(e,t,(a,l,c)=>{if(!a.isInline)return;let h=a.marks;if(!r.isInSet(h)&&c.type.allowsMarkType(r.type)){let f=Math.max(l,e),d=Math.min(l+a.nodeSize,t),p=r.addToSet(h);for(let g=0;g<h.length;g++)h[g].isInSet(p)||(o&&o.to==f&&o.mark.eq(h[g])?o.to=d:i.push(o=new $t(f,d,h[g])));u&&u.to==f?u.to=d:s.push(u=new An(f,d,r))}}),i.forEach(a=>n.step(a)),s.forEach(a=>n.step(a))}function sm(n,e,t,r){let i=[],s=0;n.doc.nodesBetween(e,t,(o,u)=>{if(!o.isInline)return;s++;let a=null;if(r instanceof _s){let l=o.marks,c;for(;c=r.isInSet(l);)(a||(a=[])).push(c),l=c.removeFromSet(l)}else r?r.isInSet(o.marks)&&(a=[r]):a=o.marks;if(a&&a.length){let l=Math.min(u+o.nodeSize,t);for(let c=0;c<a.length;c++){let h=a[c],f;for(let d=0;d<i.length;d++){let p=i[d];p.step==s-1&&h.eq(i[d].style)&&(f=p)}f?(f.to=l,f.step=s):i.push({style:h,from:Math.max(u,e),to:l,step:s})}}}),i.forEach(o=>n.step(new $t(o.from,o.to,o.style)))}function ua(n,e,t,r=t.contentMatch,i=!0){let s=n.doc.nodeAt(e),o=[],u=e+1;for(let a=0;a<s.childCount;a++){let l=s.child(a),c=u+l.nodeSize,h=r.matchType(l.type);if(!h)o.push(new Ke(u,c,G.empty));else{r=h;for(let f=0;f<l.marks.length;f++)t.allowsMarkType(l.marks[f].type)||n.step(new $t(u,c,l.marks[f]));if(i&&l.isText&&t.whitespace!="pre"){let f,d=/\r?\n|\r/g,p;for(;f=d.exec(l.text);)p||(p=new G(L.from(t.schema.text(" ",t.allowedMarks(l.marks))),0,0)),o.push(new Ke(u+f.index,u+f.index+f[0].length,p))}}u=c}if(!r.validEnd){let a=r.fillBefore(L.empty,!0);n.replace(u,u,new G(a,0,0))}for(let a=o.length-1;a>=0;a--)n.step(o[a])}function om(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function Hr(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth,i=0,s=0;;--r){let o=n.$from.node(r),u=n.$from.index(r)+i,a=n.$to.indexAfter(r)-s;if(r<n.depth&&o.canReplace(u,a,t))return r;if(r==0||o.type.spec.isolating||!om(o,u,a))break;u&&(i=1),a<o.childCount&&(s=1)}return null}function um(n,e,t){let{$from:r,$to:i,depth:s}=e,o=r.before(s+1),u=i.after(s+1),a=o,l=u,c=L.empty,h=0;for(let p=s,g=!1;p>t;p--)g||r.index(p)>0?(g=!0,c=L.from(r.node(p).copy(c)),h++):a--;let f=L.empty,d=0;for(let p=s,g=!1;p>t;p--)g||i.after(p+1)<i.end(p)?(g=!0,f=L.from(i.node(p).copy(f)),d++):l++;n.step(new Xe(a,l,o,u,new G(c.append(f),h,d),c.size-h,!0))}function aa(n,e,t=null,r=n){let i=am(n,e),s=i&&lm(r,e);return s?i.map(mc).concat({type:e,attrs:t}).concat(s.map(mc)):null}function mc(n){return{type:n,attrs:null}}function am(n,e){let{parent:t,startIndex:r,endIndex:i}=n,s=t.contentMatchAt(r).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return t.canReplaceWith(r,i,o)?s:null}function lm(n,e){let{parent:t,startIndex:r,endIndex:i}=n,s=t.child(r),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let a=(o.length?o[o.length-1]:e).contentMatch;for(let l=r;a&&l<i;l++)a=a.matchType(t.child(l).type);return!a||!a.validEnd?null:o}function cm(n,e,t){let r=L.empty;for(let o=t.length-1;o>=0;o--){if(r.size){let u=t[o].type.contentMatch.matchFragment(r);if(!u||!u.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=L.from(t[o].type.create(t[o].attrs,r))}let i=e.start,s=e.end;n.step(new Xe(i,s,i,s,new G(r,0,0),t.length,!0))}function fm(n,e,t,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=n.steps.length;n.doc.nodesBetween(e,t,(o,u)=>{let a=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(r,a)&&dm(n.doc,n.mapping.slice(s).map(u),r)){let l=null;if(r.schema.linebreakReplacement){let d=r.whitespace=="pre",p=!!r.contentMatch.matchType(r.schema.linebreakReplacement);d&&!p?l=!1:!d&&p&&(l=!0)}l===!1&&Rd(n,o,u,s),ua(n,n.mapping.slice(s).map(u,1),r,void 0,l===null);let c=n.mapping.slice(s),h=c.map(u,1),f=c.map(u+o.nodeSize,1);return n.step(new Xe(h,f,h+1,f-1,new G(L.from(r.create(a,null,o.marks)),0,0),1,!0)),l===!0&&Id(n,o,u,s),!1}})}function Id(n,e,t,r){e.forEach((i,s)=>{if(i.isText){let o,u=/\r?\n|\r/g;for(;o=u.exec(i.text);){let a=n.mapping.slice(r).map(t+1+s+o.index);n.replaceWith(a,a+1,e.type.schema.linebreakReplacement.create())}}})}function Rd(n,e,t,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let o=n.mapping.slice(r).map(t+1+s);n.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function dm(n,e,t){let r=n.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,t)}function hm(n,e,t,r,i){let s=n.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");t||(t=s.type);let o=t.create(r,null,i||s.marks);if(s.isLeaf)return n.replaceWith(e,e+s.nodeSize,o);if(!t.validContent(s.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new Xe(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new G(L.from(o),0,0),1,!0))}function yn(n,e,t=1,r){let i=n.resolve(e),s=i.depth-t,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let l=i.depth-1,c=t-2;l>s;l--,c--){let h=i.node(l),f=i.index(l);if(h.type.spec.isolating)return!1;let d=h.content.cutByIndex(f,h.childCount),p=r&&r[c+1];p&&(d=d.replaceChild(0,p.type.create(p.attrs)));let g=r&&r[c]||h;if(!h.canReplace(f+1,h.childCount)||!g.type.validContent(d))return!1}let u=i.indexAfter(s),a=r&&r[0];return i.node(s).canReplaceWith(u,u,a?a.type:i.node(s+1).type)}function pm(n,e,t=1,r){let i=n.doc.resolve(e),s=L.empty,o=L.empty;for(let u=i.depth,a=i.depth-t,l=t-1;u>a;u--,l--){s=L.from(i.node(u).copy(s));let c=r&&r[l];o=L.from(c?c.type.create(c.attrs,o):i.node(u).copy(o))}n.step(new Ke(e,e,new G(s.append(o),t,t),!0))}function zn(n,e){let t=n.resolve(e),r=t.index();return Pd(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function mm(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),o=s.type==r?n.type.schema.nodes.text:s.type;if(t=t.matchType(o),!t||!n.type.allowsMarks(s.marks))return!1}return t.validEnd}function Pd(n,e){return!!(n&&e&&!n.isLeaf&&mm(n,e))}function Ls(n,e,t=-1){let r=n.resolve(e);for(let i=r.depth;;i--){let s,o,u=r.index(i);if(i==r.depth?(s=r.nodeBefore,o=r.nodeAfter):t>0?(s=r.node(i+1),u++,o=r.node(i).maybeChild(u)):(s=r.node(i).maybeChild(u-1),o=r.node(i+1)),s&&!s.isTextblock&&Pd(s,o)&&r.node(i).canReplace(u,u+1))return e;if(i==0)break;e=t<0?r.before(i):r.after(i)}}function gm(n,e,t){let r=null,{linebreakReplacement:i}=n.doc.type.schema,s=n.doc.resolve(e-t),o=s.node().type;if(i&&o.inlineContent){let c=o.whitespace=="pre",h=!!o.contentMatch.matchType(i);c&&!h?r=!1:!c&&h&&(r=!0)}let u=n.steps.length;if(r===!1){let c=n.doc.resolve(e+t);Rd(n,c.node(),c.before(),u)}o.inlineContent&&ua(n,e+t-1,o,s.node().contentMatchAt(s.index()),r==null);let a=n.mapping.slice(u),l=a.map(e-t);if(n.step(new Ke(l,a.map(e+t,-1),G.empty,!0)),r===!0){let c=n.doc.resolve(l);Id(n,c.node(),c.before(),n.steps.length)}return n}function bm(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,t))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,t))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function ym(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let i=t.content;for(let s=0;s<t.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(t.openStart==0&&t.size?2:1);s++)for(let o=r.depth;o>=0;o--){let u=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,a=r.index(o)+(u>0?1:0),l=r.node(o),c=!1;if(s==1)c=l.canReplace(a,a,i);else{let h=l.contentMatchAt(a).findWrapping(i.firstChild.type);c=h&&l.canReplaceWith(a,a,h[0])}if(c)return u==0?r.pos:u<0?r.before(o+1):r.after(o+1)}return null}function Bs(n,e,t=e,r=G.empty){if(e==t&&!r.size)return null;let i=n.resolve(e),s=n.resolve(t);return _d(i,s,r)?new Ke(e,t,r):new vm(i,s,r).fit()}function _d(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class vm{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=L.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=L.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let l=this.findFittable();l?this.placeNodes(l):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,o=r.depth,u=i.depth;for(;o&&u&&s.childCount==1;)s=s.firstChild.content,o--,u--;let a=new G(s,o,u);return e>-1?new Xe(r.pos,e,this.$to.pos,this.$to.end(),a,t):a.size||r.pos!=this.$to.pos?new Ke(r.pos,i.pos,a):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=t.firstChild;if(t.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}t=s.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=Jo(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let u=this.depth;u>=0;u--){let{type:a,match:l}=this.frontier[u],c,h=null;if(t==1&&(o?l.matchType(o.type)||(h=l.fillBefore(L.from(o),!1)):s&&a.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:u,parent:s,inject:h};if(t==2&&o&&(c=l.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:u,parent:s,wrap:c};if(s&&l.matchType(s.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=Jo(e,t);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new G(e,t+1,Math.max(r,i.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=Jo(e,t);if(i.childCount<=1&&t>0){let s=e.size-t<=t+i.size;this.unplaced=new G(Kr(e,t-1,1),t-1,s?t-1:r)}else this.unplaced=new G(Kr(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:i,wrap:s}){for(;this.depth>t;)this.closeFrontierNode();if(s)for(let g=0;g<s.length;g++)this.openFrontierNode(s[g]);let o=this.unplaced,u=r?r.content:o.content,a=o.openStart-e,l=0,c=[],{match:h,type:f}=this.frontier[t];if(i){for(let g=0;g<i.childCount;g++)c.push(i.child(g));h=h.matchFragment(i)}let d=u.size+e-(o.content.size-o.openEnd);for(;l<u.childCount;){let g=u.child(l),b=h.matchType(g.type);if(!b)break;l++,(l>1||a==0||g.content.size)&&(h=b,c.push(Ld(g.mark(f.allowedMarks(g.marks)),l==1?a:0,l==u.childCount?d:-1)))}let p=l==u.childCount;p||(d=-1),this.placed=Xr(this.placed,t,L.from(c)),this.frontier[t].match=h,p&&d<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,b=u;g<d;g++){let m=b.lastChild;this.frontier.push({type:m.type,match:m.contentMatchAt(m.childCount)}),b=m.content}this.unplaced=p?e==0?G.empty:new G(Kr(o.content,e-1,1),e-1,d<0?o.openEnd:e-1):new G(Kr(o.content,e,l),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!Go(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:i}=this.frontier[t],s=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),o=Go(e,t,i,r,s);if(o){for(let u=t-1;u>=0;u--){let{match:a,type:l}=this.frontier[u],c=Go(e,u,l,a,!0);if(!c||c.childCount)continue e}return{depth:t,fit:o,move:s?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Xr(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,t=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Xr(this.placed,this.depth,L.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(L.empty,!0);t.childCount&&(this.placed=Xr(this.placed,this.frontier.length,t))}}function Kr(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(Kr(n.firstChild.content,e-1,t)))}function Xr(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(Xr(n.lastChild.content,e-1,t)))}function Jo(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function Ld(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,Ld(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(L.empty,!0)))),n.copy(r)}function Go(n,e,t,r,i){let s=n.node(e),o=i?n.indexAfter(e):n.index(e);if(o==s.childCount&&!t.compatibleContent(s.type))return null;let u=r.fillBefore(s.content,!0,o);return u&&!xm(t,s.content,o)?u:null}function xm(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function wm(n){return n.spec.defining||n.spec.definingForContent}function Sm(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let i=n.doc.resolve(e),s=n.doc.resolve(t);if(_d(i,s,r))return n.step(new Ke(e,t,r));let o=qd(i,s);o[o.length-1]==0&&o.pop();let u=-(i.depth+1);o.unshift(u);for(let f=i.depth,d=i.pos-1;f>0;f--,d--){let p=i.node(f).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;o.indexOf(f)>-1?u=f:i.before(f)==d&&o.splice(1,0,-f)}let a=o.indexOf(u),l=[],c=r.openStart;for(let f=r.content,d=0;;d++){let p=f.firstChild;if(l.push(p),d==r.openStart)break;f=p.content}for(let f=c-1;f>=0;f--){let d=l[f],p=wm(d.type);if(p&&!d.sameMarkup(i.node(Math.abs(u)-1)))c=f;else if(p||!d.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let d=(f+c+1)%(r.openStart+1),p=l[d];if(p)for(let g=0;g<o.length;g++){let b=o[(g+a)%o.length],m=!0;b<0&&(m=!1,b=-b);let w=i.node(b-1),x=i.index(b-1);if(w.canReplaceWith(x,x,p.type,p.marks))return n.replace(i.before(b),m?s.after(b):t,new G(Bd(r.content,0,r.openStart,d),d,r.openEnd))}}let h=n.steps.length;for(let f=o.length-1;f>=0&&(n.replace(e,t,r),!(n.steps.length>h));f--){let d=o[f];d<0||(e=i.before(d),t=s.after(d))}}function Bd(n,e,t,r,i){if(e<t){let s=n.firstChild;n=n.replaceChild(0,s.copy(Bd(s.content,e+1,t,r,s)))}if(e>r){let s=i.contentMatchAt(0),o=s.fillBefore(n).append(n);n=o.append(s.matchFragment(o).fillBefore(L.empty,!0))}return n}function km(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let i=bm(n.doc,e,r.type);i!=null&&(e=t=i)}n.replaceRange(e,t,new G(L.from(r),0,0))}function Cm(n,e,t){let r=n.doc.resolve(e),i=n.doc.resolve(t),s=qd(r,i);for(let o=0;o<s.length;o++){let u=s[o],a=o==s.length-1;if(a&&u==0||r.node(u).type.contentMatch.validEnd)return n.delete(r.start(u),i.end(u));if(u>0&&(a||r.node(u-1).canReplace(r.index(u-1),i.indexAfter(u-1))))return n.delete(r.before(u),i.after(u))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(e-r.start(o)==r.depth-o&&t>r.end(o)&&i.end(o)-t!=i.depth-o&&r.start(o-1)==i.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),i.index(o-1)))return n.delete(r.before(o),t);n.delete(e,t)}function qd(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let i=r;i>=0;i--){let s=n.start(i);if(s<n.pos-(n.depth-i)||e.end(i)>e.pos+(e.depth-i)||n.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==n.depth&&i==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&t.push(i)}return t}class Dr extends lt{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return Ue.fail("No node at attribute step's position");let r=Object.create(null);for(let s in t.attrs)r[s]=t.attrs[s];r[this.attr]=this.value;let i=t.type.create(r,null,t.marks);return Ue.fromReplace(e,this.pos,this.pos+1,new G(L.from(i),0,t.isLeaf?0:1))}getMap(){return vt.empty}invert(e){return new Dr(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Dr(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Dr(t.pos,t.attr,t.value)}}lt.jsonID("attr",Dr);class fi extends lt{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let i in e.attrs)t[i]=e.attrs[i];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return Ue.ok(r)}getMap(){return vt.empty}invert(e){return new fi(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new fi(t.attr,t.value)}}lt.jsonID("docAttr",fi);let _r=class extends Error{};_r=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};_r.prototype=Object.create(Error.prototype);_r.prototype.constructor=_r;_r.prototype.name="TransformError";class la{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new bs}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new _r(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}changedRange(){let e=1e9,t=-1e9;for(let r=0;r<this.mapping.maps.length;r++){let i=this.mapping.maps[r];r&&(e=i.map(e,1),t=i.map(t,-1)),i.forEach((s,o,u,a)=>{e=Math.min(e,u),t=Math.max(t,a)})}return e==1e9?null:{from:e,to:t}}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=G.empty){let i=Bs(this.doc,e,t,r);return i&&this.step(i),this}replaceWith(e,t,r){return this.replace(e,t,new G(L.from(r),0,0))}delete(e,t){return this.replace(e,t,G.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return Sm(this,e,t,r),this}replaceRangeWith(e,t,r){return km(this,e,t,r),this}deleteRange(e,t){return Cm(this,e,t),this}lift(e,t){return um(this,e,t),this}join(e,t=1){return gm(this,e,t),this}wrap(e,t){return cm(this,e,t),this}setBlockType(e,t=e,r,i=null){return fm(this,e,t,r,i),this}setNodeMarkup(e,t,r=null,i){return hm(this,e,t,r,i),this}setNodeAttribute(e,t,r){return this.step(new Dr(e,t,r)),this}setDocAttribute(e,t){return this.step(new fi(e,t)),this}addNodeMark(e,t){return this.step(new Mn(e,t)),this}removeNodeMark(e,t){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t instanceof Re)t.isInSet(r.marks)&&this.step(new cr(e,t));else{let i=r.marks,s,o=[];for(;s=t.isInSet(i);)o.push(new cr(e,s)),i=s.removeFromSet(i);for(let u=o.length-1;u>=0;u--)this.step(o[u])}return this}split(e,t=1,r){return pm(this,e,t,r),this}addMark(e,t,r){return im(this,e,t,r),this}removeMark(e,t,r){return sm(this,e,t,r),this}clearIncompatible(e,t,r){return ua(this,e,t,r),this}}const Ko=Object.create(null);class ge{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new zd(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=G.empty){let r=t.content.lastChild,i=null;for(let u=0;u<t.openEnd;u++)i=r,r=r.lastChild;let s=e.steps.length,o=this.ranges;for(let u=0;u<o.length;u++){let{$from:a,$to:l}=o[u],c=e.mapping.slice(s);e.replaceRange(c.map(a.pos),c.map(l.pos),u?G.empty:t),u==0&&yc(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:u}=i[s],a=e.mapping.slice(r),l=a.map(o.pos),c=a.map(u.pos);s?e.deleteRange(l,c):(e.replaceRangeWith(l,c,t),yc(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let i=e.parent.inlineContent?new me(e):Cr(e.node(0),e.parent,e.pos,e.index(),t,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let o=t<0?Cr(e.node(0),e.node(s),e.before(s+1),e.index(s),t,r):Cr(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,t,r);if(o)return o}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new wt(e.node(0))}static atStart(e){return Cr(e,e,0,0,1)||new wt(e)}static atEnd(e){return Cr(e,e,e.content.size,e.childCount,-1)||new wt(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Ko[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in Ko)throw new RangeError("Duplicate use of selection JSON ID "+e);return Ko[e]=t,t.prototype.jsonID=e,t}getBookmark(){return me.between(this.$anchor,this.$head).getBookmark()}}ge.prototype.visible=!0;class zd{constructor(e,t){this.$from=e,this.$to=t}}let gc=!1;function bc(n){!gc&&!n.parent.inlineContent&&(gc=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class me extends ge{constructor(e,t=e){bc(e),bc(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return ge.near(r);let i=e.resolve(t.map(this.anchor));return new me(i.parent.inlineContent?i:r,r)}replace(e,t=G.empty){if(super.replace(e,t),t==G.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof me&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new qs(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new me(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let i=e.resolve(t);return new this(i,r==t?i:e.resolve(r))}static between(e,t,r){let i=e.pos-t.pos;if((!r||i)&&(r=i>=0?1:-1),!t.parent.inlineContent){let s=ge.findFrom(t,r,!0)||ge.findFrom(t,-r,!0);if(s)t=s.$head;else return ge.near(t,r)}return e.parent.inlineContent||(i==0?e=t:(e=(ge.findFrom(e,-r,!0)||ge.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=i<0&&(e=t))),new me(e,t)}}ge.jsonID("text",me);class qs{constructor(e,t){this.anchor=e,this.head=t}map(e){return new qs(e.map(this.anchor),e.map(this.head))}resolve(e){return me.between(e.resolve(this.anchor),e.resolve(this.head))}}class se extends ge{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:i}=t.mapResult(this.anchor),s=e.resolve(i);return r?ge.near(s):new se(s)}content(){return new G(L.from(this.node),0,0)}eq(e){return e instanceof se&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new ca(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new se(e.resolve(t.anchor))}static create(e,t){return new se(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}se.prototype.visible=!1;ge.jsonID("node",se);class ca{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new qs(r,r):new ca(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&se.isSelectable(r)?new se(t):ge.near(t)}}class wt extends ge{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=G.empty){if(t==G.empty){e.delete(0,e.doc.content.size);let r=ge.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new wt(e)}map(e){return new wt(e)}eq(e){return e instanceof wt}getBookmark(){return Tm}}ge.jsonID("all",wt);const Tm={map(){return this},resolve(n){return new wt(n)}};function Cr(n,e,t,r,i,s=!1){if(e.inlineContent)return me.create(n,t);for(let o=r-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let u=e.child(o);if(u.isAtom){if(!s&&se.isSelectable(u))return se.create(n,t-(i<0?u.nodeSize:0))}else{let a=Cr(n,u,t+i,i<0?u.childCount:0,i,s);if(a)return a}t+=u.nodeSize*i}return null}function yc(n,e,t){let r=n.steps.length-1;if(r<e)return;let i=n.steps[r];if(!(i instanceof Ke||i instanceof Xe))return;let s=n.mapping.maps[r],o;s.forEach((u,a,l,c)=>{o==null&&(o=c)}),n.setSelection(ge.near(n.doc.resolve(o),t))}const vc=1,zi=2,xc=4;class Em extends la{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|vc)&~zi,this.storedMarks=null,this}get selectionSet(){return(this.updated&vc)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=zi,this}ensureMarks(e){return Re.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&zi)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~zi,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Re.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let i=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),!e)return this.deleteRange(t,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(t);s=r==t?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,i.text(e,s)),!this.selection.empty&&this.selection.to==t+e.length&&this.setSelection(ge.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=xc,this}get scrolledIntoView(){return(this.updated&xc)>0}}function wc(n,e){return!e||!n?n:n.bind(e)}class Yr{constructor(e,t,r){this.name=e,this.init=wc(t.init,r),this.apply=wc(t.apply,r)}}const Om=[new Yr("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new Yr("selection",{init(n,e){return n.selection||ge.atStart(e.doc)},apply(n){return n.selection}}),new Yr("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new Yr("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class Xo{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Om.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Yr(r.key,r.spec.state,r))})}}class Or{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let u=this.config.plugins[o];if(u.spec.appendTransaction){let a=i?i[o].n:0,l=i?i[o].state:this,c=a<t.length&&u.spec.appendTransaction.call(u,a?t.slice(a):t,l,r);if(c&&r.filterTransaction(c,o)){if(c.setMeta("appendedTransaction",e),!i){i=[];for(let h=0;h<this.config.plugins.length;h++)i.push(h<o?{state:r,n:t.length}:{state:this,n:0})}t.push(c),r=r.applyInner(c),s=!0}i&&(i[o]={state:r,n:t.length})}}if(!s)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new Or(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];t[s.name]=s.apply(e,this[s.name],this,t)}return t}get tr(){return new Em(this)}static create(e){let t=new Xo(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Or(t);for(let i=0;i<t.fields.length;i++)r[t.fields[i].name]=t.fields[i].init(e,r);return r}reconfigure(e){let t=new Xo(this.schema,e.plugins),r=t.fields,i=new Or(t);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(e,i)}return i}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(t[r]=s.toJSON.call(i,this[i.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Xo(e.schema,e.plugins),s=new Or(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=Dn.fromJSON(e.schema,t.doc);else if(o.name=="selection")s.selection=ge.fromJSON(s.doc,t.selection);else if(o.name=="storedMarks")t.storedMarks&&(s.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let u in r){let a=r[u],l=a.spec.state;if(a.key==o.name&&l&&l.fromJSON&&Object.prototype.hasOwnProperty.call(t,u)){s[o.name]=l.fromJSON.call(a,e,t[u],s);return}}s[o.name]=o.init(e,s)}}),s}}function Fd(n,e,t){for(let r in n){let i=n[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=Fd(i,e,{})),t[r]=i}return t}class ht{constructor(e){this.spec=e,this.props={},e.props&&Fd(e.props,this,this.props),this.key=e.key?e.key.key:jd("plugin")}getState(e){return e[this.key]}}const Yo=Object.create(null);function jd(n){return n in Yo?n+"$"+ ++Yo[n]:(Yo[n]=0,n+"$")}class _t{constructor(e="key"){this.key=jd(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Qe=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},Lr=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let Cu=null;const pn=function(n,e,t){let r=Cu||(Cu=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},Am=function(){Cu=null},fr=function(n,e,t,r){return t&&(Sc(n,e,t,r,-1)||Sc(n,e,t,r,1))},Mm=/^(img|br|input|textarea|hr)$/i;function Sc(n,e,t,r,i){for(var s;;){if(n==t&&e==r)return!0;if(e==(i<0?0:Et(n))){let o=n.parentNode;if(!o||o.nodeType!=1||Si(n)||Mm.test(n.nodeName)||n.contentEditable=="false")return!1;e=Qe(n)+(i<0?0:1),n=o}else if(n.nodeType==1){let o=n.childNodes[e+(i<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((s=o.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=i;else return!1;else n=o,e=i<0?Et(n):0}else return!1}}function Et(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Nm(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=Et(n)}else if(n.parentNode&&!Si(n))e=Qe(n),n=n.parentNode;else return null}}function Dm(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!Si(n))e=Qe(n)+1,n=n.parentNode;else return null}}function Im(n,e,t){for(let r=e==0,i=e==Et(n);r||i;){if(n==t)return!0;let s=Qe(n);if(n=n.parentNode,!n)return!1;r=r&&s==0,i=i&&s==Et(n)}}function Si(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const zs=function(n){return n.focusNode&&fr(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function Yn(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function Rm(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Pm(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min(Et(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min(Et(r.startContainer),r.startOffset)}}}const en=typeof navigator<"u"?navigator:null,kc=typeof document<"u"?document:null,Fn=en&&en.userAgent||"",Tu=/Edge\/(\d+)/.exec(Fn),Vd=/MSIE \d/.exec(Fn),Eu=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Fn),gt=!!(Vd||Eu||Tu),Rn=Vd?document.documentMode:Eu?+Eu[1]:Tu?+Tu[1]:0,Nt=!gt&&/gecko\/(\d+)/i.test(Fn);Nt&&+(/Firefox\/(\d+)/.exec(Fn)||[0,0])[1];const Ou=!gt&&/Chrome\/(\d+)/.exec(Fn),nt=!!Ou,Hd=Ou?+Ou[1]:0,ut=!gt&&!!en&&/Apple Computer/.test(en.vendor),Br=ut&&(/Mobile\/\w+/.test(Fn)||!!en&&en.maxTouchPoints>2),Tt=Br||(en?/Mac/.test(en.platform):!1),Ud=en?/Win/.test(en.platform):!1,gn=/Android \d/.test(Fn),ki=!!kc&&"webkitFontSmoothing"in kc.documentElement.style,_m=ki?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Lm(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function fn(n,e){return typeof n=="number"?n:n[e]}function Bm(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function Cc(n,e,t){let r=n.someProp("scrollThreshold")||0,i=n.someProp("scrollMargin")||5,s=n.dom.ownerDocument;for(let o=t||n.dom;o;){if(o.nodeType!=1){o=Lr(o);continue}let u=o,a=u==s.body,l=a?Lm(s):Bm(u),c=0,h=0;if(e.top<l.top+fn(r,"top")?h=-(l.top-e.top+fn(i,"top")):e.bottom>l.bottom-fn(r,"bottom")&&(h=e.bottom-e.top>l.bottom-l.top?e.top+fn(i,"top")-l.top:e.bottom-l.bottom+fn(i,"bottom")),e.left<l.left+fn(r,"left")?c=-(l.left-e.left+fn(i,"left")):e.right>l.right-fn(r,"right")&&(c=e.right-l.right+fn(i,"right")),c||h)if(a)s.defaultView.scrollBy(c,h);else{let d=u.scrollLeft,p=u.scrollTop;h&&(u.scrollTop+=h),c&&(u.scrollLeft+=c);let g=u.scrollLeft-d,b=u.scrollTop-p;e={left:e.left-g,top:e.top-b,right:e.right-g,bottom:e.bottom-b}}let f=a?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(f))break;o=f=="absolute"?o.offsetParent:Lr(o)}}function qm(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,o=t+1;o<Math.min(innerHeight,e.bottom);o+=5){let u=n.root.elementFromPoint(s,o);if(!u||u==n.dom||!n.dom.contains(u))continue;let a=u.getBoundingClientRect();if(a.top>=t-20){r=u,i=a.top;break}}return{refDOM:r,refTop:i,stack:Wd(n.dom)}}function Wd(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=Lr(r));return e}function zm({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;Jd(t,r==0?0:r-e)}function Jd(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:i,left:s}=n[t];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let wr=null;function Fm(n){if(n.setActive)return n.setActive();if(wr)return n.focus(wr);let e=Wd(n);n.focus(wr==null?{get preventScroll(){return wr={preventScroll:!0},!0}}:void 0),wr||(wr=!1,Jd(e,0))}function Gd(n,e){let t,r=2e8,i,s=0,o=e.top,u=e.top,a,l;for(let c=n.firstChild,h=0;c;c=c.nextSibling,h++){let f;if(c.nodeType==1)f=c.getClientRects();else if(c.nodeType==3)f=pn(c).getClientRects();else continue;for(let d=0;d<f.length;d++){let p=f[d];if(p.top<=o&&p.bottom>=u){o=Math.max(p.bottom,o),u=Math.min(p.top,u);let g=p.left>e.left?p.left-e.left:p.right<e.left?e.left-p.right:0;if(g<r){t=c,r=g,i=g&&t.nodeType==3?{left:p.right<e.left?p.right:p.left,top:e.top}:e,c.nodeType==1&&g&&(s=h+(e.left>=(p.left+p.right)/2?1:0));continue}}else p.top>e.top&&!a&&p.left<=e.left&&p.right>=e.left&&(a=c,l={left:Math.max(p.left,Math.min(p.right,e.left)),top:p.top});!t&&(e.left>=p.right&&e.top>=p.top||e.left>=p.left&&e.top>=p.bottom)&&(s=h+1)}}return!t&&a&&(t=a,i=l,r=0),t&&t.nodeType==3?jm(t,i):!t||r&&t.nodeType==1?{node:n,offset:s}:Gd(t,i)}function jm(n,e){let t=n.nodeValue.length,r=document.createRange(),i;for(let s=0;s<t;s++){r.setEnd(n,s+1),r.setStart(n,s);let o=kn(r,1);if(o.top!=o.bottom&&fa(e,o)){i={node:n,offset:s+(e.left>=(o.left+o.right)/2?1:0)};break}}return r.detach(),i||{node:n,offset:0}}function fa(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function Vm(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function Hm(n,e,t){let{node:r,offset:i}=Gd(e,t),s=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&t.left>(o.left+o.right)/2?1:-1}return n.docView.posFromDOM(r,i,s)}function Um(n,e,t,r){let i=-1;for(let s=e,o=!1;s!=n.dom;){let u=n.docView.nearestDesc(s,!0),a;if(!u)return null;if(u.dom.nodeType==1&&(u.node.isBlock&&u.parent||!u.contentDOM)&&((a=u.dom.getBoundingClientRect()).width||a.height)&&(u.node.isBlock&&u.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(u.dom.nodeName)&&(!o&&a.left>r.left||a.top>r.top?i=u.posBefore:(!o&&a.right<r.left||a.bottom<r.top)&&(i=u.posAfter),o=!0),!u.contentDOM&&i<0&&!u.node.isText))return(u.node.isBlock?r.top<(a.top+a.bottom)/2:r.left<(a.left+a.right)/2)?u.posBefore:u.posAfter;s=u.dom.parentNode}return i>-1?i:n.docView.posFromDOM(e,t,-1)}function Kd(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),s=i;;){let o=n.childNodes[s];if(o.nodeType==1){let u=o.getClientRects();for(let a=0;a<u.length;a++){let l=u[a];if(fa(e,l))return Kd(o,e,l)}}if((s=(s+1)%r)==i)break}return n}function Wm(n,e){let t=n.dom.ownerDocument,r,i=0,s=Pm(t,e.left,e.top);s&&({node:r,offset:i}=s);let o=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),u;if(!o||!n.dom.contains(o.nodeType!=1?o.parentNode:o)){let l=n.dom.getBoundingClientRect();if(!fa(e,l)||(o=Kd(n.dom,e,l),!o))return null}if(ut)for(let l=o;r&&l;l=Lr(l))l.draggable&&(r=void 0);if(o=Vm(o,e),r){if(Nt&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let c=r.childNodes[i],h;c.nodeName=="IMG"&&(h=c.getBoundingClientRect()).right<=e.left&&h.bottom>e.top&&i++}let l;ki&&i&&r.nodeType==1&&(l=r.childNodes[i-1]).nodeType==1&&l.contentEditable=="false"&&l.getBoundingClientRect().top>=e.top&&i--,r==n.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?u=n.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(u=Um(n,r,i,e))}u==null&&(u=Hm(n,o,e));let a=n.docView.nearestDesc(o,!0);return{pos:u,inside:a?a.posAtStart-a.border:-1}}function Tc(n){return n.top<n.bottom||n.left<n.right}function kn(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(Tc(r))return r}return Array.prototype.find.call(t,Tc)||n.getBoundingClientRect()}const Jm=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Xd(n,e,t){let{node:r,offset:i,atom:s}=n.docView.domFromPos(e,t<0?-1:1),o=ki||Nt;if(r.nodeType==3)if(o&&(Jm.test(r.nodeValue)||(t<0?!i:i==r.nodeValue.length))){let a=kn(pn(r,i,i),t);if(Nt&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let l=kn(pn(r,i-1,i-1),-1);if(l.top==a.top){let c=kn(pn(r,i,i+1),-1);if(c.top!=a.top)return Jr(c,c.left<l.left)}}return a}else{let a=i,l=i,c=t<0?1:-1;return t<0&&!i?(l++,c=-1):t>=0&&i==r.nodeValue.length?(a--,c=1):t<0?a--:l++,Jr(kn(pn(r,a,l),c),c<0)}if(!n.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(t<0||i==Et(r))){let a=r.childNodes[i-1];if(a.nodeType==1)return $o(a.getBoundingClientRect(),!1)}if(s==null&&i<Et(r)){let a=r.childNodes[i];if(a.nodeType==1)return $o(a.getBoundingClientRect(),!0)}return $o(r.getBoundingClientRect(),t>=0)}if(s==null&&i&&(t<0||i==Et(r))){let a=r.childNodes[i-1],l=a.nodeType==3?pn(a,Et(a)-(o?0:1)):a.nodeType==1&&(a.nodeName!="BR"||!a.nextSibling)?a:null;if(l)return Jr(kn(l,1),!1)}if(s==null&&i<Et(r)){let a=r.childNodes[i];for(;a.pmViewDesc&&a.pmViewDesc.ignoreForCoords;)a=a.nextSibling;let l=a?a.nodeType==3?pn(a,0,o?0:1):a.nodeType==1?a:null:null;if(l)return Jr(kn(l,-1),!0)}return Jr(kn(r.nodeType==3?pn(r):r,-t),t>=0)}function Jr(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function $o(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function Yd(n,e,t){let r=n.state,i=n.root.activeElement;r!=e&&n.updateState(e),i!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),i!=n.dom&&i&&i.focus()}}function Gm(n,e,t){let r=e.selection,i=t=="up"?r.$from:r.$to;return Yd(n,e,()=>{let{node:s}=n.docView.domFromPos(i.pos,t=="up"?-1:1);for(;;){let u=n.docView.nearestDesc(s,!0);if(!u)break;if(u.node.isBlock){s=u.contentDOM||u.dom;break}s=u.dom.parentNode}let o=Xd(n,i.pos,1);for(let u=s.firstChild;u;u=u.nextSibling){let a;if(u.nodeType==1)a=u.getClientRects();else if(u.nodeType==3)a=pn(u,0,u.nodeValue.length).getClientRects();else continue;for(let l=0;l<a.length;l++){let c=a[l];if(c.bottom>c.top+1&&(t=="up"?o.top-c.top>(c.bottom-o.top)*2:c.bottom-o.bottom>(o.bottom-c.top)*2))return!1}}return!0})}const Km=/[\u0590-\u08ac]/;function Xm(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,u=n.domSelection();return u?!Km.test(r.parent.textContent)||!u.modify?t=="left"||t=="backward"?s:o:Yd(n,e,()=>{let{focusNode:a,focusOffset:l,anchorNode:c,anchorOffset:h}=n.domSelectionRange(),f=u.caretBidiLevel;u.modify("move",t,"character");let d=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:p,focusOffset:g}=n.domSelectionRange(),b=p&&!d.contains(p.nodeType==1?p:p.parentNode)||a==p&&l==g;try{u.collapse(c,h),a&&(a!=c||l!=h)&&u.extend&&u.extend(a,l)}catch{}return f!=null&&(u.caretBidiLevel=f),b}):r.pos==r.start()||r.pos==r.end()}let Ec=null,Oc=null,Ac=!1;function Ym(n,e,t){return Ec==e&&Oc==t?Ac:(Ec=e,Oc=t,Ac=t=="up"||t=="down"?Gm(n,e,t):Xm(n,e,t))}const Dt=0,Mc=1,Qn=2,tn=3;class Ci{constructor(e,t,r,i){this.parent=e,this.children=t,this.dom=r,this.contentDOM=i,this.dirty=Dt,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let i=this.children[t];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,o;if(e==this.contentDOM)s=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=t>Qe(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&t==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!t||s.node))if(r&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return s}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let i=this.children[t],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)for(let o=0;o<i.children.length;o++){let u=i.children[o];if(u.size){i=u;break}}return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],u=s+o.size;if(u>e||o instanceof Qd){i=e-s;break}s=u}if(i)return this.children[r].domFromPos(i-this.children[r].border,t);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof $d&&s.side>=0;r--);if(t<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,o=!1);return s&&t&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,t):{node:this.contentDOM,offset:s?Qe(s.dom)+1:0}}else{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,t):{node:this.contentDOM,offset:s?Qe(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,u=0;;u++){let a=this.children[u],l=o+a.size;if(i==-1&&e<=l){let c=o+a.border;if(e>=c&&t<=l-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(e,t,c);e=o;for(let h=u;h>0;h--){let f=this.children[h-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){i=Qe(f.dom)+1;break}e-=f.size}i==-1&&(i=0)}if(i>-1&&(l>t||u==this.children.length-1)){t=l;for(let c=u+1;c<this.children.length;c++){let h=this.children[c];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){s=Qe(h.dom);break}t+=h.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=l}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,i=!1){let s=Math.min(e,t),o=Math.max(e,t);for(let d=0,p=0;d<this.children.length;d++){let g=this.children[d],b=p+g.size;if(s>p&&o<b)return g.setSelection(e-p-g.border,t-p-g.border,r,i);p=b}let u=this.domFromPos(e,e?-1:1),a=t==e?u:this.domFromPos(t,t?-1:1),l=r.root.getSelection(),c=r.domSelectionRange(),h=!1;if((Nt||ut)&&e==t){let{node:d,offset:p}=u;if(d.nodeType==3){if(h=!!(p&&d.nodeValue[p-1]==`
`),h&&p==d.nodeValue.length)for(let g=d,b;g;g=g.parentNode){if(b=g.nextSibling){b.nodeName=="BR"&&(u=a={node:b.parentNode,offset:Qe(b)+1});break}let m=g.pmViewDesc;if(m&&m.node&&m.node.isBlock)break}}else{let g=d.childNodes[p-1];h=g&&(g.nodeName=="BR"||g.contentEditable=="false")}}if(Nt&&c.focusNode&&c.focusNode!=a.node&&c.focusNode.nodeType==1){let d=c.focusNode.childNodes[c.focusOffset];d&&d.contentEditable=="false"&&(i=!0)}if(!(i||h&&ut)&&fr(u.node,u.offset,c.anchorNode,c.anchorOffset)&&fr(a.node,a.offset,c.focusNode,c.focusOffset))return;let f=!1;if((l.extend||e==t)&&!(h&&Nt)){l.collapse(u.node,u.offset);try{e!=t&&l.extend(a.node,a.offset),f=!0}catch{}}if(!f){if(e>t){let p=u;u=a,a=p}let d=document.createRange();d.setEnd(a.node,a.offset),d.setStart(u.node,u.offset),l.removeAllRanges(),l.addRange(d)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?e<=o&&t>=r:e<o&&t>r){let u=r+s.border,a=o-s.border;if(e>=u&&t<=a){this.dirty=e==r||t==o?Qn:Mc,e==u&&t==a&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=tn:s.markDirty(e-u,t-u);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Qn:tn}r=o}this.dirty=Qn}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?Qn:Mc;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class $d extends Ci{constructor(e,t,r,i){let s,o=t.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!t.type.spec.raw){if(o.nodeType!=1){let u=document.createElement("span");u.appendChild(o),o=u}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=t,this.widget=t,s=this}matchesWidget(e){return this.dirty==Dt&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class $m extends Ci{constructor(e,t,r,i){super(e,[],t,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class dr extends Ci{constructor(e,t,r,i,s){super(e,[],r,i),this.mark=t,this.spec=s}static create(e,t,r,i){let s=i.nodeViews[t.type.name],o=s&&s(t,i,r);return(!o||!o.dom)&&(o=br.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new dr(e,t,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&tn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=tn&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=Dt){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Dt}}slice(e,t,r){let i=dr.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;t<o&&(s=Mu(s,t,o,r)),e>0&&(s=Mu(s,0,e,r));for(let u=0;u<s.length;u++)s[u].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Pn extends Ci{constructor(e,t,r,i,s,o,u,a,l){super(e,[],s,o),this.node=t,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=u}static create(e,t,r,i,s,o){let u=s.nodeViews[t.type.name],a,l=u&&u(t,s,()=>{if(!a)return o;if(a.parent)return a.parent.posBeforeChild(a)},r,i),c=l&&l.dom,h=l&&l.contentDOM;if(t.isText){if(!c)c=document.createTextNode(t.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:h}=br.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!h&&!t.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),t.type.spec.draggable&&(c.draggable=!0));let f=c;return c=th(c,r,t),l?a=new Qm(e,t,r,i,c,h||null,f,l,s,o+1):t.isText?new Fs(e,t,r,i,c,f,s):new Pn(e,t,r,i,c,h||null,f,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>L.empty)}return e}matchesNode(e,t,r){return this.dirty==Dt&&e.eq(this.node)&&ys(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,i=t,s=e.composing?this.localCompositionInfo(e,t):null,o=s&&s.pos>-1?s:null,u=s&&s.pos<0,a=new eg(this,o&&o.node,e);rg(this.node,this.innerDeco,(l,c,h)=>{l.spec.marks?a.syncToMarks(l.spec.marks,r,e,c):l.type.side>=0&&!h&&a.syncToMarks(c==this.node.childCount?Re.none:this.node.child(c).marks,r,e,c),a.placeWidget(l,e,i)},(l,c,h,f)=>{a.syncToMarks(l.marks,r,e,f);let d;a.findNodeMatch(l,c,h,f)||u&&e.state.selection.from>i&&e.state.selection.to<i+l.nodeSize&&(d=a.findIndexWithChild(s.node))>-1&&a.updateNodeAt(l,c,h,d,e)||a.updateNextNode(l,c,h,e,f,i)||a.addNode(l,c,h,e,i),i+=l.nodeSize}),a.syncToMarks([],r,e,0),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||this.dirty==Qn)&&(o&&this.protectLocalComposition(e,o),Zd(this.contentDOM,this.children,e),Br&&ig(this.dom))}localCompositionInfo(e,t){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof me)||r<t||i>t+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,u=sg(this.node.content,o,r-t,i-t);return u<0?null:{node:s,pos:u,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:i}){if(this.getDesc(t))return;let s=t;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new $m(this,s,t,i);e.input.compositionNodes.push(o),this.children=Mu(this.children,r,r+i.length,e,o)}update(e,t,r,i){return this.dirty==tn||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,i),!0)}updateInner(e,t,r,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Dt}updateOuterDeco(e){if(ys(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=eh(this.dom,this.nodeDOM,Au(this.outerDeco,this.node,t),Au(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Nc(n,e,t,r,i){th(r,e,n);let s=new Pn(void 0,n,e,t,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class Fs extends Pn{constructor(e,t,r,i,s,o,u){super(e,t,r,i,s,null,o,u,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,i){return this.dirty==tn||this.dirty!=Dt&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=Dt||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Dt,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let i=this.node.cut(e,t),s=document.createTextNode(i.text);return new Fs(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=tn)}get domAtom(){return!1}isText(e){return this.node.text==e}}class Qd extends Ci{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Dt&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Qm extends Pn{constructor(e,t,r,i,s,o,u,a,l,c){super(e,t,r,i,s,o,u,l,c),this.spec=a}update(e,t,r,i){if(this.dirty==tn)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,t,r);return s&&this.updateInner(e,t,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,i){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function Zd(n,e,t){let r=n.firstChild,i=!1;for(let s=0;s<e.length;s++){let o=e[s],u=o.dom;if(u.parentNode==n){for(;u!=r;)r=Dc(r),i=!0;r=r.nextSibling}else i=!0,n.insertBefore(u,r);if(o instanceof dr){let a=r?r.previousSibling:n.lastChild;Zd(o.contentDOM,o.children,t),r=a?a.nextSibling:n.firstChild}}for(;r;)r=Dc(r),i=!0;i&&t.trackWrites==n&&(t.trackWrites=null)}const ti=function(n){n&&(this.nodeName=n)};ti.prototype=Object.create(null);const Zn=[new ti];function Au(n,e,t){if(n.length==0)return Zn;let r=t?Zn[0]:new ti,i=[r];for(let s=0;s<n.length;s++){let o=n[s].type.attrs;if(o){o.nodeName&&i.push(r=new ti(o.nodeName));for(let u in o){let a=o[u];a!=null&&(t&&i.length==1&&i.push(r=new ti(e.isInline?"span":"div")),u=="class"?r.class=(r.class?r.class+" ":"")+a:u=="style"?r.style=(r.style?r.style+";":"")+a:u!="nodeName"&&(r[u]=a))}}}return i}function eh(n,e,t,r){if(t==Zn&&r==Zn)return e;let i=e;for(let s=0;s<r.length;s++){let o=r[s],u=t[s];if(s){let a;u&&u.nodeName==o.nodeName&&i!=n&&(a=i.parentNode)&&a.nodeName.toLowerCase()==o.nodeName||(a=document.createElement(o.nodeName),a.pmIsDeco=!0,a.appendChild(i),u=Zn[0]),i=a}Zm(i,u||Zn[0],o)}return i}function Zm(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=t.class?t.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&n.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&n.classList.add(i[s]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)n.style.removeProperty(i[1])}t.style&&(n.style.cssText+=t.style)}}function th(n,e,t){return eh(n,n,Zn,Au(e,t,n.nodeType!=1))}function ys(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function Dc(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class eg{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=tg(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r,i){let s=0,o=this.stack.length>>1,u=Math.min(o,e.length);for(;s<u&&(s==o-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<o;)this.destroyRest(),this.top.dirty=Dt,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let a=-1,l=this.top.children.length;i<this.preMatch.index&&(l=Math.min(this.index+3,l));for(let c=this.index;c<l;c++){let h=this.top.children[c];if(h.matchesMark(e[o])&&!this.isLocked(h.dom)){a=c;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let c=dr.create(this.top,e[o],t,r);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,o++}}findNodeMatch(e,t,r,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,r))s=this.top.children.indexOf(o,this.index);else for(let u=this.index,a=Math.min(this.top.children.length,u+5);u<a;u++){let l=this.top.children[u];if(l.matchesNode(e,t,r)&&!this.preMatch.matched.has(l)){s=u;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,t,r,i,s){let o=this.top.children[i];return o.dirty==tn&&o.dom==o.contentDOM&&(o.dirty=Qn),o.update(e,t,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=t}}updateNextNode(e,t,r,i,s,o){for(let u=this.index;u<this.top.children.length;u++){let a=this.top.children[u];if(a instanceof Pn){let l=this.preMatch.matched.get(a);if(l!=null&&l!=s)return!1;let c=a.dom,h,f=this.isLocked(c)&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&a.dirty!=tn&&ys(t,a.outerDeco));if(!f&&a.update(e,t,r,i))return this.destroyBetween(this.index,u),a.dom!=c&&(this.changed=!0),this.index++,!0;if(!f&&(h=this.recreateWrapper(a,e,t,r,i,o)))return this.destroyBetween(this.index,u),this.top.children[this.index]=h,h.contentDOM&&(h.dirty=Qn,h.updateChildren(i,o+1),h.dirty=Dt),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,i,s,o){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!ys(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let u=Pn.create(this.top,t,r,i,s,o);if(u.contentDOM){u.children=e.children,e.children=[];for(let a of u.children)a.parent=u}return e.destroy(),u}addNode(e,t,r,i,s){let o=Pn.create(this.top,e,t,r,i,s);o.contentDOM&&o.updateChildren(i,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,t,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new $d(this.top,e,t,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof dr;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof Fs)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((ut||nt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new Qd(this.top,[],r,null);t!=this.top?t.children.push(i):t.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function tg(n,e){let t=e,r=t.children.length,i=n.childCount,s=new Map,o=[];e:for(;i>0;){let u;for(;;)if(r){let l=t.children[r-1];if(l instanceof dr)t=l,r=l.children.length;else{u=l,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let a=u.node;if(a){if(a!=n.child(i-1))break;--i,s.set(u,i),o.push(u)}}return{index:i,matched:s,matches:o.reverse()}}function ng(n,e){return n.type.side-e.type.side}function rg(n,e,t,r){let i=e.locals(n),s=0;if(i.length==0){for(let l=0;l<n.childCount;l++){let c=n.child(l);r(c,i,e.forChild(s,c),l),s+=c.nodeSize}return}let o=0,u=[],a=null;for(let l=0;;){let c,h;for(;o<i.length&&i[o].to==s;){let b=i[o++];b.widget&&(c?(h||(h=[c])).push(b):c=b)}if(c)if(h){h.sort(ng);for(let b=0;b<h.length;b++)t(h[b],l,!!a)}else t(c,l,!!a);let f,d;if(a)d=-1,f=a,a=null;else if(l<n.childCount)d=l,f=n.child(l++);else break;for(let b=0;b<u.length;b++)u[b].to<=s&&u.splice(b--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)u.push(i[o++]);let p=s+f.nodeSize;if(f.isText){let b=p;o<i.length&&i[o].from<b&&(b=i[o].from);for(let m=0;m<u.length;m++)u[m].to<b&&(b=u[m].to);b<p&&(a=f.cut(b-s),f=f.cut(0,b-s),p=b,d=-1)}else for(;o<i.length&&i[o].to<p;)o++;let g=f.isInline&&!f.isLeaf?u.filter(b=>!b.inline):u.slice();r(f,g,e.forChild(s,f),d),s=p}}function ig(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function sg(n,e,t,r){for(let i=0,s=0;i<n.childCount&&s<=r;){let o=n.child(i++),u=s;if(s+=o.nodeSize,!o.isText)continue;let a=o.text;for(;i<n.childCount;){let l=n.child(i++);if(s+=l.nodeSize,!l.isText)break;a+=l.text}if(s>=t){if(s>=r&&a.slice(r-e.length-u,r-u)==e)return r-e.length;let l=u<r?a.lastIndexOf(e,r-u-1):-1;if(l>=0&&l+e.length+u>=t)return u+l;if(t==r&&a.length>=r+e.length-u&&a.slice(r-u,r-u+e.length)==e)return r}}return-1}function Mu(n,e,t,r,i){let s=[];for(let o=0,u=0;o<n.length;o++){let a=n[o],l=u,c=u+=a.size;l>=t||c<=e?s.push(a):(l<e&&s.push(a.slice(0,e-l,r)),i&&(s.push(i),i=void 0),c>t&&s.push(a.slice(t-l,a.size,r)))}return s}function da(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let i=n.docView.nearestDesc(t.focusNode),s=i&&i.size==0,o=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(o<0)return null;let u=r.resolve(o),a,l;if(zs(t)){for(a=o;i&&!i.node;)i=i.parent;let h=i.node;if(i&&h.isAtom&&se.isSelectable(h)&&i.parent&&!(h.isInline&&Im(t.focusNode,t.focusOffset,i.dom))){let f=i.posBefore;l=new se(o==f?u:r.resolve(f))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let h=o,f=o;for(let d=0;d<t.rangeCount;d++){let p=t.getRangeAt(d);h=Math.min(h,n.docView.posFromDOM(p.startContainer,p.startOffset,1)),f=Math.max(f,n.docView.posFromDOM(p.endContainer,p.endOffset,-1))}if(h<0)return null;[a,o]=f==n.state.selection.anchor?[f,h]:[h,f],u=r.resolve(o)}else a=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(a<0)return null}let c=r.resolve(a);if(!l){let h=e=="pointer"||n.state.selection.head<u.pos&&!s?1:-1;l=ha(n,c,u,h)}return l}function nh(n){return n.editable?n.hasFocus():ih(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function vn(n,e=!1){let t=n.state.selection;if(rh(n,t),!!nh(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&nt){let r=n.domSelectionRange(),i=n.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&fr(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)ug(n);else{let{anchor:r,head:i}=t,s,o;Ic&&!(t instanceof me)&&(t.$from.parent.inlineContent||(s=Rc(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(o=Rc(n,t.to))),n.docView.setSelection(r,i,n,e),Ic&&(s&&Pc(s),o&&Pc(o)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&og(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const Ic=ut||nt&&Hd<63;function Rc(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),i=r<t.childNodes.length?t.childNodes[r]:null,s=r?t.childNodes[r-1]:null;if(ut&&i&&i.contentEditable=="false")return Qo(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return Qo(i);if(s)return Qo(s)}}function Qo(n){return n.contentEditable="true",ut&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function Pc(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function og(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,i=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=i)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!nh(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function ug(n){let e=n.domSelection();if(!e)return;let t=n.cursorWrapper.dom,r=t.nodeName=="IMG";r?e.collapse(t.parentNode,Qe(t)+1):e.collapse(t,0),!r&&!n.state.selection.visible&&gt&&Rn<=11&&(t.disabled=!0,t.disabled=!1)}function rh(n,e){if(e instanceof se){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(_c(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else _c(n)}function _c(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function ha(n,e,t,r){return n.someProp("createSelectionBetween",i=>i(n,e,t))||me.between(e,t,r)}function Lc(n){return n.editable&&!n.hasFocus()?!1:ih(n)}function ih(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function ag(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return fr(e.node,e.offset,t.anchorNode,t.anchorOffset)}function Nu(n,e){let{$anchor:t,$head:r}=n.selection,i=e>0?t.max(r):t.min(r),s=i.parent.inlineContent?i.depth?n.doc.resolve(e>0?i.after():i.before()):null:i;return s&&ge.findFrom(s,e)}function Cn(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function Bc(n,e,t){let r=n.state.selection;if(r instanceof me)if(t.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=n.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return Cn(n,new me(r.$anchor,o))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let i=Nu(n.state,e);return i&&i instanceof se?Cn(n,i):!1}else if(!(Tt&&t.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let u=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=n.docView.descAt(u))&&!o.contentDOM?se.isSelectable(s)?Cn(n,new se(e<0?n.state.doc.resolve(i.pos-s.nodeSize):i)):ki?Cn(n,new me(n.state.doc.resolve(e<0?u:u+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof se&&r.node.isInline)return Cn(n,new me(e>0?r.$to:r.$from));{let i=Nu(n.state,e);return i?Cn(n,i):!1}}}function vs(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function ni(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function Sr(n,e){return e<0?lg(n):cg(n)}function lg(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i,s,o=!1;for(Nt&&t.nodeType==1&&r<vs(t)&&ni(t.childNodes[r],-1)&&(o=!0);;)if(r>0){if(t.nodeType!=1)break;{let u=t.childNodes[r-1];if(ni(u,-1))i=t,s=--r;else if(u.nodeType==3)t=u,r=t.nodeValue.length;else break}}else{if(sh(t))break;{let u=t.previousSibling;for(;u&&ni(u,-1);)i=t.parentNode,s=Qe(u),u=u.previousSibling;if(u)t=u,r=vs(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}o?Du(n,t,r):i&&Du(n,i,s)}function cg(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i=vs(t),s,o;for(;;)if(r<i){if(t.nodeType!=1)break;let u=t.childNodes[r];if(ni(u,1))s=t,o=++r;else break}else{if(sh(t))break;{let u=t.nextSibling;for(;u&&ni(u,1);)s=u.parentNode,o=Qe(u)+1,u=u.nextSibling;if(u)t=u,r=0,i=vs(t);else{if(t=t.parentNode,t==n.dom)break;r=i=0}}}s&&Du(n,s,o)}function sh(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function fg(n,e){for(;n&&e==n.childNodes.length&&!Si(n);)e=Qe(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function dg(n,e){for(;n&&!e&&!Si(n);)e=Qe(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function Du(n,e,t){if(e.nodeType!=3){let s,o;(o=fg(e,t))?(e=o,t=0):(s=dg(e,t))&&(e=s,t=s.nodeValue.length)}let r=n.domSelection();if(!r)return;if(zs(r)){let s=document.createRange();s.setEnd(e,t),s.setStart(e,t),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:i}=n;setTimeout(()=>{n.state==i&&vn(n)},50)}function qc(n,e){let t=n.state.doc.resolve(e);if(!(nt||Ud)&&t.parent.inlineContent){let i=n.coordsAtPos(e);if(e>t.start()){let s=n.coordsAtPos(e-1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<t.end()){let s=n.coordsAtPos(e+1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function zc(n,e,t){let r=n.state.selection;if(r instanceof me&&!r.empty||t.indexOf("s")>-1||Tt&&t.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let o=Nu(n.state,e);if(o&&o instanceof se)return Cn(n,o)}if(!i.parent.inlineContent){let o=e<0?i:s,u=r instanceof wt?ge.near(o,e):ge.findFrom(o,e);return u?Cn(n,u):!1}return!1}function Fc(n,e){if(!(n.state.selection instanceof me))return!0;let{$head:t,$anchor:r,empty:i}=n.state.selection;if(!t.sameParent(r))return!0;if(!i)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(s&&!s.isText){let o=n.state.tr;return e<0?o.delete(t.pos-s.nodeSize,t.pos):o.delete(t.pos,t.pos+s.nodeSize),n.dispatch(o),!0}return!1}function jc(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function hg(n){if(!ut||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;jc(n,r,"true"),setTimeout(()=>jc(n,r,"false"),20)}return!1}function pg(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function mg(n,e){let t=e.keyCode,r=pg(e);if(t==8||Tt&&t==72&&r=="c")return Fc(n,-1)||Sr(n,-1);if(t==46&&!e.shiftKey||Tt&&t==68&&r=="c")return Fc(n,1)||Sr(n,1);if(t==13||t==27)return!0;if(t==37||Tt&&t==66&&r=="c"){let i=t==37?qc(n,n.state.selection.from)=="ltr"?-1:1:-1;return Bc(n,i,r)||Sr(n,i)}else if(t==39||Tt&&t==70&&r=="c"){let i=t==39?qc(n,n.state.selection.from)=="ltr"?1:-1:1;return Bc(n,i,r)||Sr(n,i)}else{if(t==38||Tt&&t==80&&r=="c")return zc(n,-1,r)||Sr(n,-1);if(t==40||Tt&&t==78&&r=="c")return hg(n)||zc(n,1,r)||Sr(n,1);if(r==(Tt?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function pa(n,e){n.someProp("transformCopied",d=>{e=d(e,n)});let t=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let d=r.firstChild;t.push(d.type.name,d.attrs!=d.type.defaultAttrs?d.attrs:null),r=d.content}let o=n.someProp("clipboardSerializer")||br.fromSchema(n.state.schema),u=fh(),a=u.createElement("div");a.appendChild(o.serializeFragment(r,{document:u}));let l=a.firstChild,c,h=0;for(;l&&l.nodeType==1&&(c=ch[l.nodeName.toLowerCase()]);){for(let d=c.length-1;d>=0;d--){let p=u.createElement(c[d]);for(;a.firstChild;)p.appendChild(a.firstChild);a.appendChild(p),h++}l=a.firstChild}l&&l.nodeType==1&&l.setAttribute("data-pm-slice",`${i} ${s}${h?` -${h}`:""} ${JSON.stringify(t)}`);let f=n.someProp("clipboardTextSerializer",d=>d(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:a,text:f,slice:e}}function oh(n,e,t,r,i){let s=i.parent.type.spec.code,o,u;if(!t&&!e)return null;let a=!!e&&(r||s||!t);if(a){if(n.someProp("transformPastedText",f=>{e=f(e,s||r,n)}),s)return u=new G(L.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),n.someProp("transformPasted",f=>{u=f(u,n,!0)}),u;let h=n.someProp("clipboardTextParser",f=>f(e,i,r,n));if(h)u=h;else{let f=i.marks(),{schema:d}=n.state,p=br.fromSchema(d);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let b=o.appendChild(document.createElement("p"));g&&b.appendChild(p.serializeNode(d.text(g,f)))})}}else n.someProp("transformPastedHTML",h=>{t=h(t,n)}),o=vg(t),ki&&xg(o);let l=o&&o.querySelector("[data-pm-slice]"),c=l&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(l.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let h=+c[3];h>0;h--){let f=o.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;o=f}if(u||(u=(n.someProp("clipboardParser")||n.someProp("domParser")||In.fromSchema(n.state.schema)).parseSlice(o,{preserveWhitespace:!!(a||c),context:i,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!gg.test(f.parentNode.nodeName)?{ignore:!0}:null}})),c)u=wg(Vc(u,+c[1],+c[2]),c[4]);else if(u=G.maxOpen(bg(u.content,i),!0),u.openStart||u.openEnd){let h=0,f=0;for(let d=u.content.firstChild;h<u.openStart&&!d.type.spec.isolating;h++,d=d.firstChild);for(let d=u.content.lastChild;f<u.openEnd&&!d.type.spec.isolating;f++,d=d.lastChild);u=Vc(u,h,f)}return n.someProp("transformPasted",h=>{u=h(u,n,a)}),u}const gg=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function bg(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let i=e.node(t).contentMatchAt(e.index(t)),s,o=[];if(n.forEach(u=>{if(!o)return;let a=i.findWrapping(u.type),l;if(!a)return o=null;if(l=o.length&&s.length&&ah(a,s,u,o[o.length-1],0))o[o.length-1]=l;else{o.length&&(o[o.length-1]=lh(o[o.length-1],s.length));let c=uh(u,a);o.push(c),i=i.matchType(c.type),s=a}}),o)return L.from(o)}return n}function uh(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,L.from(n));return n}function ah(n,e,t,r,i){if(i<n.length&&i<e.length&&n[i]==e[i]){let s=ah(n,e,t,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==n.length-1?t.type:n[i+1]))return r.copy(r.content.append(L.from(uh(t,n,i+1))))}}function lh(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,lh(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(L.empty,!0);return n.copy(t.append(r))}function Iu(n,e,t,r,i,s){let o=e<0?n.firstChild:n.lastChild,u=o.content;return n.childCount>1&&(s=0),i<r-1&&(u=Iu(u,e,t,r,i+1,s)),i>=t&&(u=e<0?o.contentMatchAt(0).fillBefore(u,s<=i).append(u):u.append(o.contentMatchAt(o.childCount).fillBefore(L.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,o.copy(u))}function Vc(n,e,t){return e<n.openStart&&(n=new G(Iu(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new G(Iu(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const ch={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Hc=null;function fh(){return Hc||(Hc=document.implementation.createHTMLDocument("title"))}let Zo=null;function yg(n){let e=window.trustedTypes;return e?(Zo||(Zo=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),Zo.createHTML(n)):n}function vg(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=fh().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),i;if((i=r&&ch[r[1].toLowerCase()])&&(n=i.map(s=>"<"+s+">").join("")+n+i.map(s=>"</"+s+">").reverse().join("")),t.innerHTML=yg(n),i)for(let s=0;s<i.length;s++)t=t.querySelector(i[s])||t;return t}function xg(n){let e=n.querySelectorAll(nt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent=="Â "&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function wg(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:i,openStart:s,openEnd:o}=n;for(let u=r.length-2;u>=0;u-=2){let a=t.nodes[r[u]];if(!a||a.hasRequiredAttrs())break;i=L.from(a.create(r[u+1],i)),s++,o++}return new G(i,s,o)}const ft={},dt={},Sg={touchstart:!0,touchmove:!0};class kg{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.badSafariComposition=!1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Cg(n){for(let e in ft){let t=ft[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{Eg(n,r)&&!ma(n,r)&&(n.editable||!(r.type in dt))&&t(n,r)},Sg[e]?{passive:!0}:void 0)}ut&&n.dom.addEventListener("input",()=>null),Ru(n)}function Nn(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function Tg(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function Ru(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>ma(n,r))})}function ma(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function Eg(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function Og(n,e){!ma(n,e)&&ft[e.type]&&(n.editable||!(e.type in dt))&&ft[e.type](n,e)}dt.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!hh(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(gn&&nt&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),Br&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",i=>i(n,Yn(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||mg(n,t)?t.preventDefault():Nn(n,"key")};dt.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};dt.keypress=(n,e)=>{let t=e;if(hh(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||Tt&&t.metaKey)return;if(n.someProp("handleKeyPress",i=>i(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof me)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(t.charCode),s=()=>n.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!n.someProp("handleTextInput",o=>o(n,r.$from.pos,r.$to.pos,i,s))&&n.dispatch(s()),t.preventDefault()}};function js(n){return{left:n.clientX,top:n.clientY}}function Ag(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function ga(n,e,t,r,i){if(r==-1)return!1;let s=n.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(n.someProp(e,u=>o>s.depth?u(n,t,s.nodeAfter,s.before(o),i,!0):u(n,t,s.node(o),s.before(o),i,!1)))return!0;return!1}function Ir(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let r=n.state.tr.setSelection(e);r.setMeta("pointer",!0),n.dispatch(r)}function Mg(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&se.isSelectable(r)?(Ir(n,new se(t)),!0):!1}function Ng(n,e){if(e==-1)return!1;let t=n.state.selection,r,i;t instanceof se&&(r=t.node);let s=n.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let u=o>s.depth?s.nodeAfter:s.node(o);if(se.isSelectable(u)){r&&t.$from.depth>0&&o>=t.$from.depth&&s.before(t.$from.depth+1)==t.$from.pos?i=s.before(t.$from.depth):i=s.before(o);break}}return i!=null?(Ir(n,se.create(n.state.doc,i)),!0):!1}function Dg(n,e,t,r,i){return ga(n,"handleClickOn",e,t,r)||n.someProp("handleClick",s=>s(n,e,r))||(i?Ng(n,t):Mg(n,t))}function Ig(n,e,t,r){return ga(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",i=>i(n,e,r))}function Rg(n,e,t,r){return ga(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",i=>i(n,e,r))||Pg(n,t,r)}function Pg(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(Ir(n,me.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),u=i.before(s);if(o.inlineContent)Ir(n,me.create(r,u+1,u+1+o.content.size));else if(se.isSelectable(o))Ir(n,se.create(r,u));else continue;return!0}}function ba(n){return xs(n)}const dh=Tt?"metaKey":"ctrlKey";ft.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=ba(n),i=Date.now(),s="singleClick";i-n.input.lastClick.time<500&&Ag(t,n.input.lastClick)&&!t[dh]&&n.input.lastClick.button==t.button&&(n.input.lastClick.type=="singleClick"?s="doubleClick":n.input.lastClick.type=="doubleClick"&&(s="tripleClick")),n.input.lastClick={time:i,x:t.clientX,y:t.clientY,type:s,button:t.button};let o=n.posAtCoords(js(t));o&&(s=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new _g(n,o,t,!!r)):(s=="doubleClick"?Ig:Rg)(n,o.pos,o.inside,t)?t.preventDefault():Nn(n,"pointer"))};class _g{constructor(e,t,r,i){this.view=e,this.pos=t,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[dh],this.allowDefault=r.shiftKey;let s,o;if(t.inside>-1)s=e.state.doc.nodeAt(t.inside),o=t.inside;else{let c=e.state.doc.resolve(t.pos);s=c.parent,o=c.depth?c.before():0}const u=i?null:r.target,a=u?e.docView.nearestDesc(u,!0):null;this.target=a&&a.nodeDOM.nodeType==1?a.nodeDOM:null;let{selection:l}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||l instanceof se&&l.from<=o&&l.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Nt&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Nn(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>vn(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(js(e))),this.updateAllowDefault(e),this.allowDefault||!t?Nn(this.view,"pointer"):Dg(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||ut&&this.mightDrag&&!this.mightDrag.node.isAtom||nt&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Ir(this.view,ge.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):Nn(this.view,"pointer")}move(e){this.updateAllowDefault(e),Nn(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}ft.touchstart=n=>{n.input.lastTouch=Date.now(),ba(n),Nn(n,"pointer")};ft.touchmove=n=>{n.input.lastTouch=Date.now(),Nn(n,"pointer")};ft.contextmenu=n=>ba(n);function hh(n,e){return n.composing?!0:ut&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const Lg=gn?5e3:-1;dt.compositionstart=dt.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof me&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)||nt&&Ud&&Bg(n)))n.markCursor=n.state.storedMarks||t.marks(),xs(n,!0),n.markCursor=null;else if(xs(n,!e.selection.empty),Nt&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){let u=n.domSelection();u&&u.collapse(o,o.nodeValue.length);break}else i=o,s=-1}}n.input.composing=!0}ph(n,Lg)};function Bg(n){let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(!e||e.nodeType!=1||t>=e.childNodes.length)return!1;let r=e.childNodes[t];return r.nodeType==1&&r.contentEditable=="false"}dt.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.badSafariComposition?n.domObserver.forceFlush():n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,ph(n,20))};function ph(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>xs(n),e))}function mh(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=zg());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function qg(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=Nm(e.focusNode,e.focusOffset),r=Dm(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let i=r.pmViewDesc,s=n.domObserver.lastChangedTextNode;if(t==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let o=t.pmViewDesc;if(!(!o||!o.isText(t.nodeValue)))return r}}return t||r}function zg(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function xs(n,e=!1){if(!(gn&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),mh(n),e||n.docView&&n.docView.dirty){let t=da(n),r=n.state.selection;return t&&!t.eq(r)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function Fg(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const di=gt&&Rn<15||Br&&_m<604;ft.copy=dt.cut=(n,e)=>{let t=e,r=n.state.selection,i=t.type=="cut";if(r.empty)return;let s=di?null:t.clipboardData,o=r.content(),{dom:u,text:a}=pa(n,o);s?(t.preventDefault(),s.clearData(),s.setData("text/html",u.innerHTML),s.setData("text/plain",a)):Fg(n,u),i&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function jg(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function Vg(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?hi(n,r.value,null,i,e):hi(n,r.textContent,r.innerHTML,i,e)},50)}function hi(n,e,t,r,i){let s=oh(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",a=>a(n,i,s||G.empty)))return!0;if(!s)return!1;let o=jg(s),u=o?n.state.tr.replaceSelectionWith(o,r):n.state.tr.replaceSelection(s);return n.dispatch(u.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function gh(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}dt.paste=(n,e)=>{let t=e;if(n.composing&&!gn)return;let r=di?null:t.clipboardData,i=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&hi(n,gh(r),r.getData("text/html"),i,t)?t.preventDefault():Vg(n,t)};class bh{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const Hg=Tt?"altKey":"ctrlKey";function yh(n,e){let t=n.someProp("dragCopies",r=>!r(e));return t??!e[Hg]}ft.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let i=n.state.selection,s=i.empty?null:n.posAtCoords(js(t)),o;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof se?i.to-1:i.to))){if(r&&r.mightDrag)o=se.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let h=n.docView.nearestDesc(t.target,!0);h&&h.node.type.spec.draggable&&h!=n.docView&&(o=se.create(n.state.doc,h.posBefore))}}let u=(o||n.state.selection).content(),{dom:a,text:l,slice:c}=pa(n,u);(!t.dataTransfer.files.length||!nt||Hd>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(di?"Text":"text/html",a.innerHTML),t.dataTransfer.effectAllowed="copyMove",di||t.dataTransfer.setData("text/plain",l),n.dragging=new bh(c,yh(n,t),o)};ft.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};dt.dragover=dt.dragenter=(n,e)=>e.preventDefault();dt.drop=(n,e)=>{try{Ug(n,e,n.dragging)}finally{n.dragging=null}};function Ug(n,e,t){if(!e.dataTransfer)return;let r=n.posAtCoords(js(e));if(!r)return;let i=n.state.doc.resolve(r.pos),s=t&&t.slice;s?n.someProp("transformPasted",d=>{s=d(s,n,!1)}):s=oh(n,gh(e.dataTransfer),di?null:e.dataTransfer.getData("text/html"),!1,i);let o=!!(t&&yh(n,e));if(n.someProp("handleDrop",d=>d(n,e,s||G.empty,o))){e.preventDefault();return}if(!s)return;e.preventDefault();let u=s?ym(n.state.doc,i.pos,s):i.pos;u==null&&(u=i.pos);let a=n.state.tr;if(o){let{node:d}=t;d?d.replace(a):a.deleteSelection()}let l=a.mapping.map(u),c=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,h=a.doc;if(c?a.replaceRangeWith(l,l,s.content.firstChild):a.replaceRange(l,l,s),a.doc.eq(h))return;let f=a.doc.resolve(l);if(c&&se.isSelectable(s.content.firstChild)&&f.nodeAfter&&f.nodeAfter.sameMarkup(s.content.firstChild))a.setSelection(new se(f));else{let d=a.mapping.map(u);a.mapping.maps[a.mapping.maps.length-1].forEach((p,g,b,m)=>d=m),a.setSelection(ha(n,f,a.doc.resolve(d)))}n.focus(),n.dispatch(a.setMeta("uiEvent","drop"))}ft.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&vn(n)},20))};ft.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};ft.beforeinput=(n,e)=>{if(nt&&gn&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",s=>s(n,Yn(8,"Backspace")))))return;let{$cursor:i}=n.state.selection;i&&i.pos>0&&n.dispatch(n.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let n in dt)ft[n]=dt[n];function pi(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class ws{constructor(e,t){this.toDOM=e,this.spec=t||sr,this.side=this.spec.side||0}map(e,t,r,i){let{pos:s,deleted:o}=e.mapResult(t.from+i,this.side<0?-1:1);return o?null:new mt(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof ws&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&pi(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class _n{constructor(e,t){this.attrs=e,this.spec=t||sr}map(e,t,r,i){let s=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-r,o=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new mt(s,o,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof _n&&pi(this.attrs,e.attrs)&&pi(this.spec,e.spec)}static is(e){return e.type instanceof _n}destroy(){}}class ya{constructor(e,t){this.attrs=e,this.spec=t||sr}map(e,t,r,i){let s=e.mapResult(t.from+i,1);if(s.deleted)return null;let o=e.mapResult(t.to+i,-1);return o.deleted||o.pos<=s.pos?null:new mt(s.pos-r,o.pos-r,this)}valid(e,t){let{index:r,offset:i}=e.content.findIndex(t.from),s;return i==t.from&&!(s=e.child(r)).isText&&i+s.nodeSize==t.to}eq(e){return this==e||e instanceof ya&&pi(this.attrs,e.attrs)&&pi(this.spec,e.spec)}destroy(){}}class mt{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new mt(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new mt(e,e,new ws(t,r))}static inline(e,t,r,i){return new mt(e,t,new _n(r,i))}static node(e,t,r,i){return new mt(e,t,new ya(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof _n}get widget(){return this.type instanceof ws}}const Tr=[],sr={};class je{constructor(e,t){this.local=e.length?e:Tr,this.children=t.length?t:Tr}static create(e,t){return t.length?Ss(t,e,0,sr):ot}find(e,t,r){let i=[];return this.findInner(e??0,t??1e9,i,0,r),i}findInner(e,t,r,i,s){for(let o=0;o<this.local.length;o++){let u=this.local[o];u.from<=t&&u.to>=e&&(!s||s(u.spec))&&r.push(u.copy(u.from+i,u.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<t&&this.children[o+1]>e){let u=this.children[o]+1;this.children[o+2].findInner(e-u,t-u,r,i+u,s)}}map(e,t,r){return this==ot||e.maps.length==0?this:this.mapInner(e,t,0,0,r||sr)}mapInner(e,t,r,i,s){let o;for(let u=0;u<this.local.length;u++){let a=this.local[u].map(e,r,i);a&&a.type.valid(t,a)?(o||(o=[])).push(a):s.onRemove&&s.onRemove(this.local[u].spec)}return this.children.length?Wg(this.children,o||[],e,t,r,i,s):o?new je(o.sort(or),Tr):ot}add(e,t){return t.length?this==ot?je.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let i,s=0;e.forEach((u,a)=>{let l=a+r,c;if(c=xh(t,u,l)){for(i||(i=this.children.slice());s<i.length&&i[s]<a;)s+=3;i[s]==a?i[s+2]=i[s+2].addInner(u,c,l+1):i.splice(s,0,a,a+u.nodeSize,Ss(c,u,l+1,sr)),s+=3}});let o=vh(s?wh(t):t,-r);for(let u=0;u<o.length;u++)o[u].type.valid(e,o[u])||o.splice(u--,1);return new je(o.length?this.local.concat(o).sort(or):this.local,i||this.children)}remove(e){return e.length==0||this==ot?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,u=r[s]+t,a=r[s+1]+t;for(let c=0,h;c<e.length;c++)(h=e[c])&&h.from>u&&h.to<a&&(e[c]=null,(o||(o=[])).push(h));if(!o)continue;r==this.children&&(r=this.children.slice());let l=r[s+2].removeInner(o,u+1);l!=ot?r[s+2]=l:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let u=0;u<i.length;u++)i[u].eq(o,t)&&(i==this.local&&(i=this.local.slice()),i.splice(u--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new je(i,r):ot}forChild(e,t){if(this==ot)return this;if(t.isLeaf)return je.empty;let r,i;for(let u=0;u<this.children.length;u+=3)if(this.children[u]>=e){this.children[u]==e&&(r=this.children[u+2]);break}let s=e+1,o=s+t.content.size;for(let u=0;u<this.local.length;u++){let a=this.local[u];if(a.from<o&&a.to>s&&a.type instanceof _n){let l=Math.max(s,a.from)-s,c=Math.min(o,a.to)-s;l<c&&(i||(i=[])).push(a.copy(l,c))}}if(i){let u=new je(i.sort(or),Tr);return r?new En([u,r]):u}return r||ot}eq(e){if(this==e)return!0;if(!(e instanceof je)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return va(this.localsInner(e))}localsInner(e){if(this==ot)return Tr;if(e.inlineContent||!this.local.some(_n.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof _n||t.push(this.local[r]);return t}forEachSet(e){e(this)}}je.empty=new je([],[]);je.removeOverlap=va;const ot=je.empty;class En{constructor(e){this.members=e}map(e,t){const r=this.members.map(i=>i.map(e,t,sr));return En.from(r)}forChild(e,t){if(t.isLeaf)return je.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,t);s!=ot&&(s instanceof En?r=r.concat(s.members):r.push(s))}return En.from(r)}eq(e){if(!(e instanceof En)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!t)t=s;else{r&&(t=t.slice(),r=!1);for(let o=0;o<s.length;o++)t.push(s[o])}}return t?va(r?t:t.sort(or)):Tr}static from(e){switch(e.length){case 0:return ot;case 1:return e[0];default:return new En(e.every(t=>t instanceof je)?e:e.reduce((t,r)=>t.concat(r instanceof je?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function Wg(n,e,t,r,i,s,o){let u=n.slice();for(let l=0,c=s;l<t.maps.length;l++){let h=0;t.maps[l].forEach((f,d,p,g)=>{let b=g-p-(d-f);for(let m=0;m<u.length;m+=3){let w=u[m+1];if(w<0||f>w+c-h)continue;let x=u[m]+c-h;d>=x?u[m+1]=f<=x?-2:-1:f>=c&&b&&(u[m]+=b,u[m+1]+=b)}h+=b}),c=t.maps[l].map(c,-1)}let a=!1;for(let l=0;l<u.length;l+=3)if(u[l+1]<0){if(u[l+1]==-2){a=!0,u[l+1]=-1;continue}let c=t.map(n[l]+s),h=c-i;if(h<0||h>=r.content.size){a=!0;continue}let f=t.map(n[l+1]+s,-1),d=f-i,{index:p,offset:g}=r.content.findIndex(h),b=r.maybeChild(p);if(b&&g==h&&g+b.nodeSize==d){let m=u[l+2].mapInner(t,b,c+1,n[l]+s+1,o);m!=ot?(u[l]=h,u[l+1]=d,u[l+2]=m):(u[l+1]=-2,a=!0)}else a=!0}if(a){let l=Jg(u,n,e,t,i,s,o),c=Ss(l,r,0,o);e=c.local;for(let h=0;h<u.length;h+=3)u[h+1]<0&&(u.splice(h,3),h-=3);for(let h=0,f=0;h<c.children.length;h+=3){let d=c.children[h];for(;f<u.length&&u[f]<d;)f+=3;u.splice(f,0,c.children[h],c.children[h+1],c.children[h+2])}}return new je(e.sort(or),u)}function vh(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let i=n[r];t.push(new mt(i.from+e,i.to+e,i.type))}return t}function Jg(n,e,t,r,i,s,o){function u(a,l){for(let c=0;c<a.local.length;c++){let h=a.local[c].map(r,i,l);h?t.push(h):o.onRemove&&o.onRemove(a.local[c].spec)}for(let c=0;c<a.children.length;c+=3)u(a.children[c+2],a.children[c]+l+1)}for(let a=0;a<n.length;a+=3)n[a+1]==-1&&u(n[a+2],e[a]+s+1);return t}function xh(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,i=null;for(let s=0,o;s<n.length;s++)(o=n[s])&&o.from>t&&o.to<r&&((i||(i=[])).push(o),n[s]=null);return i}function wh(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function Ss(n,e,t,r){let i=[],s=!1;e.forEach((u,a)=>{let l=xh(n,u,a+t);if(l){s=!0;let c=Ss(l,u,t+a+1,r);c!=ot&&i.push(a,a+u.nodeSize,c)}});let o=vh(s?wh(n):n,-t).sort(or);for(let u=0;u<o.length;u++)o[u].type.valid(e,o[u])||(r.onRemove&&r.onRemove(o[u].spec),o.splice(u--,1));return o.length||i.length?new je(o,i):ot}function or(n,e){return n.from-e.from||n.to-e.to}function va(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let i=t+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==n&&(e=n.slice()),e[i]=s.copy(s.from,r.to),Uc(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,s.from),Uc(e,i,r.copy(s.from,r.to)));break}}}return e}function Uc(n,e,t){for(;e<n.length&&or(t,n[e])>0;)e++;n.splice(e,0,t)}function eu(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=ot&&e.push(r)}),n.cursorWrapper&&e.push(je.create(n.state.doc,[n.cursorWrapper.deco])),En.from(e)}const Gg={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Kg=gt&&Rn<=11;class Xg{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Yg{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Xg,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);gt&&Rn<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():ut&&e.composing&&r.some(i=>i.type=="childList"&&i.target.nodeName=="TR")?(e.input.badSafariComposition=!0,this.flushSoon()):this.flush()}),Kg&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Gg)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Lc(this.view)){if(this.suppressingSelectionUpdates)return vn(this.view);if(gt&&Rn<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&fr(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let s=e.focusNode;s;s=Lr(s))t.add(s);for(let s=e.anchorNode;s;s=Lr(s))if(t.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&Lc(e)&&!this.ignoreSelectionChange(r),s=-1,o=-1,u=!1,a=[];if(e.editable)for(let c=0;c<t.length;c++){let h=this.registerMutation(t[c],a);h&&(s=s<0?h.from:Math.min(h.from,s),o=o<0?h.to:Math.max(h.to,o),h.typeOver&&(u=!0))}if(a.some(c=>c.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let c of a)if(c.nodeName=="BR"&&c.parentNode){let h=c.nextSibling;h&&h.nodeType==1&&h.contentEditable=="false"&&c.parentNode.removeChild(c)}}else if(Nt&&a.length){let c=a.filter(h=>h.nodeName=="BR");if(c.length==2){let[h,f]=c;h.parentNode&&h.parentNode.parentNode==f.parentNode?f.remove():h.remove()}else{let{focusNode:h}=this.currentSelection;for(let f of c){let d=f.parentNode;d&&d.nodeName=="LI"&&(!h||Zg(e,h)!=d)&&f.remove()}}}let l=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&zs(r)&&(l=da(e))&&l.eq(ge.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,vn(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,o),$g(e)),e.input.badSafariComposition&&(e.input.badSafariComposition=!1,e1(e,a)),this.handleDOMChange(s,o,u,a),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||vn(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let c=0;c<e.addedNodes.length;c++){let h=e.addedNodes[c];t.push(h),h.nodeType==3&&(this.lastChangedTextNode=h)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(gt&&Rn<=11&&e.addedNodes.length)for(let c=0;c<e.addedNodes.length;c++){let{previousSibling:h,nextSibling:f}=e.addedNodes[c];(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(i=h),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(s=f)}let o=i&&i.parentNode==e.target?Qe(i)+1:0,u=r.localPosFromDOM(e.target,o,-1),a=s&&s.parentNode==e.target?Qe(s):e.target.childNodes.length,l=r.localPosFromDOM(e.target,a,1);return{from:u,to:l}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let Wc=new WeakMap,Jc=!1;function $g(n){if(!Wc.has(n)&&(Wc.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=Nt,Jc)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Jc=!0}}function Gc(n,e){let t=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=n.domAtPos(n.state.selection.anchor);return fr(o.node,o.offset,i,s)&&([t,r,i,s]=[i,s,t,r]),{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:s}}function Qg(n,e){if(e.getComposedRanges){let i=e.getComposedRanges(n.root)[0];if(i)return Gc(n,i)}let t;function r(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),t?Gc(n,t):null}function Zg(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let r=n.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function e1(n,e){var t;let{focusNode:r,focusOffset:i}=n.domSelectionRange();for(let s of e)if(((t=s.parentNode)===null||t===void 0?void 0:t.nodeName)=="TR"){let o=s.nextSibling;for(;o&&o.nodeName!="TD"&&o.nodeName!="TH";)o=o.nextSibling;if(o){let u=o;for(;;){let a=u.firstChild;if(!a||a.nodeType!=1||a.contentEditable=="false"||/^(BR|IMG)$/.test(a.nodeName))break;u=a}u.insertBefore(s,u.firstChild),r==s&&n.domSelection().collapse(s,i)}else s.parentNode.removeChild(s)}}function t1(n,e,t){let{node:r,fromOffset:i,toOffset:s,from:o,to:u}=n.docView.parseRange(e,t),a=n.domSelectionRange(),l,c=a.anchorNode;if(c&&n.dom.contains(c.nodeType==1?c:c.parentNode)&&(l=[{node:c,offset:a.anchorOffset}],zs(a)||l.push({node:a.focusNode,offset:a.focusOffset})),nt&&n.input.lastKeyCode===8)for(let b=s;b>i;b--){let m=r.childNodes[b-1],w=m.pmViewDesc;if(m.nodeName=="BR"&&!w){s=b;break}if(!w||w.size)break}let h=n.state.doc,f=n.someProp("domParser")||In.fromSchema(n.state.schema),d=h.resolve(o),p=null,g=f.parse(r,{topNode:d.parent,topMatch:d.parent.contentMatchAt(d.index()),topOpen:!0,from:i,to:s,preserveWhitespace:d.parent.type.whitespace=="pre"?"full":!0,findPositions:l,ruleFromNode:n1,context:d});if(l&&l[0].pos!=null){let b=l[0].pos,m=l[1]&&l[1].pos;m==null&&(m=b),p={anchor:b+o,head:m+o}}return{doc:g,sel:p,from:o,to:u}}function n1(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(ut&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||ut&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const r1=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function i1(n,e,t,r,i){let s=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let k=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,E=da(n,k);if(E&&!n.state.selection.eq(E)){if(nt&&gn&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",N=>N(n,Yn(13,"Enter"))))return;let O=n.state.tr.setSelection(E);k=="pointer"?O.setMeta("pointer",!0):k=="key"&&O.scrollIntoView(),s&&O.setMeta("composition",s),n.dispatch(O)}return}let o=n.state.doc.resolve(e),u=o.sharedDepth(t);e=o.before(u+1),t=n.state.doc.resolve(t).after(u+1);let a=n.state.selection,l=t1(n,e,t),c=n.state.doc,h=c.slice(l.from,l.to),f,d;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(f=n.state.selection.to,d="end"):(f=n.state.selection.from,d="start"),n.input.lastKeyCode=null;let p=u1(h.content,l.doc.content,l.from,f,d);if(p&&n.input.domChangeCount++,(Br&&n.input.lastIOSEnter>Date.now()-225||gn)&&i.some(k=>k.nodeType==1&&!r1.test(k.nodeName))&&(!p||p.endA>=p.endB)&&n.someProp("handleKeyDown",k=>k(n,Yn(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!p)if(r&&a instanceof me&&!a.empty&&a.$head.sameParent(a.$anchor)&&!n.composing&&!(l.sel&&l.sel.anchor!=l.sel.head))p={start:a.from,endA:a.to,endB:a.to};else{if(l.sel){let k=Kc(n,n.state.doc,l.sel);if(k&&!k.eq(n.state.selection)){let E=n.state.tr.setSelection(k);s&&E.setMeta("composition",s),n.dispatch(E)}}return}n.state.selection.from<n.state.selection.to&&p.start==p.endB&&n.state.selection instanceof me&&(p.start>n.state.selection.from&&p.start<=n.state.selection.from+2&&n.state.selection.from>=l.from?p.start=n.state.selection.from:p.endA<n.state.selection.to&&p.endA>=n.state.selection.to-2&&n.state.selection.to<=l.to&&(p.endB+=n.state.selection.to-p.endA,p.endA=n.state.selection.to)),gt&&Rn<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>l.from&&l.doc.textBetween(p.start-l.from-1,p.start-l.from+1)==" Â "&&(p.start--,p.endA--,p.endB--);let g=l.doc.resolveNoCache(p.start-l.from),b=l.doc.resolveNoCache(p.endB-l.from),m=c.resolve(p.start),w=g.sameParent(b)&&g.parent.inlineContent&&m.end()>=p.endA;if((Br&&n.input.lastIOSEnter>Date.now()-225&&(!w||i.some(k=>k.nodeName=="DIV"||k.nodeName=="P"))||!w&&g.pos<l.doc.content.size&&(!g.sameParent(b)||!g.parent.inlineContent)&&g.pos<b.pos&&!/\S/.test(l.doc.textBetween(g.pos,b.pos,"","")))&&n.someProp("handleKeyDown",k=>k(n,Yn(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>p.start&&o1(c,p.start,p.endA,g,b)&&n.someProp("handleKeyDown",k=>k(n,Yn(8,"Backspace")))){gn&&nt&&n.domObserver.suppressSelectionUpdates();return}nt&&p.endB==p.start&&(n.input.lastChromeDelete=Date.now()),gn&&!w&&g.start()!=b.start()&&b.parentOffset==0&&g.depth==b.depth&&l.sel&&l.sel.anchor==l.sel.head&&l.sel.head==p.endA&&(p.endB-=2,b=l.doc.resolveNoCache(p.endB-l.from),setTimeout(()=>{n.someProp("handleKeyDown",function(k){return k(n,Yn(13,"Enter"))})},20));let x=p.start,y=p.endA,v=k=>{let E=k||n.state.tr.replace(x,y,l.doc.slice(p.start-l.from,p.endB-l.from));if(l.sel){let O=Kc(n,E.doc,l.sel);O&&!(nt&&n.composing&&O.empty&&(p.start!=p.endB||n.input.lastChromeDelete<Date.now()-100)&&(O.head==x||O.head==E.mapping.map(y)-1)||gt&&O.empty&&O.head==x)&&E.setSelection(O)}return s&&E.setMeta("composition",s),E.scrollIntoView()},S;if(w)if(g.pos==b.pos){gt&&Rn<=11&&g.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>vn(n),20));let k=v(n.state.tr.delete(x,y)),E=c.resolve(p.start).marksAcross(c.resolve(p.endA));E&&k.ensureMarks(E),n.dispatch(k)}else if(p.endA==p.endB&&(S=s1(g.parent.content.cut(g.parentOffset,b.parentOffset),m.parent.content.cut(m.parentOffset,p.endA-m.start())))){let k=v(n.state.tr);S.type=="add"?k.addMark(x,y,S.mark):k.removeMark(x,y,S.mark),n.dispatch(k)}else if(g.parent.child(g.index()).isText&&g.index()==b.index()-(b.textOffset?0:1)){let k=g.parent.textBetween(g.parentOffset,b.parentOffset),E=()=>v(n.state.tr.insertText(k,x,y));n.someProp("handleTextInput",O=>O(n,x,y,k,E))||n.dispatch(E())}else n.dispatch(v());else n.dispatch(v())}function Kc(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:ha(n,e.resolve(t.anchor),e.resolve(t.head))}function s1(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,i=t,s=r,o,u,a;for(let c=0;c<r.length;c++)i=r[c].removeFromSet(i);for(let c=0;c<t.length;c++)s=t[c].removeFromSet(s);if(i.length==1&&s.length==0)u=i[0],o="add",a=c=>c.mark(u.addToSet(c.marks));else if(i.length==0&&s.length==1)u=s[0],o="remove",a=c=>c.mark(u.removeFromSet(c.marks));else return null;let l=[];for(let c=0;c<e.childCount;c++)l.push(a(e.child(c)));if(L.from(l).eq(n))return{mark:u,type:o}}function o1(n,e,t,r,i){if(t-e<=i.pos-r.pos||tu(r,!0,!1)<i.pos)return!1;let s=n.resolve(e);if(!r.parent.isTextblock){let u=s.nodeAfter;return u!=null&&t==e+u.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=n.resolve(tu(s,!0,!0));return!o.parent.isTextblock||o.pos>t||tu(o,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function tu(n,e,t){let r=n.depth,i=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,i++,e=!1;if(t){let s=n.node(r).maybeChild(n.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function u1(n,e,t,r,i){let s=n.findDiffStart(e,t);if(s==null)return null;let{a:o,b:u}=n.findDiffEnd(e,t+n.size,t+e.size);if(i=="end"){let a=Math.max(0,s-Math.min(o,u));r-=o+a-s}if(o<s&&n.size<e.size){let a=r<=s&&r>=o?s-r:0;s-=a,s&&s<e.size&&Xc(e.textBetween(s-1,s+1))&&(s+=a?1:-1),u=s+(u-o),o=s}else if(u<s){let a=r<=s&&r>=u?s-r:0;s-=a,s&&s<n.size&&Xc(n.textBetween(s-1,s+1))&&(s+=a?1:-1),o=s+(o-u),u=s}return{start:s,endA:o,endB:u}}function Xc(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class Sh{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new kg,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(ef),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Qc(this),$c(this),this.nodeViews=Zc(this),this.docView=Nc(this.state.doc,Yc(this),eu(this),this.dom,this),this.domObserver=new Yg(this,(r,i,s,o)=>i1(this,r,i,s,o)),this.domObserver.start(),Cg(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Ru(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(ef),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let i=this.state,s=!1,o=!1;e.storedMarks&&this.composing&&(mh(this),o=!0),this.state=e;let u=i.plugins!=e.plugins||this._props.plugins!=t.plugins;if(u||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let d=Zc(this);l1(d,this.nodeViews)&&(this.nodeViews=d,s=!0)}(u||t.handleDOMEvents!=this._props.handleDOMEvents)&&Ru(this),this.editable=Qc(this),$c(this);let a=eu(this),l=Yc(this),c=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",h=s||!this.docView.matchesNode(e.doc,l,a);(h||!e.selection.eq(i.selection))&&(o=!0);let f=c=="preserve"&&o&&this.dom.style.overflowAnchor==null&&qm(this);if(o){this.domObserver.stop();let d=h&&(gt||nt)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&a1(i.selection,e.selection);if(h){let p=nt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=qg(this)),(s||!this.docView.update(e.doc,l,a,this))&&(this.docView.updateOuterDeco(l),this.docView.destroy(),this.docView=Nc(e.doc,l,a,this.dom,this)),p&&(!this.trackWrites||!this.dom.contains(this.trackWrites))&&(d=!0)}d||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&ag(this))?vn(this,d):(rh(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),c=="reset"?this.dom.scrollTop=0:c=="to selection"?this.scrollToSelection():f&&zm(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof se){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&Cc(this,t.getBoundingClientRect(),e)}else Cc(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-t.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new bh(e.slice,e.move,i<0?void 0:se.create(this.state.doc,i))}someProp(e,t){let r=this._props&&this._props[e],i;if(r!=null&&(i=t?t(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let u=this.directPlugins[o].props[e];if(u!=null&&(i=t?t(u):u))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let u=s[o].props[e];if(u!=null&&(i=t?t(u):u))return i}}hasFocus(){if(gt){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Fm(this.dom),vn(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return Wm(this,e)}coordsAtPos(e,t=1){return Xd(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let i=this.docView.posFromDOM(e,t,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,t){return Ym(this,t||this.state,e)}pasteHTML(e,t){return hi(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return hi(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return pa(this,e)}destroy(){this.docView&&(Tg(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],eu(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Am())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return Og(this,e)}domSelectionRange(){let e=this.domSelection();return e?ut&&this.root.nodeType===11&&Rm(this.dom.ownerDocument)==this.dom&&Qg(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}Sh.prototype.dispatch=function(n){let e=this._props.dispatchTransaction;e?e.call(this,n):this.updateState(this.state.apply(n))};function Yc(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[mt.node(0,n.state.doc.content.size,e)]}function $c(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:mt.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function Qc(n){return!n.someProp("editable",e=>e(n.state)===!1)}function a1(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function Zc(n){let e=Object.create(null);function t(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function l1(n,e){let t=0,r=0;for(let i in n){if(n[i]!=e[i])return!0;t++}for(let i in e)r++;return t!=r}function ef(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Bn={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},ks={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},c1=typeof navigator<"u"&&/Mac/.test(navigator.platform),f1=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ze=0;Ze<10;Ze++)Bn[48+Ze]=Bn[96+Ze]=String(Ze);for(var Ze=1;Ze<=24;Ze++)Bn[Ze+111]="F"+Ze;for(var Ze=65;Ze<=90;Ze++)Bn[Ze]=String.fromCharCode(Ze+32),ks[Ze]=String.fromCharCode(Ze);for(var nu in Bn)ks.hasOwnProperty(nu)||(ks[nu]=Bn[nu]);function d1(n){var e=c1&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||f1&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?ks:Bn)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const h1=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),p1=typeof navigator<"u"&&/Win/.test(navigator.platform);function m1(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,i,s,o;for(let u=0;u<e.length-1;u++){let a=e[u];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else if(/^s(hift)?$/i.test(a))s=!0;else if(/^mod$/i.test(a))h1?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+a)}return r&&(t="Alt-"+t),i&&(t="Ctrl-"+t),o&&(t="Meta-"+t),s&&(t="Shift-"+t),t}function g1(n){let e=Object.create(null);for(let t in n)e[m1(t)]=n[t];return e}function ru(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function b1(n){return new ht({props:{handleKeyDown:kh(n)}})}function kh(n){let e=g1(n);return function(t,r){let i=d1(r),s,o=e[ru(i,r)];if(o&&o(t.state,t.dispatch,t))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let u=e[ru(i,r,!1)];if(u&&u(t.state,t.dispatch,t))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(p1&&r.ctrlKey&&r.altKey)&&(s=Bn[r.keyCode])&&s!=i){let u=e[ru(s,r)];if(u&&u(t.state,t.dispatch,t))return!0}}return!1}}const xa=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function Ch(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const Th=(n,e,t)=>{let r=Ch(n,t);if(!r)return!1;let i=wa(r);if(!i){let o=r.blockRange(),u=o&&Hr(o);return u==null?!1:(e&&e(n.tr.lift(o,u).scrollIntoView()),!0)}let s=i.nodeBefore;if(Ph(n,i,e,-1))return!0;if(r.parent.content.size==0&&(qr(s,"end")||se.isSelectable(s)))for(let o=r.depth;;o--){let u=Bs(n.doc,r.before(o),r.after(o),G.empty);if(u&&u.slice.size<u.to-u.from){if(e){let a=n.tr.step(u);a.setSelection(qr(s,"end")?ge.findFrom(a.doc.resolve(a.mapping.map(i.pos,-1)),-1):se.create(a.doc,i.pos-s.nodeSize)),e(a.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},y1=(n,e,t)=>{let r=Ch(n,t);if(!r)return!1;let i=wa(r);return i?Eh(n,i,e):!1},v1=(n,e,t)=>{let r=Ah(n,t);if(!r)return!1;let i=Sa(r);return i?Eh(n,i,e):!1};function Eh(n,e,t){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let c=i.lastChild;if(!c)return!1;i=c}let o=e.nodeAfter,u=o,a=e.pos+1;for(;!u.isTextblock;a++){if(u.type.spec.isolating)return!1;let c=u.firstChild;if(!c)return!1;u=c}let l=Bs(n.doc,s,a,G.empty);if(!l||l.from!=s||l instanceof Ke&&l.slice.size>=a-s)return!1;if(t){let c=n.tr.step(l);c.setSelection(me.create(c.doc,s)),t(c.scrollIntoView())}return!0}function qr(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const Oh=(n,e,t)=>{let{$head:r,empty:i}=n.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;s=wa(r)}let o=s&&s.nodeBefore;return!o||!se.isSelectable(o)?!1:(e&&e(n.tr.setSelection(se.create(n.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function wa(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function Ah(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const Mh=(n,e,t)=>{let r=Ah(n,t);if(!r)return!1;let i=Sa(r);if(!i)return!1;let s=i.nodeAfter;if(Ph(n,i,e,1))return!0;if(r.parent.content.size==0&&(qr(s,"start")||se.isSelectable(s))){let o=Bs(n.doc,r.before(),r.after(),G.empty);if(o&&o.slice.size<o.to-o.from){if(e){let u=n.tr.step(o);u.setSelection(qr(s,"start")?ge.findFrom(u.doc.resolve(u.mapping.map(i.pos)),1):se.create(u.doc,u.mapping.map(i.pos))),e(u.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},Nh=(n,e,t)=>{let{$head:r,empty:i}=n.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;s=Sa(r)}let o=s&&s.nodeAfter;return!o||!se.isSelectable(o)?!1:(e&&e(n.tr.setSelection(se.create(n.doc,s.pos)).scrollIntoView()),!0)};function Sa(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const x1=(n,e)=>{let t=n.selection,r=t instanceof se,i;if(r){if(t.node.isTextblock||!zn(n.doc,t.from))return!1;i=t.from}else if(i=Ls(n.doc,t.from,-1),i==null)return!1;if(e){let s=n.tr.join(i);r&&s.setSelection(se.create(s.doc,i-n.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},w1=(n,e)=>{let t=n.selection,r;if(t instanceof se){if(t.node.isTextblock||!zn(n.doc,t.to))return!1;r=t.to}else if(r=Ls(n.doc,t.to,1),r==null)return!1;return e&&e(n.tr.join(r).scrollIntoView()),!0},S1=(n,e)=>{let{$from:t,$to:r}=n.selection,i=t.blockRange(r),s=i&&Hr(i);return s==null?!1:(e&&e(n.tr.lift(i,s).scrollIntoView()),!0)},Dh=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function ka(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const k1=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let i=t.node(-1),s=t.indexAfter(-1),o=ka(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(e){let u=t.after(),a=n.tr.replaceWith(u,u,o.createAndFill());a.setSelection(ge.near(a.doc.resolve(u),1)),e(a.scrollIntoView())}return!0},Ih=(n,e)=>{let t=n.selection,{$from:r,$to:i}=t;if(t instanceof wt||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=ka(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,u=n.tr.insert(o,s.createAndFill());u.setSelection(me.create(u.doc,o+1)),e(u.scrollIntoView())}return!0},Rh=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let s=t.before();if(yn(n.doc,s))return e&&e(n.tr.split(s).scrollIntoView()),!0}let r=t.blockRange(),i=r&&Hr(r);return i==null?!1:(e&&e(n.tr.lift(r,i).scrollIntoView()),!0)};function C1(n){return(e,t)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof se&&e.selection.node.isBlock)return!r.parentOffset||!yn(e.doc,r.pos)?!1:(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],o,u,a=!1,l=!1;for(let d=r.depth;;d--)if(r.node(d).isBlock){a=r.end(d)==r.pos+(r.depth-d),l=r.start(d)==r.pos-(r.depth-d),u=ka(r.node(d-1).contentMatchAt(r.indexAfter(d-1))),s.unshift(a&&u?{type:u}:null),o=d;break}else{if(d==1)return!1;s.unshift(null)}let c=e.tr;(e.selection instanceof me||e.selection instanceof wt)&&c.deleteSelection();let h=c.mapping.map(r.pos),f=yn(c.doc,h,s.length,s);if(f||(s[0]=u?{type:u}:null,f=yn(c.doc,h,s.length,s)),!f)return!1;if(c.split(h,s.length,s),!a&&l&&r.node(o).type!=u){let d=c.mapping.map(r.before(o)),p=c.doc.resolve(d);u&&r.node(o-1).canReplaceWith(p.index(),p.index()+1,u)&&c.setNodeMarkup(c.mapping.map(r.before(o)),u)}return t&&t(c.scrollIntoView()),!0}}const T1=C1(),E1=(n,e)=>{let{$from:t,to:r}=n.selection,i,s=t.sharedDepth(r);return s==0?!1:(i=t.before(s),e&&e(n.tr.setSelection(se.create(n.doc,i))),!0)};function O1(n,e,t){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||zn(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function Ph(n,e,t,r){let i=e.nodeBefore,s=e.nodeAfter,o,u,a=i.type.spec.isolating||s.type.spec.isolating;if(!a&&O1(n,e,t))return!0;let l=!a&&e.parent.canReplace(e.index(),e.index()+1);if(l&&(o=(u=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&u.matchType(o[0]||s.type).validEnd){if(t){let d=e.pos+s.nodeSize,p=L.empty;for(let m=o.length-1;m>=0;m--)p=L.from(o[m].create(null,p));p=L.from(i.copy(p));let g=n.tr.step(new Xe(e.pos-1,d,e.pos,d,new G(p,1,0),o.length,!0)),b=g.doc.resolve(d+2*o.length);b.nodeAfter&&b.nodeAfter.type==i.type&&zn(g.doc,b.pos)&&g.join(b.pos),t(g.scrollIntoView())}return!0}let c=s.type.spec.isolating||r>0&&a?null:ge.findFrom(e,1),h=c&&c.$from.blockRange(c.$to),f=h&&Hr(h);if(f!=null&&f>=e.depth)return t&&t(n.tr.lift(h,f).scrollIntoView()),!0;if(l&&qr(s,"start",!0)&&qr(i,"end")){let d=i,p=[];for(;p.push(d),!d.isTextblock;)d=d.lastChild;let g=s,b=1;for(;!g.isTextblock;g=g.firstChild)b++;if(d.canReplace(d.childCount,d.childCount,g.content)){if(t){let m=L.empty;for(let x=p.length-1;x>=0;x--)m=L.from(p[x].copy(m));let w=n.tr.step(new Xe(e.pos-p.length,e.pos+s.nodeSize,e.pos+b,e.pos+s.nodeSize-b,new G(m,p.length,0),0,!0));t(w.scrollIntoView())}return!0}}return!1}function _h(n){return function(e,t){let r=e.selection,i=n<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(t&&t(e.tr.setSelection(me.create(e.doc,n<0?i.start(s):i.end(s)))),!0):!1}}const A1=_h(-1),M1=_h(1);function N1(n,e=null){return function(t,r){let{$from:i,$to:s}=t.selection,o=i.blockRange(s),u=o&&aa(o,n,e);return u?(r&&r(t.tr.wrap(o,u).scrollIntoView()),!0):!1}}function tf(n,e=null){return function(t,r){let i=!1;for(let s=0;s<t.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:u}}=t.selection.ranges[s];t.doc.nodesBetween(o,u,(a,l)=>{if(i)return!1;if(!(!a.isTextblock||a.hasMarkup(n,e)))if(a.type==n)i=!0;else{let c=t.doc.resolve(l),h=c.index();i=c.parent.canReplaceWith(h,h+1,n)}})}if(!i)return!1;if(r){let s=t.tr;for(let o=0;o<t.selection.ranges.length;o++){let{$from:{pos:u},$to:{pos:a}}=t.selection.ranges[o];s.setBlockType(u,a,n,e)}r(s.scrollIntoView())}return!0}}function Ca(...n){return function(e,t,r){for(let i=0;i<n.length;i++)if(n[i](e,t,r))return!0;return!1}}Ca(xa,Th,Oh);Ca(xa,Mh,Nh);Ca(Dh,Ih,Rh,T1);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function D1(n,e=null){return function(t,r){let{$from:i,$to:s}=t.selection,o=i.blockRange(s);if(!o)return!1;let u=r?t.tr:null;return I1(u,o,n,e)?(r&&r(u.scrollIntoView()),!0):!1}}function I1(n,e,t,r=null){let i=!1,s=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let a=o.resolve(e.start-2);s=new ms(a,a,e.depth),e.endIndex<e.parent.childCount&&(e=new ms(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let u=aa(s,t,r,e);return u?(n&&R1(n,e,u,i,t),!0):!1}function R1(n,e,t,r,i){let s=L.empty;for(let c=t.length-1;c>=0;c--)s=L.from(t[c].type.create(t[c].attrs,s));n.step(new Xe(e.start-(r?2:0),e.end,e.start,e.end,new G(s,0,0),t.length,!0));let o=0;for(let c=0;c<t.length;c++)t[c].type==i&&(o=c+1);let u=t.length-o,a=e.start+t.length-(r?2:0),l=e.parent;for(let c=e.startIndex,h=e.endIndex,f=!0;c<h;c++,f=!1)!f&&yn(n.doc,a,u)&&(n.split(a,u),a+=2*u),a+=l.child(c).nodeSize;return n}function P1(n){return function(e,t){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,o=>o.childCount>0&&o.firstChild.type==n);return s?t?r.node(s.depth-1).type==n?_1(e,t,n,s):L1(e,t,s):!0:!1}}function _1(n,e,t,r){let i=n.tr,s=r.end,o=r.$to.end(r.depth);s<o&&(i.step(new Xe(s-1,o,s,o,new G(L.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new ms(i.doc.resolve(r.$from.pos),i.doc.resolve(o),r.depth));const u=Hr(r);if(u==null)return!1;i.lift(r,u);let a=i.doc.resolve(i.mapping.map(s,-1)-1);return zn(i.doc,a.pos)&&a.nodeBefore.type==a.nodeAfter.type&&i.join(a.pos),e(i.scrollIntoView()),!0}function L1(n,e,t){let r=n.tr,i=t.parent;for(let d=t.end,p=t.endIndex-1,g=t.startIndex;p>g;p--)d-=i.child(p).nodeSize,r.delete(d-1,d+1);let s=r.doc.resolve(t.start),o=s.nodeAfter;if(r.mapping.map(t.end)!=t.start+s.nodeAfter.nodeSize)return!1;let u=t.startIndex==0,a=t.endIndex==i.childCount,l=s.node(-1),c=s.index(-1);if(!l.canReplace(c+(u?0:1),c+1,o.content.append(a?L.empty:L.from(i))))return!1;let h=s.pos,f=h+o.nodeSize;return r.step(new Xe(h-(u?1:0),f+(a?1:0),h+1,f-1,new G((u?L.empty:L.from(i.copy(L.empty))).append(a?L.empty:L.from(i.copy(L.empty))),u?0:1,a?0:1),u?0:1)),e(r.scrollIntoView()),!0}function B1(n){return function(e,t){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,l=>l.childCount>0&&l.firstChild.type==n);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let u=s.parent,a=u.child(o-1);if(a.type!=n)return!1;if(t){let l=a.lastChild&&a.lastChild.type==u.type,c=L.from(l?n.create():null),h=new G(L.from(n.create(null,L.from(u.type.create(null,c)))),l?3:1,0),f=s.start,d=s.end;t(e.tr.step(new Xe(f-(l?3:1),d,f,d,h,1,!0)).scrollIntoView())}return!0}}function Vs(n){const{state:e,transaction:t}=n;let{selection:r}=t,{doc:i}=t,{storedMarks:s}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=t.selection,i=t.doc,s=t.storedMarks,t}}}class Hs{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:i}=t,{tr:s}=r,o=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([u,a])=>[u,(...c)=>{const h=a(...c)(o);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(s),h}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,u=[],a=!!e,l=e||s.tr,c=()=>(!a&&t&&!l.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(l),u.every(f=>f===!0)),h={...Object.fromEntries(Object.entries(r).map(([f,d])=>[f,(...g)=>{const b=this.buildProps(l,t),m=d(...g)(b);return u.push(m),h}])),run:c};return h}createCan(e){const{rawCommands:t,state:r}=this,i=!1,s=e||r.tr,o=this.buildProps(s,i);return{...Object.fromEntries(Object.entries(t).map(([a,l])=>[a,(...c)=>l(...c)({...o,dispatch:void 0})])),chain:()=>this.createChain(s,i)}}buildProps(e,t=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,u={tr:e,editor:i,view:o,state:Vs({state:s,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([a,l])=>[a,(...c)=>l(...c)(u)]))}};return u}}class q1{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,t)),this}off(e,t){const r=this.callbacks[e];return r&&(t?this.callbacks[e]=r.filter(i=>i!==t):delete this.callbacks[e]),this}once(e,t){const r=(...i)=>{this.off(e,r),t.apply(this,i)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function Q(n,e,t){return n.config[e]===void 0&&n.parent?Q(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?Q(n.parent,e,t):null}):n.config[e]}function Us(n){const e=n.filter(i=>i.type==="extension"),t=n.filter(i=>i.type==="node"),r=n.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:r}}function Lh(n){const e=[],{nodeExtensions:t,markExtensions:r}=Us(n),i=[...t,...r],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(o=>{const u={name:o.name,options:o.options,storage:o.storage,extensions:i},a=Q(o,"addGlobalAttributes",u);if(!a)return;a().forEach(c=>{c.types.forEach(h=>{Object.entries(c.attributes).forEach(([f,d])=>{e.push({type:h,name:f,attribute:{...s,...d}})})})})}),i.forEach(o=>{const u={name:o.name,options:o.options,storage:o.storage},a=Q(o,"addAttributes",u);if(!a)return;const l=a();Object.entries(l).forEach(([c,h])=>{const f={...s,...h};typeof f?.default=="function"&&(f.default=f.default()),f?.isRequired&&f?.default===void 0&&delete f.default,e.push({type:o.name,name:c,attribute:f})})}),e}function Ye(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}function z1(...n){return n.filter(e=>!!e).reduce((e,t)=>{const r={...e};return Object.entries(t).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const u=s?String(s).split(" "):[],a=r[i]?r[i].split(" "):[],l=u.filter(c=>!a.includes(c));r[i]=[...a,...l].join(" ")}else if(i==="style"){const u=s?s.split(";").map(c=>c.trim()).filter(Boolean):[],a=r[i]?r[i].split(";").map(c=>c.trim()).filter(Boolean):[],l=new Map;a.forEach(c=>{const[h,f]=c.split(":").map(d=>d.trim());l.set(h,f)}),u.forEach(c=>{const[h,f]=c.split(":").map(d=>d.trim());l.set(h,f)}),r[i]=Array.from(l.entries()).map(([c,h])=>`${c}: ${h}`).join("; ")}else r[i]=s}),r},{})}function Pu(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,r)=>z1(t,r),{})}function Bh(n){return typeof n=="function"}function we(n,e=void 0,...t){return Bh(n)?e?n.bind(e)(...t):n(...t):n}function F1(n={}){return Object.keys(n).length===0&&n.constructor===Object}function j1(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function nf(n,e){return"style"in n?n:{...n,getAttrs:t=>{const r=n.getAttrs?n.getAttrs(t):n.attrs;if(r===!1)return!1;const i=e.reduce((s,o)=>{const u=o.attribute.parseHTML?o.attribute.parseHTML(t):j1(t.getAttribute(o.name));return u==null?s:{...s,[o.name]:u}},{});return{...r,...i}}}}function rf(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&F1(t)?!1:t!=null))}function V1(n,e){var t;const r=Lh(n),{nodeExtensions:i,markExtensions:s}=Us(n),o=(t=i.find(l=>Q(l,"topNode")))===null||t===void 0?void 0:t.name,u=Object.fromEntries(i.map(l=>{const c=r.filter(m=>m.type===l.name),h={name:l.name,options:l.options,storage:l.storage,editor:e},f=n.reduce((m,w)=>{const x=Q(w,"extendNodeSchema",h);return{...m,...x?x(l):{}}},{}),d=rf({...f,content:we(Q(l,"content",h)),marks:we(Q(l,"marks",h)),group:we(Q(l,"group",h)),inline:we(Q(l,"inline",h)),atom:we(Q(l,"atom",h)),selectable:we(Q(l,"selectable",h)),draggable:we(Q(l,"draggable",h)),code:we(Q(l,"code",h)),whitespace:we(Q(l,"whitespace",h)),linebreakReplacement:we(Q(l,"linebreakReplacement",h)),defining:we(Q(l,"defining",h)),isolating:we(Q(l,"isolating",h)),attrs:Object.fromEntries(c.map(m=>{var w;return[m.name,{default:(w=m?.attribute)===null||w===void 0?void 0:w.default}]}))}),p=we(Q(l,"parseHTML",h));p&&(d.parseDOM=p.map(m=>nf(m,c)));const g=Q(l,"renderHTML",h);g&&(d.toDOM=m=>g({node:m,HTMLAttributes:Pu(m,c)}));const b=Q(l,"renderText",h);return b&&(d.toText=b),[l.name,d]})),a=Object.fromEntries(s.map(l=>{const c=r.filter(b=>b.type===l.name),h={name:l.name,options:l.options,storage:l.storage,editor:e},f=n.reduce((b,m)=>{const w=Q(m,"extendMarkSchema",h);return{...b,...w?w(l):{}}},{}),d=rf({...f,inclusive:we(Q(l,"inclusive",h)),excludes:we(Q(l,"excludes",h)),group:we(Q(l,"group",h)),spanning:we(Q(l,"spanning",h)),code:we(Q(l,"code",h)),attrs:Object.fromEntries(c.map(b=>{var m;return[b.name,{default:(m=b?.attribute)===null||m===void 0?void 0:m.default}]}))}),p=we(Q(l,"parseHTML",h));p&&(d.parseDOM=p.map(b=>nf(b,c)));const g=Q(l,"renderHTML",h);return g&&(d.toDOM=b=>g({mark:b,HTMLAttributes:Pu(b,c)})),[l.name,d]}));return new Cd({topNode:o,nodes:u,marks:a})}function iu(n,e){return e.nodes[n]||e.marks[n]||null}function sf(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}function Ta(n,e){const t=br.fromSchema(e).serializeFragment(n),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(t),i.innerHTML}const H1=(n,e=500)=>{let t="";const r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-e),r,(i,s,o,u)=>{var a,l;const c=((l=(a=i.type.spec).toText)===null||l===void 0?void 0:l.call(a,{node:i,pos:s,parent:o,index:u}))||i.textContent||"%leaf%";t+=i.isAtom&&!i.isText?c:c.slice(0,Math.max(0,r-s))}),t};function Ea(n){return Object.prototype.toString.call(n)==="[object RegExp]"}class Ws{constructor(e){this.find=e.find,this.handler=e.handler}}const U1=(n,e)=>{if(Ea(e))return e.exec(n);const t=e(n);if(!t)return null;const r=[t.text];return r.index=t.index,r.input=n,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r};function Fi(n){var e;const{editor:t,from:r,to:i,text:s,rules:o,plugin:u}=n,{view:a}=t;if(a.composing)return!1;const l=a.state.doc.resolve(r);if(l.parent.type.spec.code||!((e=l.nodeBefore||l.nodeAfter)===null||e===void 0)&&e.marks.find(f=>f.type.spec.code))return!1;let c=!1;const h=H1(l)+s;return o.forEach(f=>{if(c)return;const d=U1(h,f.find);if(!d)return;const p=a.state.tr,g=Vs({state:a.state,transaction:p}),b={from:r-(d[0].length-s.length),to:i},{commands:m,chain:w,can:x}=new Hs({editor:t,state:g});f.handler({state:g,range:b,match:d,commands:m,chain:w,can:x})===null||!p.steps.length||(p.setMeta(u,{transform:p,from:r,to:i,text:s}),a.dispatch(p),c=!0)}),c}function W1(n){const{editor:e,rules:t}=n,r=new ht({state:{init(){return null},apply(i,s,o){const u=i.getMeta(r);if(u)return u;const a=i.getMeta("applyInputRules");return a&&setTimeout(()=>{let{text:c}=a;typeof c=="string"?c=c:c=Ta(L.from(c),o.schema);const{from:h}=a,f=h+c.length;Fi({editor:e,from:h,to:f,text:c,rules:t,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,o,u){return Fi({editor:e,from:s,to:o,text:u,rules:t,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&Fi({editor:e,from:s.pos,to:s.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:o}=i.state.selection;return o?Fi({editor:e,from:o.pos,to:o.pos,text:`
`,rules:t,plugin:r}):!1}},isInputRules:!0});return r}function J1(n){return Object.prototype.toString.call(n).slice(8,-1)}function ji(n){return J1(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function Js(n,e){const t={...n};return ji(n)&&ji(e)&&Object.keys(e).forEach(r=>{ji(e[r])&&ji(n[r])?t[r]=Js(n[r],e[r]):t[r]=e[r]}),t}class Cs{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=we(Q(this,"addOptions",{name:this.name}))),this.storage=we(Q(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Cs(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Js(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Cs(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=we(Q(t,"addOptions",{name:t.name})),t.storage=we(Q(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const o=i.marks();if(!!!o.find(l=>l?.type.name===t.name))return!1;const a=o.find(l=>l?.type.name===t.name);return a&&r.removeStoredMark(a),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}function G1(n){return typeof n=="number"}class K1{constructor(e){this.find=e.find,this.handler=e.handler}}const X1=(n,e,t)=>{if(Ea(e))return[...n.matchAll(e)];const r=e(n,t);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=n,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function Y1(n){const{editor:e,state:t,from:r,to:i,rule:s,pasteEvent:o,dropEvent:u}=n,{commands:a,chain:l,can:c}=new Hs({editor:e,state:t}),h=[];return t.doc.nodesBetween(r,i,(d,p)=>{if(!d.isTextblock||d.type.spec.code)return;const g=Math.max(r,p),b=Math.min(i,p+d.content.size),m=d.textBetween(g-p,b-p,void 0,"ï¿¼");X1(m,s.find,o).forEach(x=>{if(x.index===void 0)return;const y=g+x.index+1,v=y+x[0].length,S={from:t.tr.mapping.map(y),to:t.tr.mapping.map(v)},k=s.handler({state:t,range:S,match:x,commands:a,chain:l,can:c,pasteEvent:o,dropEvent:u});h.push(k)})}),h.every(d=>d!==null)}let Vi=null;const $1=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)===null||e===void 0||e.setData("text/html",n),t};function Q1(n){const{editor:e,rules:t}=n;let r=null,i=!1,s=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,u;try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}const a=({state:c,from:h,to:f,rule:d,pasteEvt:p})=>{const g=c.tr,b=Vs({state:c,transaction:g});if(!(!Y1({editor:e,state:b,from:Math.max(h-1,0),to:f.b-1,rule:d,pasteEvent:p,dropEvent:u})||!g.steps.length)){try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,g}};return t.map(c=>new ht({view(h){const f=p=>{var g;r=!((g=h.dom.parentElement)===null||g===void 0)&&g.contains(p.target)?h.dom.parentElement:null,r&&(Vi=e)},d=()=>{Vi&&(Vi=null)};return window.addEventListener("dragstart",f),window.addEventListener("dragend",d),{destroy(){window.removeEventListener("dragstart",f),window.removeEventListener("dragend",d)}}},props:{handleDOMEvents:{drop:(h,f)=>{if(s=r===h.dom.parentElement,u=f,!s){const d=Vi;d?.isEditable&&setTimeout(()=>{const p=d.state.selection;p&&d.commands.deleteRange({from:p.from,to:p.to})},10)}return!1},paste:(h,f)=>{var d;const p=(d=f.clipboardData)===null||d===void 0?void 0:d.getData("text/html");return o=f,i=!!p?.includes("data-pm-slice"),!1}}},appendTransaction:(h,f,d)=>{const p=h[0],g=p.getMeta("uiEvent")==="paste"&&!i,b=p.getMeta("uiEvent")==="drop"&&!s,m=p.getMeta("applyPasteRules"),w=!!m;if(!g&&!b&&!w)return;if(w){let{text:v}=m;typeof v=="string"?v=v:v=Ta(L.from(v),d.schema);const{from:S}=m,k=S+v.length,E=$1(v);return a({rule:c,state:d,from:S,to:{b:k},pasteEvt:E})}const x=f.doc.content.findDiffStart(d.doc.content),y=f.doc.content.findDiffEnd(d.doc.content);if(!(!G1(x)||!y||x===y.b))return a({rule:c,state:d,from:x,to:y,pasteEvt:o})}}))}function Z1(n){const e=n.filter((t,r)=>n.indexOf(t)!==r);return Array.from(new Set(e))}class Ar{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=Ar.resolve(e),this.schema=V1(this.extensions,t),this.setupExtensions()}static resolve(e){const t=Ar.sort(Ar.flatten(e)),r=Z1(t.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const r={name:t.name,options:t.options,storage:t.storage},i=Q(t,"addExtensions",r);return i?[t,...this.flatten(i())]:t}).flat(10)}static sort(e){return e.sort((r,i)=>{const s=Q(r,"priority")||100,o=Q(i,"priority")||100;return s>o?-1:s<o?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const r={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:iu(t.name,this.schema)},i=Q(t,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,t=Ar.sort([...this.extensions].reverse()),r=[],i=[],s=t.map(o=>{const u={name:o.name,options:o.options,storage:o.storage,editor:e,type:iu(o.name,this.schema)},a=[],l=Q(o,"addKeyboardShortcuts",u);let c={};if(o.type==="mark"&&Q(o,"exitable",u)&&(c.ArrowRight=()=>Cs.handleExit({editor:e,mark:o})),l){const g=Object.fromEntries(Object.entries(l()).map(([b,m])=>[b,()=>m({editor:e})]));c={...c,...g}}const h=b1(c);a.push(h);const f=Q(o,"addInputRules",u);sf(o,e.options.enableInputRules)&&f&&r.push(...f());const d=Q(o,"addPasteRules",u);sf(o,e.options.enablePasteRules)&&d&&i.push(...d());const p=Q(o,"addProseMirrorPlugins",u);if(p){const g=p();a.push(...g)}return a}).flat();return[W1({editor:e,rules:r}),...Q1({editor:e,rules:i}),...s]}get attributes(){return Lh(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=Us(this.extensions);return Object.fromEntries(t.filter(r=>!!Q(r,"addNodeView")).map(r=>{const i=this.attributes.filter(a=>a.type===r.name),s={name:r.name,options:r.options,storage:r.storage,editor:e,type:Ye(r.name,this.schema)},o=Q(r,"addNodeView",s);if(!o)return[];const u=(a,l,c,h,f)=>{const d=Pu(a,i);return o()({node:a,view:l,getPos:c,decorations:h,innerDecorations:f,editor:e,extension:r,HTMLAttributes:d})};return[r.name,u]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:iu(e.name,this.schema)};e.type==="mark"&&(!((t=we(Q(e,"keepOnSplit",r)))!==null&&t!==void 0)||t)&&this.splittableMarks.push(e.name);const i=Q(e,"onBeforeCreate",r),s=Q(e,"onCreate",r),o=Q(e,"onUpdate",r),u=Q(e,"onSelectionUpdate",r),a=Q(e,"onTransaction",r),l=Q(e,"onFocus",r),c=Q(e,"onBlur",r),h=Q(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),o&&this.editor.on("update",o),u&&this.editor.on("selectionUpdate",u),a&&this.editor.on("transaction",a),l&&this.editor.on("focus",l),c&&this.editor.on("blur",c),h&&this.editor.on("destroy",h)})}}class St{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=we(Q(this,"addOptions",{name:this.name}))),this.storage=we(Q(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new St(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Js(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new St({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=we(Q(t,"addOptions",{name:t.name})),t.storage=we(Q(t,"addStorage",{name:t.name,options:t.options})),t}}function qh(n,e,t){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:o={}}=t||{};let u="";return n.nodesBetween(r,i,(a,l,c,h)=>{var f;a.isBlock&&l>r&&(u+=s);const d=o?.[a.type.name];if(d)return c&&(u+=d({node:a,pos:l,parent:c,index:h,range:e})),!1;a.isText&&(u+=(f=a?.text)===null||f===void 0?void 0:f.slice(Math.max(r,l)-l,i-l))}),u}function zh(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const eb=St.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new ht({key:new _t("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:r,selection:i}=e,{ranges:s}=i,o=Math.min(...s.map(c=>c.$from.pos)),u=Math.max(...s.map(c=>c.$to.pos)),a=zh(t);return qh(r,{from:o,to:u},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:a})}}})]}}),tb=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window?.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),nb=(n=!1)=>({commands:e})=>e.setContent("",n),rb=()=>({state:n,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:i}=r;return t&&i.forEach(({$from:s,$to:o})=>{n.doc.nodesBetween(s.pos,o.pos,(u,a)=>{if(u.type.isText)return;const{doc:l,mapping:c}=e,h=l.resolve(c.map(a)),f=l.resolve(c.map(a+u.nodeSize)),d=h.blockRange(f);if(!d)return;const p=Hr(d);if(u.type.isTextblock){const{defaultType:g}=h.parent.contentMatchAt(h.index());e.setNodeMarkup(d.start,g)}(p||p===0)&&e.lift(d,p)})}),!0},ib=n=>e=>n(e),sb=()=>({state:n,dispatch:e})=>Ih(n,e),ob=(n,e)=>({editor:t,tr:r})=>{const{state:i}=t,s=i.doc.slice(n.from,n.to);r.deleteRange(n.from,n.to);const o=r.mapping.map(e);return r.insert(o,s.content),r.setSelection(new me(r.doc.resolve(Math.max(o-1,0)))),!0},ub=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,r=t.$anchor.node();if(r.content.size>0)return!1;const i=n.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const u=i.before(s),a=i.after(s);n.delete(u,a).scrollIntoView()}return!0}return!1},ab=n=>({tr:e,state:t,dispatch:r})=>{const i=Ye(n,t.schema),s=e.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===i){if(r){const a=s.before(o),l=s.after(o);e.delete(a,l).scrollIntoView()}return!0}return!1},lb=n=>({tr:e,dispatch:t})=>{const{from:r,to:i}=n;return t&&e.delete(r,i),!0},cb=()=>({state:n,dispatch:e})=>xa(n,e),fb=()=>({commands:n})=>n.keyboardShortcut("Enter"),db=()=>({state:n,dispatch:e})=>k1(n,e);function Ts(n,e,t={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>t.strict?e[i]===n[i]:Ea(e[i])?e[i].test(n[i]):e[i]===n[i]):!0}function Fh(n,e,t={}){return n.find(r=>r.type===e&&Ts(Object.fromEntries(Object.keys(t).map(i=>[i,r.attrs[i]])),t))}function of(n,e,t={}){return!!Fh(n,e,t)}function Oa(n,e,t){var r;if(!n||!e)return;let i=n.parent.childAfter(n.parentOffset);if((!i.node||!i.node.marks.some(c=>c.type===e))&&(i=n.parent.childBefore(n.parentOffset)),!i.node||!i.node.marks.some(c=>c.type===e)||(t=t||((r=i.node.marks[0])===null||r===void 0?void 0:r.attrs),!Fh([...i.node.marks],e,t)))return;let o=i.index,u=n.start()+i.offset,a=o+1,l=u+i.node.nodeSize;for(;o>0&&of([...n.parent.child(o-1).marks],e,t);)o-=1,u-=n.parent.child(o).nodeSize;for(;a<n.parent.childCount&&of([...n.parent.child(a).marks],e,t);)l+=n.parent.child(a).nodeSize,a+=1;return{from:u,to:l}}function jn(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}const hb=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const s=jn(n,r.schema),{doc:o,selection:u}=t,{$from:a,from:l,to:c}=u;if(i){const h=Oa(a,s,e);if(h&&h.from<=l&&h.to>=c){const f=me.create(o,h.from,h.to);t.setSelection(f)}}return!0},pb=n=>e=>{const t=typeof n=="function"?n(e):n;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1};function Gs(n){return n instanceof me}function bn(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function jh(n,e=null){if(!e)return null;const t=ge.atStart(n),r=ge.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return r;const i=t.from,s=r.to;return e==="all"?me.create(n,bn(0,i,s),bn(n.content.size,i,s)):me.create(n,bn(e,i,s),bn(e,i,s))}function uf(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Es(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function mb(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}const gb=(n=null,e={})=>({editor:t,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const o=()=>{(Es()||uf())&&r.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),mb()&&!Es()&&!uf()&&r.dom.focus({preventScroll:!0}))})};if(r.hasFocus()&&n===null||n===!1)return!0;if(s&&n===null&&!Gs(t.state.selection))return o(),!0;const u=jh(i.doc,n)||t.state.selection,a=t.state.selection.eq(u);return s&&(a||i.setSelection(u),a&&i.storedMarks&&i.setStoredMarks(i.storedMarks),o()),!0},bb=(n,e)=>t=>n.every((r,i)=>e(r,{...t,index:i})),yb=(n,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),Vh=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const r=e[t];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?n.removeChild(r):r.nodeType===1&&Vh(r)}return n};function Hi(n){const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return Vh(t)}function mi(n,e,t){if(n instanceof Dn||n instanceof L)return n;t={slice:!0,parseOptions:{},...t};const r=typeof n=="object"&&n!==null,i=typeof n=="string";if(r)try{if(Array.isArray(n)&&n.length>0)return L.fromArray(n.map(u=>e.nodeFromJSON(u)));const o=e.nodeFromJSON(n);return t.errorOnInvalidContent&&o.check(),o}catch(s){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",s),mi("",e,t)}if(i){if(t.errorOnInvalidContent){let o=!1,u="";const a=new Cd({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:l=>(o=!0,u=typeof l=="string"?l:l.outerHTML,null)}]}})});if(t.slice?In.fromSchema(a).parseSlice(Hi(n),t.parseOptions):In.fromSchema(a).parse(Hi(n),t.parseOptions),t.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${u}`)})}const s=In.fromSchema(e);return t.slice?s.parseSlice(Hi(n),t.parseOptions).content:s.parse(Hi(n),t.parseOptions)}return mi("",e,t)}function vb(n,e,t){const r=n.steps.length-1;if(r<e)return;const i=n.steps[r];if(!(i instanceof Ke||i instanceof Xe))return;const s=n.mapping.maps[r];let o=0;s.forEach((u,a,l,c)=>{o===0&&(o=c)}),n.setSelection(ge.near(n.doc.resolve(o),t))}const xb=n=>!("type"in n),wb=(n,e,t)=>({tr:r,dispatch:i,editor:s})=>{var o;if(i){t={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let u;const a=b=>{s.emit("contentError",{editor:s,error:b,disableCollaboration:()=>{s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},l={preserveWhitespace:"full",...t.parseOptions};if(!t.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{mi(e,s.schema,{parseOptions:l,errorOnInvalidContent:!0})}catch(b){a(b)}try{u=mi(e,s.schema,{parseOptions:l,errorOnInvalidContent:(o=t.errorOnInvalidContent)!==null&&o!==void 0?o:s.options.enableContentCheck})}catch(b){return a(b),!1}let{from:c,to:h}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},f=!0,d=!0;if((xb(u)?u:[u]).forEach(b=>{b.check(),f=f?b.isText&&b.marks.length===0:!1,d=d?b.isBlock:!1}),c===h&&d){const{parent:b}=r.doc.resolve(c);b.isTextblock&&!b.type.spec.code&&!b.childCount&&(c-=1,h+=1)}let g;if(f){if(Array.isArray(e))g=e.map(b=>b.text||"").join("");else if(e instanceof L){let b="";e.forEach(m=>{m.text&&(b+=m.text)}),g=b}else typeof e=="object"&&e&&e.text?g=e.text:g=e;r.insertText(g,c,h)}else g=u,r.replaceWith(c,h,g);t.updateSelection&&vb(r,r.steps.length-1,-1),t.applyInputRules&&r.setMeta("applyInputRules",{from:c,text:g}),t.applyPasteRules&&r.setMeta("applyPasteRules",{from:c,text:g})}return!0},Sb=()=>({state:n,dispatch:e})=>x1(n,e),kb=()=>({state:n,dispatch:e})=>w1(n,e),Cb=()=>({state:n,dispatch:e})=>Th(n,e),Tb=()=>({state:n,dispatch:e})=>Mh(n,e),Eb=()=>({state:n,dispatch:e,tr:t})=>{try{const r=Ls(n.doc,n.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},Ob=()=>({state:n,dispatch:e,tr:t})=>{try{const r=Ls(n.doc,n.selection.$from.pos,1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},Ab=()=>({state:n,dispatch:e})=>y1(n,e),Mb=()=>({state:n,dispatch:e})=>v1(n,e);function Hh(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Nb(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let r,i,s,o;for(let u=0;u<e.length-1;u+=1){const a=e[u];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else if(/^s(hift)?$/i.test(a))s=!0;else if(/^mod$/i.test(a))Es()||Hh()?o=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${a}`)}return r&&(t=`Alt-${t}`),i&&(t=`Ctrl-${t}`),o&&(t=`Meta-${t}`),s&&(t=`Shift-${t}`),t}const Db=n=>({editor:e,view:t,tr:r,dispatch:i})=>{const s=Nb(n).split(/-(?!$)/),o=s.find(l=>!["Alt","Ctrl","Meta","Shift"].includes(l)),u=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),a=e.captureTransaction(()=>{t.someProp("handleKeyDown",l=>l(t,u))});return a?.steps.forEach(l=>{const c=l.map(r.mapping);c&&i&&r.maybeStep(c)}),!0};function gi(n,e,t={}){const{from:r,to:i,empty:s}=n.selection,o=e?Ye(e,n.schema):null,u=[];n.doc.nodesBetween(r,i,(h,f)=>{if(h.isText)return;const d=Math.max(r,f),p=Math.min(i,f+h.nodeSize);u.push({node:h,from:d,to:p})});const a=i-r,l=u.filter(h=>o?o.name===h.node.type.name:!0).filter(h=>Ts(h.node.attrs,t,{strict:!1}));return s?!!l.length:l.reduce((h,f)=>h+f.to-f.from,0)>=a}const Ib=(n,e={})=>({state:t,dispatch:r})=>{const i=Ye(n,t.schema);return gi(t,i,e)?S1(t,r):!1},Rb=()=>({state:n,dispatch:e})=>Rh(n,e),Pb=n=>({state:e,dispatch:t})=>{const r=Ye(n,e.schema);return P1(r)(e,t)},_b=()=>({state:n,dispatch:e})=>Dh(n,e);function Ks(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function af(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((r,i)=>(t.includes(i)||(r[i]=n[i]),r),{})}const Lb=(n,e)=>({tr:t,state:r,dispatch:i})=>{let s=null,o=null;const u=Ks(typeof n=="string"?n:n.name,r.schema);return u?(u==="node"&&(s=Ye(n,r.schema)),u==="mark"&&(o=jn(n,r.schema)),i&&t.selection.ranges.forEach(a=>{r.doc.nodesBetween(a.$from.pos,a.$to.pos,(l,c)=>{s&&s===l.type&&t.setNodeMarkup(c,void 0,af(l.attrs,e)),o&&l.marks.length&&l.marks.forEach(h=>{o===h.type&&t.addMark(c,c+l.nodeSize,o.create(af(h.attrs,e)))})})}),!0):!1},Bb=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),qb=()=>({tr:n,dispatch:e})=>{if(e){const t=new wt(n.doc);n.setSelection(t)}return!0},zb=()=>({state:n,dispatch:e})=>Oh(n,e),Fb=()=>({state:n,dispatch:e})=>Nh(n,e),jb=()=>({state:n,dispatch:e})=>E1(n,e),Vb=()=>({state:n,dispatch:e})=>M1(n,e),Hb=()=>({state:n,dispatch:e})=>A1(n,e);function _u(n,e,t={},r={}){return mi(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:r.errorOnInvalidContent})}const Ub=(n,e=!1,t={},r={})=>({editor:i,tr:s,dispatch:o,commands:u})=>{var a,l;const{doc:c}=s;if(t.preserveWhitespace!=="full"){const h=_u(n,i.schema,t,{errorOnInvalidContent:(a=r.errorOnInvalidContent)!==null&&a!==void 0?a:i.options.enableContentCheck});return o&&s.replaceWith(0,c.content.size,h).setMeta("preventUpdate",!e),!0}return o&&s.setMeta("preventUpdate",!e),u.insertContentAt({from:0,to:c.content.size},n,{parseOptions:t,errorOnInvalidContent:(l=r.errorOnInvalidContent)!==null&&l!==void 0?l:i.options.enableContentCheck})};function Uh(n,e){const t=jn(e,n.schema),{from:r,to:i,empty:s}=n.selection,o=[];s?(n.storedMarks&&o.push(...n.storedMarks),o.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,i,a=>{o.push(...a.marks)});const u=o.find(a=>a.type.name===t.name);return u?{...u.attrs}:{}}function B3(n,e){const t=new la(n);return e.forEach(r=>{r.steps.forEach(i=>{t.step(i)})}),t}function Wb(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function q3(n,e){const t=[];return n.descendants((r,i)=>{e(r)&&t.push({node:r,pos:i})}),t}function z3(n,e,t){const r=[];return n.nodesBetween(e.from,e.to,(i,s)=>{t(i)&&r.push({node:i,pos:s})}),r}function Jb(n,e){for(let t=n.depth;t>0;t-=1){const r=n.node(t);if(e(r))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:r}}}function Xs(n){return e=>Jb(e.$from,n)}function Gb(n,e){const t={from:0,to:n.content.size};return qh(n,t,e)}function Kb(n,e){const t=Ye(e,n.schema),{from:r,to:i}=n.selection,s=[];n.doc.nodesBetween(r,i,u=>{s.push(u)});const o=s.reverse().find(u=>u.type.name===t.name);return o?{...o.attrs}:{}}function Xb(n,e){const t=Ks(typeof e=="string"?e:e.name,n.schema);return t==="node"?Kb(n,e):t==="mark"?Uh(n,e):{}}function Yb(n,e=JSON.stringify){const t={};return n.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(t,i)?!1:t[i]=!0})}function $b(n){const e=Yb(n);return e.length===1?e:e.filter((t,r)=>!e.filter((s,o)=>o!==r).some(s=>t.oldRange.from>=s.oldRange.from&&t.oldRange.to<=s.oldRange.to&&t.newRange.from>=s.newRange.from&&t.newRange.to<=s.newRange.to))}function F3(n){const{mapping:e,steps:t}=n,r=[];return e.maps.forEach((i,s)=>{const o=[];if(i.ranges.length)i.forEach((u,a)=>{o.push({from:u,to:a})});else{const{from:u,to:a}=t[s];if(u===void 0||a===void 0)return;o.push({from:u,to:a})}o.forEach(({from:u,to:a})=>{const l=e.slice(s).map(u,-1),c=e.slice(s).map(a),h=e.invert().map(l,-1),f=e.invert().map(c);r.push({oldRange:{from:h,to:f},newRange:{from:l,to:c}})})}),$b(r)}function Wh(n,e,t){const r=[];return n===e?t.resolve(n).marks().forEach(i=>{const s=t.resolve(n),o=Oa(s,i.type);o&&r.push({mark:i,...o})}):t.nodesBetween(n,e,(i,s)=>{!i||i?.nodeSize===void 0||r.push(...i.marks.map(o=>({from:s,to:s+i.nodeSize,mark:o})))}),r}function rs(n,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const i=n.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}function Lu(n,e,t={}){const{empty:r,ranges:i}=n.selection,s=e?jn(e,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(h=>s?s.name===h.type.name:!0).find(h=>Ts(h.attrs,t,{strict:!1}));let o=0;const u=[];if(i.forEach(({$from:h,$to:f})=>{const d=h.pos,p=f.pos;n.doc.nodesBetween(d,p,(g,b)=>{if(!g.isText&&!g.marks.length)return;const m=Math.max(d,b),w=Math.min(p,b+g.nodeSize),x=w-m;o+=x,u.push(...g.marks.map(y=>({mark:y,from:m,to:w})))})}),o===0)return!1;const a=u.filter(h=>s?s.name===h.mark.type.name:!0).filter(h=>Ts(h.mark.attrs,t,{strict:!1})).reduce((h,f)=>h+f.to-f.from,0),l=u.filter(h=>s?h.mark.type!==s&&h.mark.type.excludes(s):!0).reduce((h,f)=>h+f.to-f.from,0);return(a>0?a+l:a)>=o}function Qb(n,e,t={}){if(!e)return gi(n,null,t)||Lu(n,null,t);const r=Ks(e,n.schema);return r==="node"?gi(n,e,t):r==="mark"?Lu(n,e,t):!1}function lf(n,e){const{nodeExtensions:t}=Us(e),r=t.find(o=>o.name===n);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=we(Q(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function Aa(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var r;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((r=n.text)!==null&&r!==void 0?r:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let i=!0;return n.content.forEach(s=>{i!==!1&&(Aa(s,{ignoreWhitespace:t,checkChildren:e})||(i=!1))}),i}return!1}function Zb(n){return n instanceof se}function Jh(n,e,t){const i=n.state.doc.content.size,s=bn(e,0,i),o=bn(t,0,i),u=n.coordsAtPos(s),a=n.coordsAtPos(o,-1),l=Math.min(u.top,a.top),c=Math.max(u.bottom,a.bottom),h=Math.min(u.left,a.left),f=Math.max(u.right,a.right),d=f-h,p=c-l,m={top:l,bottom:c,left:h,right:f,width:d,height:p,x:h,y:l};return{...m,toJSON:()=>m}}function ey(n,e,t){var r;const{selection:i}=e;let s=null;if(Gs(i)&&(s=i.$cursor),s){const u=(r=n.storedMarks)!==null&&r!==void 0?r:s.marks();return!!t.isInSet(u)||!u.some(a=>a.type.excludes(t))}const{ranges:o}=i;return o.some(({$from:u,$to:a})=>{let l=u.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(u.pos,a.pos,(c,h,f)=>{if(l)return!1;if(c.isInline){const d=!f||f.type.allowsMarkType(t),p=!!t.isInSet(c.marks)||!c.marks.some(g=>g.type.excludes(t));l=d&&p}return!l}),l})}const ty=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const{selection:s}=t,{empty:o,ranges:u}=s,a=jn(n,r.schema);if(i)if(o){const l=Uh(r,a);t.addStoredMark(a.create({...l,...e}))}else u.forEach(l=>{const c=l.$from.pos,h=l.$to.pos;r.doc.nodesBetween(c,h,(f,d)=>{const p=Math.max(d,c),g=Math.min(d+f.nodeSize,h);f.marks.find(m=>m.type===a)?f.marks.forEach(m=>{a===m.type&&t.addMark(p,g,a.create({...m.attrs,...e}))}):t.addMark(p,g,a.create(e))})});return ey(r,t,a)},ny=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),ry=(n,e={})=>({state:t,dispatch:r,chain:i})=>{const s=Ye(n,t.schema);let o;return t.selection.$anchor.sameParent(t.selection.$head)&&(o=t.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:u})=>tf(s,{...o,...e})(t)?!0:u.clearNodes()).command(({state:u})=>tf(s,{...o,...e})(u,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},iy=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,i=bn(n,0,r.content.size),s=se.create(r,i);e.setSelection(s)}return!0},sy=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:i,to:s}=typeof n=="number"?{from:n,to:n}:n,o=me.atStart(r).from,u=me.atEnd(r).to,a=bn(i,o,u),l=bn(s,o,u),c=me.create(r,a,l);e.setSelection(c)}return!0},oy=n=>({state:e,dispatch:t})=>{const r=Ye(n,e.schema);return B1(r)(e,t)};function cf(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const r=t.filter(i=>e?.includes(i.type.name));n.tr.ensureMarks(r)}}const uy=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:r,editor:i})=>{const{selection:s,doc:o}=e,{$from:u,$to:a}=s,l=i.extensionManager.attributes,c=rs(l,u.node().type.name,u.node().attrs);if(s instanceof se&&s.node.isBlock)return!u.parentOffset||!yn(o,u.pos)?!1:(r&&(n&&cf(t,i.extensionManager.splittableMarks),e.split(u.pos).scrollIntoView()),!0);if(!u.parent.isBlock)return!1;const h=a.parentOffset===a.parent.content.size,f=u.depth===0?void 0:Wb(u.node(-1).contentMatchAt(u.indexAfter(-1)));let d=h&&f?[{type:f,attrs:c}]:void 0,p=yn(e.doc,e.mapping.map(u.pos),1,d);if(!d&&!p&&yn(e.doc,e.mapping.map(u.pos),1,f?[{type:f}]:void 0)&&(p=!0,d=f?[{type:f,attrs:c}]:void 0),r){if(p&&(s instanceof me&&e.deleteSelection(),e.split(e.mapping.map(u.pos),1,d),f&&!h&&!u.parentOffset&&u.parent.type!==f)){const g=e.mapping.map(u.before()),b=e.doc.resolve(g);u.node(-1).canReplaceWith(b.index(),b.index()+1,f)&&e.setNodeMarkup(e.mapping.map(u.before()),f)}n&&cf(t,i.extensionManager.splittableMarks),e.scrollIntoView()}return p},ay=(n,e={})=>({tr:t,state:r,dispatch:i,editor:s})=>{var o;const u=Ye(n,r.schema),{$from:a,$to:l}=r.selection,c=r.selection.node;if(c&&c.isBlock||a.depth<2||!a.sameParent(l))return!1;const h=a.node(-1);if(h.type!==u)return!1;const f=s.extensionManager.attributes;if(a.parent.content.size===0&&a.node(-1).childCount===a.indexAfter(-1)){if(a.depth===2||a.node(-3).type!==u||a.index(-2)!==a.node(-2).childCount-1)return!1;if(i){let m=L.empty;const w=a.index(-1)?1:a.index(-2)?2:3;for(let E=a.depth-w;E>=a.depth-3;E-=1)m=L.from(a.node(E).copy(m));const x=a.indexAfter(-1)<a.node(-2).childCount?1:a.indexAfter(-2)<a.node(-3).childCount?2:3,y={...rs(f,a.node().type.name,a.node().attrs),...e},v=((o=u.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(y))||void 0;m=m.append(L.from(u.createAndFill(null,v)||void 0));const S=a.before(a.depth-(w-1));t.replace(S,a.after(-x),new G(m,4-w,0));let k=-1;t.doc.nodesBetween(S,t.doc.content.size,(E,O)=>{if(k>-1)return!1;E.isTextblock&&E.content.size===0&&(k=O+1)}),k>-1&&t.setSelection(me.near(t.doc.resolve(k))),t.scrollIntoView()}return!0}const d=l.pos===a.end()?h.contentMatchAt(0).defaultType:null,p={...rs(f,h.type.name,h.attrs),...e},g={...rs(f,a.node().type.name,a.node().attrs),...e};t.delete(a.pos,l.pos);const b=d?[{type:u,attrs:p},{type:d,attrs:g}]:[{type:u,attrs:p}];if(!yn(t.doc,a.pos,2))return!1;if(i){const{selection:m,storedMarks:w}=r,{splittableMarks:x}=s.extensionManager,y=w||m.$to.parentOffset&&m.$from.marks();if(t.split(a.pos,2,b).scrollIntoView(),!y||!i)return!0;const v=y.filter(S=>x.includes(S.type.name));t.ensureMarks(v)}return!0},su=(n,e)=>{const t=Xs(o=>o.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===i?.type&&zn(n.doc,t.pos)&&n.join(t.pos),!0},ou=(n,e)=>{const t=Xs(o=>o.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(t.start).after(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===i?.type&&zn(n.doc,r)&&n.join(r),!0},ly=(n,e,t,r={})=>({editor:i,tr:s,state:o,dispatch:u,chain:a,commands:l,can:c})=>{const{extensions:h,splittableMarks:f}=i.extensionManager,d=Ye(n,o.schema),p=Ye(e,o.schema),{selection:g,storedMarks:b}=o,{$from:m,$to:w}=g,x=m.blockRange(w),y=b||g.$to.parentOffset&&g.$from.marks();if(!x)return!1;const v=Xs(S=>lf(S.type.name,h))(g);if(x.depth>=1&&v&&x.depth-v.depth<=1){if(v.node.type===d)return l.liftListItem(p);if(lf(v.node.type.name,h)&&d.validContent(v.node.content)&&u)return a().command(()=>(s.setNodeMarkup(v.pos,d),!0)).command(()=>su(s,d)).command(()=>ou(s,d)).run()}return!t||!y||!u?a().command(()=>c().wrapInList(d,r)?!0:l.clearNodes()).wrapInList(d,r).command(()=>su(s,d)).command(()=>ou(s,d)).run():a().command(()=>{const S=c().wrapInList(d,r),k=y.filter(E=>f.includes(E.type.name));return s.ensureMarks(k),S?!0:l.clearNodes()}).wrapInList(d,r).command(()=>su(s,d)).command(()=>ou(s,d)).run()},cy=(n,e={},t={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=t,o=jn(n,r.schema);return Lu(r,o,e)?i.unsetMark(o,{extendEmptyMarkRange:s}):i.setMark(o,e)},fy=(n,e,t={})=>({state:r,commands:i})=>{const s=Ye(n,r.schema),o=Ye(e,r.schema),u=gi(r,s,t);let a;return r.selection.$anchor.sameParent(r.selection.$head)&&(a=r.selection.$anchor.parent.attrs),u?i.setNode(o,a):i.setNode(s,{...a,...t})},dy=(n,e={})=>({state:t,commands:r})=>{const i=Ye(n,t.schema);return gi(t,i,e)?r.lift(i):r.wrapIn(i,e)},hy=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let r=0;r<t.length;r+=1){const i=t[r];let s;if(i.spec.isInputRules&&(s=i.getState(n))){if(e){const o=n.tr,u=s.transform;for(let a=u.steps.length-1;a>=0;a-=1)o.step(u.steps[a].invert(u.docs[a]));if(s.text){const a=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,n.schema.text(s.text,a))}else o.delete(s.from,s.to)}return!0}}return!1},py=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:r,ranges:i}=t;return r||e&&i.forEach(s=>{n.removeMark(s.$from.pos,s.$to.pos)}),!0},my=(n,e={})=>({tr:t,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:o=!1}=e,{selection:u}=t,a=jn(n,r.schema),{$from:l,empty:c,ranges:h}=u;if(!i)return!0;if(c&&o){let{from:f,to:d}=u;const p=(s=l.marks().find(b=>b.type===a))===null||s===void 0?void 0:s.attrs,g=Oa(l,a,p);g&&(f=g.from,d=g.to),t.removeMark(f,d,a)}else h.forEach(f=>{t.removeMark(f.$from.pos,f.$to.pos,a)});return t.removeStoredMark(a),!0},gy=(n,e={})=>({tr:t,state:r,dispatch:i})=>{let s=null,o=null;const u=Ks(typeof n=="string"?n:n.name,r.schema);return u?(u==="node"&&(s=Ye(n,r.schema)),u==="mark"&&(o=jn(n,r.schema)),i&&t.selection.ranges.forEach(a=>{const l=a.$from.pos,c=a.$to.pos;let h,f,d,p;t.selection.empty?r.doc.nodesBetween(l,c,(g,b)=>{s&&s===g.type&&(d=Math.max(b,l),p=Math.min(b+g.nodeSize,c),h=b,f=g)}):r.doc.nodesBetween(l,c,(g,b)=>{b<l&&s&&s===g.type&&(d=Math.max(b,l),p=Math.min(b+g.nodeSize,c),h=b,f=g),b>=l&&b<=c&&(s&&s===g.type&&t.setNodeMarkup(b,void 0,{...g.attrs,...e}),o&&g.marks.length&&g.marks.forEach(m=>{if(o===m.type){const w=Math.max(b,l),x=Math.min(b+g.nodeSize,c);t.addMark(w,x,o.create({...m.attrs,...e}))}}))}),f&&(h!==void 0&&t.setNodeMarkup(h,void 0,{...f.attrs,...e}),o&&f.marks.length&&f.marks.forEach(g=>{o===g.type&&t.addMark(d,p,o.create({...g.attrs,...e}))}))}),!0):!1},by=(n,e={})=>({state:t,dispatch:r})=>{const i=Ye(n,t.schema);return N1(i,e)(t,r)},yy=(n,e={})=>({state:t,dispatch:r})=>{const i=Ye(n,t.schema);return D1(i,e)(t,r)};var vy=Object.freeze({__proto__:null,blur:tb,clearContent:nb,clearNodes:rb,command:ib,createParagraphNear:sb,cut:ob,deleteCurrentNode:ub,deleteNode:ab,deleteRange:lb,deleteSelection:cb,enter:fb,exitCode:db,extendMarkRange:hb,first:pb,focus:gb,forEach:bb,insertContent:yb,insertContentAt:wb,joinBackward:Cb,joinDown:kb,joinForward:Tb,joinItemBackward:Eb,joinItemForward:Ob,joinTextblockBackward:Ab,joinTextblockForward:Mb,joinUp:Sb,keyboardShortcut:Db,lift:Ib,liftEmptyBlock:Rb,liftListItem:Pb,newlineInCode:_b,resetAttributes:Lb,scrollIntoView:Bb,selectAll:qb,selectNodeBackward:zb,selectNodeForward:Fb,selectParentNode:jb,selectTextblockEnd:Vb,selectTextblockStart:Hb,setContent:Ub,setMark:ty,setMeta:ny,setNode:ry,setNodeSelection:iy,setTextSelection:sy,sinkListItem:oy,splitBlock:uy,splitListItem:ay,toggleList:ly,toggleMark:cy,toggleNode:fy,toggleWrap:dy,undoInputRule:hy,unsetAllMarks:py,unsetMark:my,updateAttributes:gy,wrapIn:by,wrapInList:yy});const xy=St.create({name:"commands",addCommands(){return{...vy}}}),wy=St.create({name:"drop",addProseMirrorPlugins(){return[new ht({key:new _t("tiptapDrop"),props:{handleDrop:(n,e,t,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:r})}}})]}}),Sy=St.create({name:"editable",addProseMirrorPlugins(){return[new ht({key:new _t("editable"),props:{editable:()=>this.editor.options.editable}})]}}),ky=new _t("focusEvents"),Cy=St.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new ht({key:ky,props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),Ty=St.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:u})=>{const{selection:a,doc:l}=u,{empty:c,$anchor:h}=a,{pos:f,parent:d}=h,p=h.parent.isTextblock&&f>0?u.doc.resolve(f-1):h,g=p.parent.type.spec.isolating,b=h.pos-h.parentOffset,m=g&&p.parent.childCount===1?b===h.pos:ge.atStart(l).from===f;return!c||!d.type.isTextblock||d.textContent.length||!m||m&&h.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Es()||Hh()?s:i},addProseMirrorPlugins(){return[new ht({key:new _t("clearDocument"),appendTransaction:(n,e,t)=>{if(n.some(g=>g.getMeta("composition")))return;const r=n.some(g=>g.docChanged)&&!e.doc.eq(t.doc),i=n.some(g=>g.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:o,to:u}=e.selection,a=ge.atStart(e.doc).from,l=ge.atEnd(e.doc).to;if(s||!(o===a&&u===l)||!Aa(t.doc))return;const f=t.tr,d=Vs({state:t,transaction:f}),{commands:p}=new Hs({editor:this.editor,state:d});if(p.clearNodes(),!!f.steps.length)return f}})]}}),Ey=St.create({name:"paste",addProseMirrorPlugins(){return[new ht({key:new _t("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),Oy=St.create({name:"tabindex",addProseMirrorPlugins(){return[new ht({key:new _t("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class $n{get name(){return this.node.type.name}constructor(e,t,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=t,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You canâ€™t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:t,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new $n(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new $n(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new $n(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,r)=>{const i=t.isBlock&&!t.isTextblock,s=t.isAtom&&!t.isText,o=this.pos+r+(s?0:1);if(o<0||o>this.resolvedPos.doc.nodeSize-2)return;const u=this.resolvedPos.doc.resolve(o);if(!i&&u.depth<=this.depth)return;const a=new $n(u,this.editor,i,i?t:null);i&&(a.actualDepth=this.depth+1),e.push(new $n(u,this.editor,i,i?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(t).length>0){const s=i.node.attrs,o=Object.keys(t);for(let u=0;u<o.length;u+=1){const a=o[u];if(s[a]!==t[a])break}}else r=i;i=i.parent}return r}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(t);return this.children.forEach(o=>{r&&i.length>0||(o.node.type.name===e&&s.every(a=>t[a]===o.node.attrs[a])&&i.push(o),!(r&&i.length>0)&&(i=i.concat(o.querySelectorAll(e,t,r))))}),i}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}}const Ay=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function My(n,e,t){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(i),i}let j3=class extends q1{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:r,moved:i})=>this.options.onDrop(t,r,i)),this.on("paste",({event:t,slice:r})=>this.options.onPaste(t,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=My(Ay,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const r=Bh(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let r=t;if([].concat(e).forEach(s=>{const o=typeof s=="string"?`${s}$`:s.key;r=r.filter(u=>!u.key.startsWith(o))}),t.length===r.length)return;const i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}createExtensionManager(){var e,t;const i=[...this.options.enableCoreExtensions?[Sy,eb.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||t===void 0?void 0:t.blockSeparator}),xy,Cy,Ty,Oy,wy,Ey].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s?.type));this.extensionManager=new Ar(i,this)}createCommandManager(){this.commandManager=new Hs({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let t;try{t=_u(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(o){if(!(o instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(o.message))throw o;this.emit("contentError",{editor:this,error:o,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(u=>u.name!=="collaboration"),this.createExtensionManager()}}),t=_u(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=jh(t,this.options.autofocus);this.view=new Sh(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:Or.create({doc:t,selection:r||void 0})});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.createNodeViews(),this.prependClass();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var u;return(u=this.capturedTransaction)===null||u===void 0?void 0:u.step(o)});return}const t=this.state.apply(e),r=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),s=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return Xb(this.state,e)}isActive(e,t){const r=typeof e=="string"?e:null,i=typeof e=="string"?t:e;return Qb(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Ta(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:r={}}=e||{};return Gb(this.state.doc,{blockSeparator:t,textSerializers:{...zh(this.schema),...r}})}get isEmpty(){return Aa(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,t))||null}$nodes(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new $n(t,this)}get $doc(){return this.$pos(0)}};function H3(n){return new Ws({find:n.find,handler:({state:e,range:t,match:r})=>{const i=we(n.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,o=r[r.length-1],u=r[0];if(o){const a=u.search(/\S/),l=t.from+u.indexOf(o),c=l+o.length;if(Wh(t.from,t.to,e.doc).filter(d=>d.mark.type.excluded.find(g=>g===n.type&&g!==d.mark.type)).filter(d=>d.to>l).length)return null;c<t.to&&s.delete(c,t.to),l>t.from&&s.delete(t.from+a,l);const f=t.from+a+o.length;s.addMark(t.from+a,f,n.type.create(i||{})),s.removeStoredMark(n.type)}}})}function U3(n){return new Ws({find:n.find,handler:({state:e,range:t,match:r})=>{const i=we(n.getAttributes,void 0,r)||{},{tr:s}=e,o=t.from;let u=t.to;const a=n.type.create(i);if(r[1]){const l=r[0].lastIndexOf(r[1]);let c=o+l;c>u?c=u:u=c+r[1].length;const h=r[0][r[0].length-1];s.insertText(h,o+r[0].length-1),s.replaceWith(c,u,a)}else if(r[0]){const l=n.type.isInline?o:o-1;s.insert(l,n.type.create(i)).delete(s.mapping.map(o),s.mapping.map(u))}s.scrollIntoView()}})}function W3(n){return new Ws({find:n.find,handler:({state:e,range:t,match:r})=>{const i=e.doc.resolve(t.from),s=we(n.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,s)}})}function J3(n){return new Ws({find:n.find,handler:({state:e,range:t,match:r,chain:i})=>{const s=we(n.getAttributes,void 0,r)||{},o=e.tr.delete(t.from,t.to),a=o.doc.resolve(t.from).blockRange(),l=a&&aa(a,n.type,s);if(!l)return null;if(o.wrap(a,l),n.keepMarks&&n.editor){const{selection:h,storedMarks:f}=e,{splittableMarks:d}=n.editor.extensionManager,p=f||h.$to.parentOffset&&h.$from.marks();if(p){const g=p.filter(b=>d.includes(b.type.name));o.ensureMarks(g)}}if(n.keepAttributes){const h=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(h,s).run()}const c=o.doc.resolve(t.from-1).nodeBefore;c&&c.type===n.type&&zn(o.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(r,c))&&o.join(t.from-1)}})}class Bu{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=we(Q(this,"addOptions",{name:this.name}))),this.storage=we(Q(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Bu(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Js(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Bu(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=we(Q(t,"addOptions",{name:t.name})),t.storage=we(Q(t,"addStorage",{name:t.name,options:t.options})),t}}function G3(n){return new K1({find:n.find,handler:({state:e,range:t,match:r,pasteEvent:i})=>{const s=we(n.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:o}=e,u=r[r.length-1],a=r[0];let l=t.to;if(u){const c=a.search(/\S/),h=t.from+a.indexOf(u),f=h+u.length;if(Wh(t.from,t.to,e.doc).filter(p=>p.mark.type.excluded.find(b=>b===n.type&&b!==p.mark.type)).filter(p=>p.to>h).length)return null;f<t.to&&o.delete(f,t.to),h>t.from&&o.delete(t.from+c,h),l=t.from+c+u.length,o.addMark(t.from+c,l,n.type.create(s||{})),o.removeStoredMark(n.type)}}})}function K3(n,e){const{selection:t}=n,{$from:r}=t;if(t instanceof se){const s=r.index();return r.parent.canReplaceWith(s,s+1,e)}let i=r.depth;for(;i>=0;){const s=r.index(i);if(r.node(i).contentMatchAt(s).matchType(e))return!0;i-=1}return!1}function X3(n){return n.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}const Gh=(n,e)=>{if(!n)throw new Error(e)};var bt="top",Rt="bottom",Pt="right",yt="left",Ma="auto",Ti=[bt,Rt,Pt,yt],zr="start",bi="end",Ny="clippingParents",Kh="viewport",Gr="popper",Dy="reference",ff=Ti.reduce(function(n,e){return n.concat([e+"-"+zr,e+"-"+bi])},[]),Xh=[].concat(Ti,[Ma]).reduce(function(n,e){return n.concat([e,e+"-"+zr,e+"-"+bi])},[]),Iy="beforeRead",Ry="read",Py="afterRead",_y="beforeMain",Ly="main",By="afterMain",qy="beforeWrite",zy="write",Fy="afterWrite",jy=[Iy,Ry,Py,_y,Ly,By,qy,zy,Fy];function nn(n){return n?(n.nodeName||"").toLowerCase():null}function kt(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function hr(n){var e=kt(n).Element;return n instanceof e||n instanceof Element}function It(n){var e=kt(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function Na(n){if(typeof ShadowRoot>"u")return!1;var e=kt(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function Vy(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},s=e.elements[t];!It(s)||!nn(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var u=i[o];u===!1?s.removeAttribute(o):s.setAttribute(o,u===!0?"":u)}))})}function Hy(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),u=o.reduce(function(a,l){return a[l]="",a},{});!It(i)||!nn(i)||(Object.assign(i.style,u),Object.keys(s).forEach(function(a){i.removeAttribute(a)}))})}}const Yh={name:"applyStyles",enabled:!0,phase:"write",fn:Vy,effect:Hy,requires:["computeStyles"]};function Qt(n){return n.split("-")[0]}var ur=Math.max,Os=Math.min,Fr=Math.round;function qu(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function $h(){return!/^((?!chrome|android).)*safari/i.test(qu())}function jr(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,s=1;e&&It(n)&&(i=n.offsetWidth>0&&Fr(r.width)/n.offsetWidth||1,s=n.offsetHeight>0&&Fr(r.height)/n.offsetHeight||1);var o=hr(n)?kt(n):window,u=o.visualViewport,a=!$h()&&t,l=(r.left+(a&&u?u.offsetLeft:0))/i,c=(r.top+(a&&u?u.offsetTop:0))/s,h=r.width/i,f=r.height/s;return{width:h,height:f,top:c,right:l+h,bottom:c+f,left:l,x:l,y:c}}function Da(n){var e=jr(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function Qh(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&Na(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function xn(n){return kt(n).getComputedStyle(n)}function Uy(n){return["table","td","th"].indexOf(nn(n))>=0}function Vn(n){return((hr(n)?n.ownerDocument:n.document)||window.document).documentElement}function Ys(n){return nn(n)==="html"?n:n.assignedSlot||n.parentNode||(Na(n)?n.host:null)||Vn(n)}function df(n){return!It(n)||xn(n).position==="fixed"?null:n.offsetParent}function Wy(n){var e=/firefox/i.test(qu()),t=/Trident/i.test(qu());if(t&&It(n)){var r=xn(n);if(r.position==="fixed")return null}var i=Ys(n);for(Na(i)&&(i=i.host);It(i)&&["html","body"].indexOf(nn(i))<0;){var s=xn(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Ei(n){for(var e=kt(n),t=df(n);t&&Uy(t)&&xn(t).position==="static";)t=df(t);return t&&(nn(t)==="html"||nn(t)==="body"&&xn(t).position==="static")?e:t||Wy(n)||e}function Ia(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function ri(n,e,t){return ur(n,Os(e,t))}function Jy(n,e,t){var r=ri(n,e,t);return r>t?t:r}function Zh(){return{top:0,right:0,bottom:0,left:0}}function ep(n){return Object.assign({},Zh(),n)}function tp(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var Gy=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,ep(typeof e!="number"?e:tp(e,Ti))};function Ky(n){var e,t=n.state,r=n.name,i=n.options,s=t.elements.arrow,o=t.modifiersData.popperOffsets,u=Qt(t.placement),a=Ia(u),l=[yt,Pt].indexOf(u)>=0,c=l?"height":"width";if(!(!s||!o)){var h=Gy(i.padding,t),f=Da(s),d=a==="y"?bt:yt,p=a==="y"?Rt:Pt,g=t.rects.reference[c]+t.rects.reference[a]-o[a]-t.rects.popper[c],b=o[a]-t.rects.reference[a],m=Ei(s),w=m?a==="y"?m.clientHeight||0:m.clientWidth||0:0,x=g/2-b/2,y=h[d],v=w-f[c]-h[p],S=w/2-f[c]/2+x,k=ri(y,S,v),E=a;t.modifiersData[r]=(e={},e[E]=k,e.centerOffset=k-S,e)}}function Xy(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Qh(e.elements.popper,i)&&(e.elements.arrow=i))}const Yy={name:"arrow",enabled:!0,phase:"main",fn:Ky,effect:Xy,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Vr(n){return n.split("-")[1]}var $y={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Qy(n,e){var t=n.x,r=n.y,i=e.devicePixelRatio||1;return{x:Fr(t*i)/i||0,y:Fr(r*i)/i||0}}function hf(n){var e,t=n.popper,r=n.popperRect,i=n.placement,s=n.variation,o=n.offsets,u=n.position,a=n.gpuAcceleration,l=n.adaptive,c=n.roundOffsets,h=n.isFixed,f=o.x,d=f===void 0?0:f,p=o.y,g=p===void 0?0:p,b=typeof c=="function"?c({x:d,y:g}):{x:d,y:g};d=b.x,g=b.y;var m=o.hasOwnProperty("x"),w=o.hasOwnProperty("y"),x=yt,y=bt,v=window;if(l){var S=Ei(t),k="clientHeight",E="clientWidth";if(S===kt(t)&&(S=Vn(t),xn(S).position!=="static"&&u==="absolute"&&(k="scrollHeight",E="scrollWidth")),S=S,i===bt||(i===yt||i===Pt)&&s===bi){y=Rt;var O=h&&S===v&&v.visualViewport?v.visualViewport.height:S[k];g-=O-r.height,g*=a?1:-1}if(i===yt||(i===bt||i===Rt)&&s===bi){x=Pt;var N=h&&S===v&&v.visualViewport?v.visualViewport.width:S[E];d-=N-r.width,d*=a?1:-1}}var T=Object.assign({position:u},l&&$y),A=c===!0?Qy({x:d,y:g},kt(t)):{x:d,y:g};if(d=A.x,g=A.y,a){var R;return Object.assign({},T,(R={},R[y]=w?"0":"",R[x]=m?"0":"",R.transform=(v.devicePixelRatio||1)<=1?"translate("+d+"px, "+g+"px)":"translate3d("+d+"px, "+g+"px, 0)",R))}return Object.assign({},T,(e={},e[y]=w?g+"px":"",e[x]=m?d+"px":"",e.transform="",e))}function Zy(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,s=t.adaptive,o=s===void 0?!0:s,u=t.roundOffsets,a=u===void 0?!0:u,l={placement:Qt(e.placement),variation:Vr(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,hf(Object.assign({},l,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:a})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,hf(Object.assign({},l,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:a})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const ev={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Zy,data:{}};var Ui={passive:!0};function tv(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,u=o===void 0?!0:o,a=kt(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&l.forEach(function(c){c.addEventListener("scroll",t.update,Ui)}),u&&a.addEventListener("resize",t.update,Ui),function(){s&&l.forEach(function(c){c.removeEventListener("scroll",t.update,Ui)}),u&&a.removeEventListener("resize",t.update,Ui)}}const nv={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:tv,data:{}};var rv={left:"right",right:"left",bottom:"top",top:"bottom"};function is(n){return n.replace(/left|right|bottom|top/g,function(e){return rv[e]})}var iv={start:"end",end:"start"};function pf(n){return n.replace(/start|end/g,function(e){return iv[e]})}function Ra(n){var e=kt(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function Pa(n){return jr(Vn(n)).left+Ra(n).scrollLeft}function sv(n,e){var t=kt(n),r=Vn(n),i=t.visualViewport,s=r.clientWidth,o=r.clientHeight,u=0,a=0;if(i){s=i.width,o=i.height;var l=$h();(l||!l&&e==="fixed")&&(u=i.offsetLeft,a=i.offsetTop)}return{width:s,height:o,x:u+Pa(n),y:a}}function ov(n){var e,t=Vn(n),r=Ra(n),i=(e=n.ownerDocument)==null?void 0:e.body,s=ur(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=ur(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),u=-r.scrollLeft+Pa(n),a=-r.scrollTop;return xn(i||t).direction==="rtl"&&(u+=ur(t.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:u,y:a}}function _a(n){var e=xn(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function np(n){return["html","body","#document"].indexOf(nn(n))>=0?n.ownerDocument.body:It(n)&&_a(n)?n:np(Ys(n))}function ii(n,e){var t;e===void 0&&(e=[]);var r=np(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),s=kt(r),o=i?[s].concat(s.visualViewport||[],_a(r)?r:[]):r,u=e.concat(o);return i?u:u.concat(ii(Ys(o)))}function zu(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function uv(n,e){var t=jr(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function mf(n,e,t){return e===Kh?zu(sv(n,t)):hr(e)?uv(e,t):zu(ov(Vn(n)))}function av(n){var e=ii(Ys(n)),t=["absolute","fixed"].indexOf(xn(n).position)>=0,r=t&&It(n)?Ei(n):n;return hr(r)?e.filter(function(i){return hr(i)&&Qh(i,r)&&nn(i)!=="body"}):[]}function lv(n,e,t,r){var i=e==="clippingParents"?av(n):[].concat(e),s=[].concat(i,[t]),o=s[0],u=s.reduce(function(a,l){var c=mf(n,l,r);return a.top=ur(c.top,a.top),a.right=Os(c.right,a.right),a.bottom=Os(c.bottom,a.bottom),a.left=ur(c.left,a.left),a},mf(n,o,r));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function rp(n){var e=n.reference,t=n.element,r=n.placement,i=r?Qt(r):null,s=r?Vr(r):null,o=e.x+e.width/2-t.width/2,u=e.y+e.height/2-t.height/2,a;switch(i){case bt:a={x:o,y:e.y-t.height};break;case Rt:a={x:o,y:e.y+e.height};break;case Pt:a={x:e.x+e.width,y:u};break;case yt:a={x:e.x-t.width,y:u};break;default:a={x:e.x,y:e.y}}var l=i?Ia(i):null;if(l!=null){var c=l==="y"?"height":"width";switch(s){case zr:a[l]=a[l]-(e[c]/2-t[c]/2);break;case bi:a[l]=a[l]+(e[c]/2-t[c]/2);break}}return a}function yi(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,s=t.strategy,o=s===void 0?n.strategy:s,u=t.boundary,a=u===void 0?Ny:u,l=t.rootBoundary,c=l===void 0?Kh:l,h=t.elementContext,f=h===void 0?Gr:h,d=t.altBoundary,p=d===void 0?!1:d,g=t.padding,b=g===void 0?0:g,m=ep(typeof b!="number"?b:tp(b,Ti)),w=f===Gr?Dy:Gr,x=n.rects.popper,y=n.elements[p?w:f],v=lv(hr(y)?y:y.contextElement||Vn(n.elements.popper),a,c,o),S=jr(n.elements.reference),k=rp({reference:S,element:x,placement:i}),E=zu(Object.assign({},x,k)),O=f===Gr?E:S,N={top:v.top-O.top+m.top,bottom:O.bottom-v.bottom+m.bottom,left:v.left-O.left+m.left,right:O.right-v.right+m.right},T=n.modifiersData.offset;if(f===Gr&&T){var A=T[i];Object.keys(N).forEach(function(R){var D=[Pt,Rt].indexOf(R)>=0?1:-1,M=[bt,Rt].indexOf(R)>=0?"y":"x";N[R]+=A[M]*D})}return N}function cv(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,s=t.rootBoundary,o=t.padding,u=t.flipVariations,a=t.allowedAutoPlacements,l=a===void 0?Xh:a,c=Vr(r),h=c?u?ff:ff.filter(function(p){return Vr(p)===c}):Ti,f=h.filter(function(p){return l.indexOf(p)>=0});f.length===0&&(f=h);var d=f.reduce(function(p,g){return p[g]=yi(n,{placement:g,boundary:i,rootBoundary:s,padding:o})[Qt(g)],p},{});return Object.keys(d).sort(function(p,g){return d[p]-d[g]})}function fv(n){if(Qt(n)===Ma)return[];var e=is(n);return[pf(n),e,pf(e)]}function dv(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,s=i===void 0?!0:i,o=t.altAxis,u=o===void 0?!0:o,a=t.fallbackPlacements,l=t.padding,c=t.boundary,h=t.rootBoundary,f=t.altBoundary,d=t.flipVariations,p=d===void 0?!0:d,g=t.allowedAutoPlacements,b=e.options.placement,m=Qt(b),w=m===b,x=a||(w||!p?[is(b)]:fv(b)),y=[b].concat(x).reduce(function(ae,be){return ae.concat(Qt(be)===Ma?cv(e,{placement:be,boundary:c,rootBoundary:h,padding:l,flipVariations:p,allowedAutoPlacements:g}):be)},[]),v=e.rects.reference,S=e.rects.popper,k=new Map,E=!0,O=y[0],N=0;N<y.length;N++){var T=y[N],A=Qt(T),R=Vr(T)===zr,D=[bt,Rt].indexOf(A)>=0,M=D?"width":"height",q=yi(e,{placement:T,boundary:c,rootBoundary:h,altBoundary:f,padding:l}),j=D?R?Pt:yt:R?Rt:bt;v[M]>S[M]&&(j=is(j));var F=is(j),_=[];if(s&&_.push(q[A]<=0),u&&_.push(q[j]<=0,q[F]<=0),_.every(function(ae){return ae})){O=T,E=!1;break}k.set(T,_)}if(E)for(var W=p?3:1,Y=function(be){var ke=y.find(function(Oe){var ze=k.get(Oe);if(ze)return ze.slice(0,be).every(function(Ve){return Ve})});if(ke)return O=ke,"break"},ue=W;ue>0;ue--){var J=Y(ue);if(J==="break")break}e.placement!==O&&(e.modifiersData[r]._skip=!0,e.placement=O,e.reset=!0)}}const hv={name:"flip",enabled:!0,phase:"main",fn:dv,requiresIfExists:["offset"],data:{_skip:!1}};function gf(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function bf(n){return[bt,Pt,Rt,yt].some(function(e){return n[e]>=0})}function pv(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=yi(e,{elementContext:"reference"}),u=yi(e,{altBoundary:!0}),a=gf(o,r),l=gf(u,i,s),c=bf(a),h=bf(l);e.modifiersData[t]={referenceClippingOffsets:a,popperEscapeOffsets:l,isReferenceHidden:c,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":h})}const mv={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:pv};function gv(n,e,t){var r=Qt(n),i=[yt,bt].indexOf(r)>=0?-1:1,s=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,o=s[0],u=s[1];return o=o||0,u=(u||0)*i,[yt,Pt].indexOf(r)>=0?{x:u,y:o}:{x:o,y:u}}function bv(n){var e=n.state,t=n.options,r=n.name,i=t.offset,s=i===void 0?[0,0]:i,o=Xh.reduce(function(c,h){return c[h]=gv(h,e.rects,s),c},{}),u=o[e.placement],a=u.x,l=u.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=a,e.modifiersData.popperOffsets.y+=l),e.modifiersData[r]=o}const yv={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:bv};function vv(n){var e=n.state,t=n.name;e.modifiersData[t]=rp({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const xv={name:"popperOffsets",enabled:!0,phase:"read",fn:vv,data:{}};function wv(n){return n==="x"?"y":"x"}function Sv(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,s=i===void 0?!0:i,o=t.altAxis,u=o===void 0?!1:o,a=t.boundary,l=t.rootBoundary,c=t.altBoundary,h=t.padding,f=t.tether,d=f===void 0?!0:f,p=t.tetherOffset,g=p===void 0?0:p,b=yi(e,{boundary:a,rootBoundary:l,padding:h,altBoundary:c}),m=Qt(e.placement),w=Vr(e.placement),x=!w,y=Ia(m),v=wv(y),S=e.modifiersData.popperOffsets,k=e.rects.reference,E=e.rects.popper,O=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,N=typeof O=="number"?{mainAxis:O,altAxis:O}:Object.assign({mainAxis:0,altAxis:0},O),T=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,A={x:0,y:0};if(S){if(s){var R,D=y==="y"?bt:yt,M=y==="y"?Rt:Pt,q=y==="y"?"height":"width",j=S[y],F=j+b[D],_=j-b[M],W=d?-E[q]/2:0,Y=w===zr?k[q]:E[q],ue=w===zr?-E[q]:-k[q],J=e.elements.arrow,ae=d&&J?Da(J):{width:0,height:0},be=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Zh(),ke=be[D],Oe=be[M],ze=ri(0,k[q],ae[q]),Ve=x?k[q]/2-W-ze-ke-N.mainAxis:Y-ze-ke-N.mainAxis,He=x?-k[q]/2+W+ze+Oe+N.mainAxis:ue+ze+Oe+N.mainAxis,I=e.elements.arrow&&Ei(e.elements.arrow),z=I?y==="y"?I.clientTop||0:I.clientLeft||0:0,B=(R=T?.[y])!=null?R:0,ne=j+Ve-B-z,Ae=j+He-B,Me=ri(d?Os(F,ne):F,j,d?ur(_,Ae):_);S[y]=Me,A[y]=Me-j}if(u){var ce,Se=y==="x"?bt:yt,re=y==="x"?Rt:Pt,ie=S[v],Ne=v==="y"?"height":"width",oe=ie+b[Se],he=ie-b[re],Ce=[bt,yt].indexOf(m)!==-1,_e=(ce=T?.[v])!=null?ce:0,We=Ce?oe:ie-k[Ne]-E[Ne]-_e+N.altAxis,sn=Ce?ie+k[Ne]+E[Ne]-_e-N.altAxis:he,on=d&&Ce?Jy(We,ie,sn):ri(d?We:oe,ie,d?sn:he);S[v]=on,A[v]=on-ie}e.modifiersData[r]=A}}const kv={name:"preventOverflow",enabled:!0,phase:"main",fn:Sv,requiresIfExists:["offset"]};function Cv(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function Tv(n){return n===kt(n)||!It(n)?Ra(n):Cv(n)}function Ev(n){var e=n.getBoundingClientRect(),t=Fr(e.width)/n.offsetWidth||1,r=Fr(e.height)/n.offsetHeight||1;return t!==1||r!==1}function Ov(n,e,t){t===void 0&&(t=!1);var r=It(e),i=It(e)&&Ev(e),s=Vn(e),o=jr(n,i,t),u={scrollLeft:0,scrollTop:0},a={x:0,y:0};return(r||!r&&!t)&&((nn(e)!=="body"||_a(s))&&(u=Tv(e)),It(e)?(a=jr(e,!0),a.x+=e.clientLeft,a.y+=e.clientTop):s&&(a.x=Pa(s))),{x:o.left+u.scrollLeft-a.x,y:o.top+u.scrollTop-a.y,width:o.width,height:o.height}}function Av(n){var e=new Map,t=new Set,r=[];n.forEach(function(s){e.set(s.name,s)});function i(s){t.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(u){if(!t.has(u)){var a=e.get(u);a&&i(a)}}),r.push(s)}return n.forEach(function(s){t.has(s.name)||i(s)}),r}function Mv(n){var e=Av(n);return jy.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function Nv(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function Dv(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var yf={placement:"bottom",modifiers:[],strategy:"absolute"};function vf(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Iv(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,s=i===void 0?yf:i;return function(u,a,l){l===void 0&&(l=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},yf,s),modifiersData:{},elements:{reference:u,popper:a},attributes:{},styles:{}},h=[],f=!1,d={state:c,setOptions:function(m){var w=typeof m=="function"?m(c.options):m;g(),c.options=Object.assign({},s,c.options,w),c.scrollParents={reference:hr(u)?ii(u):u.contextElement?ii(u.contextElement):[],popper:ii(a)};var x=Mv(Dv([].concat(r,c.options.modifiers)));return c.orderedModifiers=x.filter(function(y){return y.enabled}),p(),d.update()},forceUpdate:function(){if(!f){var m=c.elements,w=m.reference,x=m.popper;if(vf(w,x)){c.rects={reference:Ov(w,Ei(x),c.options.strategy==="fixed"),popper:Da(x)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(N){return c.modifiersData[N.name]=Object.assign({},N.data)});for(var y=0;y<c.orderedModifiers.length;y++){if(c.reset===!0){c.reset=!1,y=-1;continue}var v=c.orderedModifiers[y],S=v.fn,k=v.options,E=k===void 0?{}:k,O=v.name;typeof S=="function"&&(c=S({state:c,options:E,name:O,instance:d})||c)}}}},update:Nv(function(){return new Promise(function(b){d.forceUpdate(),b(c)})}),destroy:function(){g(),f=!0}};if(!vf(u,a))return d;d.setOptions(l).then(function(b){!f&&l.onFirstUpdate&&l.onFirstUpdate(b)});function p(){c.orderedModifiers.forEach(function(b){var m=b.name,w=b.options,x=w===void 0?{}:w,y=b.effect;if(typeof y=="function"){var v=y({state:c,name:m,instance:d,options:x}),S=function(){};h.push(v||S)}})}function g(){h.forEach(function(b){return b()}),h=[]}return d}}var Rv=[nv,xv,ev,Yh,yv,hv,kv,Yy,mv],Pv=Iv({defaultModifiers:Rv}),_v="tippy-box",ip="tippy-content",Lv="tippy-backdrop",sp="tippy-arrow",op="tippy-svg-arrow",Xn={passive:!0,capture:!0},up=function(){return document.body};function uu(n,e,t){if(Array.isArray(n)){var r=n[e];return r??(Array.isArray(t)?t[e]:t)}return n}function La(n,e){var t={}.toString.call(n);return t.indexOf("[object")===0&&t.indexOf(e+"]")>-1}function ap(n,e){return typeof n=="function"?n.apply(void 0,e):n}function xf(n,e){if(e===0)return n;var t;return function(r){clearTimeout(t),t=setTimeout(function(){n(r)},e)}}function Bv(n){return n.split(/\s+/).filter(Boolean)}function Er(n){return[].concat(n)}function wf(n,e){n.indexOf(e)===-1&&n.push(e)}function qv(n){return n.filter(function(e,t){return n.indexOf(e)===t})}function zv(n){return n.split("-")[0]}function As(n){return[].slice.call(n)}function Sf(n){return Object.keys(n).reduce(function(e,t){return n[t]!==void 0&&(e[t]=n[t]),e},{})}function si(){return document.createElement("div")}function $s(n){return["Element","Fragment"].some(function(e){return La(n,e)})}function Fv(n){return La(n,"NodeList")}function jv(n){return La(n,"MouseEvent")}function Vv(n){return!!(n&&n._tippy&&n._tippy.reference===n)}function Hv(n){return $s(n)?[n]:Fv(n)?As(n):Array.isArray(n)?n:As(document.querySelectorAll(n))}function au(n,e){n.forEach(function(t){t&&(t.style.transitionDuration=e+"ms")})}function kf(n,e){n.forEach(function(t){t&&t.setAttribute("data-state",e)})}function Uv(n){var e,t=Er(n),r=t[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function Wv(n,e){var t=e.clientX,r=e.clientY;return n.every(function(i){var s=i.popperRect,o=i.popperState,u=i.props,a=u.interactiveBorder,l=zv(o.placement),c=o.modifiersData.offset;if(!c)return!0;var h=l==="bottom"?c.top.y:0,f=l==="top"?c.bottom.y:0,d=l==="right"?c.left.x:0,p=l==="left"?c.right.x:0,g=s.top-r+h>a,b=r-s.bottom-f>a,m=s.left-t+d>a,w=t-s.right-p>a;return g||b||m||w})}function lu(n,e,t){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){n[r](i,t)})}function Cf(n,e){for(var t=e;t;){var r;if(n.contains(t))return!0;t=t.getRootNode==null||(r=t.getRootNode())==null?void 0:r.host}return!1}var Xt={isTouch:!1},Tf=0;function Jv(){Xt.isTouch||(Xt.isTouch=!0,window.performance&&document.addEventListener("mousemove",lp))}function lp(){var n=performance.now();n-Tf<20&&(Xt.isTouch=!1,document.removeEventListener("mousemove",lp)),Tf=n}function Gv(){var n=document.activeElement;if(Vv(n)){var e=n._tippy;n.blur&&!e.state.isVisible&&n.blur()}}function Kv(){document.addEventListener("touchstart",Jv,Xn),window.addEventListener("blur",Gv)}var Xv=typeof window<"u"&&typeof document<"u",Yv=Xv?!!window.msCrypto:!1,$v={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Qv={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Ut=Object.assign({appendTo:up,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},$v,Qv),Zv=Object.keys(Ut),e2=function(e){var t=Object.keys(e);t.forEach(function(r){Ut[r]=e[r]})};function cp(n){var e=n.plugins||[],t=e.reduce(function(r,i){var s=i.name,o=i.defaultValue;if(s){var u;r[s]=n[s]!==void 0?n[s]:(u=Ut[s])!=null?u:o}return r},{});return Object.assign({},n,t)}function t2(n,e){var t=e?Object.keys(cp(Object.assign({},Ut,{plugins:e}))):Zv,r=t.reduce(function(i,s){var o=(n.getAttribute("data-tippy-"+s)||"").trim();if(!o)return i;if(s==="content")i[s]=o;else try{i[s]=JSON.parse(o)}catch{i[s]=o}return i},{});return r}function Ef(n,e){var t=Object.assign({},e,{content:ap(e.content,[n])},e.ignoreAttributes?{}:t2(n,e.plugins));return t.aria=Object.assign({},Ut.aria,t.aria),t.aria={expanded:t.aria.expanded==="auto"?e.interactive:t.aria.expanded,content:t.aria.content==="auto"?e.interactive?null:"describedby":t.aria.content},t}var n2=function(){return"innerHTML"};function Fu(n,e){n[n2()]=e}function Of(n){var e=si();return n===!0?e.className=sp:(e.className=op,$s(n)?e.appendChild(n):Fu(e,n)),e}function Af(n,e){$s(e.content)?(Fu(n,""),n.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?Fu(n,e.content):n.textContent=e.content)}function ju(n){var e=n.firstElementChild,t=As(e.children);return{box:e,content:t.find(function(r){return r.classList.contains(ip)}),arrow:t.find(function(r){return r.classList.contains(sp)||r.classList.contains(op)}),backdrop:t.find(function(r){return r.classList.contains(Lv)})}}function fp(n){var e=si(),t=si();t.className=_v,t.setAttribute("data-state","hidden"),t.setAttribute("tabindex","-1");var r=si();r.className=ip,r.setAttribute("data-state","hidden"),Af(r,n.props),e.appendChild(t),t.appendChild(r),i(n.props,n.props);function i(s,o){var u=ju(e),a=u.box,l=u.content,c=u.arrow;o.theme?a.setAttribute("data-theme",o.theme):a.removeAttribute("data-theme"),typeof o.animation=="string"?a.setAttribute("data-animation",o.animation):a.removeAttribute("data-animation"),o.inertia?a.setAttribute("data-inertia",""):a.removeAttribute("data-inertia"),a.style.maxWidth=typeof o.maxWidth=="number"?o.maxWidth+"px":o.maxWidth,o.role?a.setAttribute("role",o.role):a.removeAttribute("role"),(s.content!==o.content||s.allowHTML!==o.allowHTML)&&Af(l,n.props),o.arrow?c?s.arrow!==o.arrow&&(a.removeChild(c),a.appendChild(Of(o.arrow))):a.appendChild(Of(o.arrow)):c&&a.removeChild(c)}return{popper:e,onUpdate:i}}fp.$$tippy=!0;var r2=1,Wi=[],cu=[];function i2(n,e){var t=Ef(n,Object.assign({},Ut,cp(Sf(e)))),r,i,s,o=!1,u=!1,a=!1,l=!1,c,h,f,d=[],p=xf(ne,t.interactiveDebounce),g,b=r2++,m=null,w=qv(t.plugins),x={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},y={id:b,reference:n,popper:si(),popperInstance:m,props:t,state:x,plugins:w,clearDelayTimeouts:We,setProps:sn,setContent:on,show:yr,hide:no,hideWithInteractivity:Oi,enable:Ce,disable:_e,unmount:ro,destroy:io};if(!t.render)return y;var v=t.render(y),S=v.popper,k=v.onUpdate;S.setAttribute("data-tippy-root",""),S.id="tippy-"+y.id,y.popper=S,n._tippy=y,S._tippy=y;var E=w.map(function(P){return P.fn(y)}),O=n.hasAttribute("aria-expanded");return I(),W(),j(),F("onCreate",[y]),t.showOnCreate&&oe(),S.addEventListener("mouseenter",function(){y.props.interactive&&y.state.isVisible&&y.clearDelayTimeouts()}),S.addEventListener("mouseleave",function(){y.props.interactive&&y.props.trigger.indexOf("mouseenter")>=0&&D().addEventListener("mousemove",p)}),y;function N(){var P=y.props.touch;return Array.isArray(P)?P:[P,0]}function T(){return N()[0]==="hold"}function A(){var P;return!!((P=y.props.render)!=null&&P.$$tippy)}function R(){return g||n}function D(){var P=R().parentNode;return P?Uv(P):document}function M(){return ju(S)}function q(P){return y.state.isMounted&&!y.state.isVisible||Xt.isTouch||c&&c.type==="focus"?0:uu(y.props.delay,P?0:1,Ut.delay)}function j(P){P===void 0&&(P=!1),S.style.pointerEvents=y.props.interactive&&!P?"":"none",S.style.zIndex=""+y.props.zIndex}function F(P,$,K){if(K===void 0&&(K=!0),E.forEach(function(pe){pe[P]&&pe[P].apply(pe,$)}),K){var fe;(fe=y.props)[P].apply(fe,$)}}function _(){var P=y.props.aria;if(P.content){var $="aria-"+P.content,K=S.id,fe=Er(y.props.triggerTarget||n);fe.forEach(function(pe){var Ie=pe.getAttribute($);if(y.state.isVisible)pe.setAttribute($,Ie?Ie+" "+K:K);else{var Be=Ie&&Ie.replace(K,"").trim();Be?pe.setAttribute($,Be):pe.removeAttribute($)}})}}function W(){if(!(O||!y.props.aria.expanded)){var P=Er(y.props.triggerTarget||n);P.forEach(function($){y.props.interactive?$.setAttribute("aria-expanded",y.state.isVisible&&$===R()?"true":"false"):$.removeAttribute("aria-expanded")})}}function Y(){D().removeEventListener("mousemove",p),Wi=Wi.filter(function(P){return P!==p})}function ue(P){if(!(Xt.isTouch&&(a||P.type==="mousedown"))){var $=P.composedPath&&P.composedPath()[0]||P.target;if(!(y.props.interactive&&Cf(S,$))){if(Er(y.props.triggerTarget||n).some(function(K){return Cf(K,$)})){if(Xt.isTouch||y.state.isVisible&&y.props.trigger.indexOf("click")>=0)return}else F("onClickOutside",[y,P]);y.props.hideOnClick===!0&&(y.clearDelayTimeouts(),y.hide(),u=!0,setTimeout(function(){u=!1}),y.state.isMounted||ke())}}}function J(){a=!0}function ae(){a=!1}function be(){var P=D();P.addEventListener("mousedown",ue,!0),P.addEventListener("touchend",ue,Xn),P.addEventListener("touchstart",ae,Xn),P.addEventListener("touchmove",J,Xn)}function ke(){var P=D();P.removeEventListener("mousedown",ue,!0),P.removeEventListener("touchend",ue,Xn),P.removeEventListener("touchstart",ae,Xn),P.removeEventListener("touchmove",J,Xn)}function Oe(P,$){Ve(P,function(){!y.state.isVisible&&S.parentNode&&S.parentNode.contains(S)&&$()})}function ze(P,$){Ve(P,$)}function Ve(P,$){var K=M().box;function fe(pe){pe.target===K&&(lu(K,"remove",fe),$())}if(P===0)return $();lu(K,"remove",h),lu(K,"add",fe),h=fe}function He(P,$,K){K===void 0&&(K=!1);var fe=Er(y.props.triggerTarget||n);fe.forEach(function(pe){pe.addEventListener(P,$,K),d.push({node:pe,eventType:P,handler:$,options:K})})}function I(){T()&&(He("touchstart",B,{passive:!0}),He("touchend",Ae,{passive:!0})),Bv(y.props.trigger).forEach(function(P){if(P!=="manual")switch(He(P,B),P){case"mouseenter":He("mouseleave",Ae);break;case"focus":He(Yv?"focusout":"blur",Me);break;case"focusin":He("focusout",Me);break}})}function z(){d.forEach(function(P){var $=P.node,K=P.eventType,fe=P.handler,pe=P.options;$.removeEventListener(K,fe,pe)}),d=[]}function B(P){var $,K=!1;if(!(!y.state.isEnabled||ce(P)||u)){var fe=(($=c)==null?void 0:$.type)==="focus";c=P,g=P.currentTarget,W(),!y.state.isVisible&&jv(P)&&Wi.forEach(function(pe){return pe(P)}),P.type==="click"&&(y.props.trigger.indexOf("mouseenter")<0||o)&&y.props.hideOnClick!==!1&&y.state.isVisible?K=!0:oe(P),P.type==="click"&&(o=!K),K&&!fe&&he(P)}}function ne(P){var $=P.target,K=R().contains($)||S.contains($);if(!(P.type==="mousemove"&&K)){var fe=Ne().concat(S).map(function(pe){var Ie,Be=pe._tippy,st=(Ie=Be.popperInstance)==null?void 0:Ie.state;return st?{popperRect:pe.getBoundingClientRect(),popperState:st,props:t}:null}).filter(Boolean);Wv(fe,P)&&(Y(),he(P))}}function Ae(P){var $=ce(P)||y.props.trigger.indexOf("click")>=0&&o;if(!$){if(y.props.interactive){y.hideWithInteractivity(P);return}he(P)}}function Me(P){y.props.trigger.indexOf("focusin")<0&&P.target!==R()||y.props.interactive&&P.relatedTarget&&S.contains(P.relatedTarget)||he(P)}function ce(P){return Xt.isTouch?T()!==P.type.indexOf("touch")>=0:!1}function Se(){re();var P=y.props,$=P.popperOptions,K=P.placement,fe=P.offset,pe=P.getReferenceClientRect,Ie=P.moveTransition,Be=A()?ju(S).arrow:null,st=pe?{getBoundingClientRect:pe,contextElement:pe.contextElement||R()}:n,Gt={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Bt){var vr=Bt.state;if(A()){var Np=M(),so=Np.box;["placement","reference-hidden","escaped"].forEach(function(Ai){Ai==="placement"?so.setAttribute("data-placement",vr.placement):vr.attributes.popper["data-popper-"+Ai]?so.setAttribute("data-"+Ai,""):so.removeAttribute("data-"+Ai)}),vr.attributes.popper={}}}},Lt=[{name:"offset",options:{offset:fe}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Ie}},Gt];A()&&Be&&Lt.push({name:"arrow",options:{element:Be,padding:3}}),Lt.push.apply(Lt,$?.modifiers||[]),y.popperInstance=Pv(st,S,Object.assign({},$,{placement:K,onFirstUpdate:f,modifiers:Lt}))}function re(){y.popperInstance&&(y.popperInstance.destroy(),y.popperInstance=null)}function ie(){var P=y.props.appendTo,$,K=R();y.props.interactive&&P===up||P==="parent"?$=K.parentNode:$=ap(P,[K]),$.contains(S)||$.appendChild(S),y.state.isMounted=!0,Se()}function Ne(){return As(S.querySelectorAll("[data-tippy-root]"))}function oe(P){y.clearDelayTimeouts(),P&&F("onTrigger",[y,P]),be();var $=q(!0),K=N(),fe=K[0],pe=K[1];Xt.isTouch&&fe==="hold"&&pe&&($=pe),$?r=setTimeout(function(){y.show()},$):y.show()}function he(P){if(y.clearDelayTimeouts(),F("onUntrigger",[y,P]),!y.state.isVisible){ke();return}if(!(y.props.trigger.indexOf("mouseenter")>=0&&y.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(P.type)>=0&&o)){var $=q(!1);$?i=setTimeout(function(){y.state.isVisible&&y.hide()},$):s=requestAnimationFrame(function(){y.hide()})}}function Ce(){y.state.isEnabled=!0}function _e(){y.hide(),y.state.isEnabled=!1}function We(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(s)}function sn(P){if(!y.state.isDestroyed){F("onBeforeUpdate",[y,P]),z();var $=y.props,K=Ef(n,Object.assign({},$,Sf(P),{ignoreAttributes:!0}));y.props=K,I(),$.interactiveDebounce!==K.interactiveDebounce&&(Y(),p=xf(ne,K.interactiveDebounce)),$.triggerTarget&&!K.triggerTarget?Er($.triggerTarget).forEach(function(fe){fe.removeAttribute("aria-expanded")}):K.triggerTarget&&n.removeAttribute("aria-expanded"),W(),j(),k&&k($,K),y.popperInstance&&(Se(),Ne().forEach(function(fe){requestAnimationFrame(fe._tippy.popperInstance.forceUpdate)})),F("onAfterUpdate",[y,P])}}function on(P){y.setProps({content:P})}function yr(){var P=y.state.isVisible,$=y.state.isDestroyed,K=!y.state.isEnabled,fe=Xt.isTouch&&!y.props.touch,pe=uu(y.props.duration,0,Ut.duration);if(!(P||$||K||fe)&&!R().hasAttribute("disabled")&&(F("onShow",[y],!1),y.props.onShow(y)!==!1)){if(y.state.isVisible=!0,A()&&(S.style.visibility="visible"),j(),be(),y.state.isMounted||(S.style.transition="none"),A()){var Ie=M(),Be=Ie.box,st=Ie.content;au([Be,st],0)}f=function(){var Lt;if(!(!y.state.isVisible||l)){if(l=!0,S.offsetHeight,S.style.transition=y.props.moveTransition,A()&&y.props.animation){var Wr=M(),Bt=Wr.box,vr=Wr.content;au([Bt,vr],pe),kf([Bt,vr],"visible")}_(),W(),wf(cu,y),(Lt=y.popperInstance)==null||Lt.forceUpdate(),F("onMount",[y]),y.props.animation&&A()&&ze(pe,function(){y.state.isShown=!0,F("onShown",[y])})}},ie()}}function no(){var P=!y.state.isVisible,$=y.state.isDestroyed,K=!y.state.isEnabled,fe=uu(y.props.duration,1,Ut.duration);if(!(P||$||K)&&(F("onHide",[y],!1),y.props.onHide(y)!==!1)){if(y.state.isVisible=!1,y.state.isShown=!1,l=!1,o=!1,A()&&(S.style.visibility="hidden"),Y(),ke(),j(!0),A()){var pe=M(),Ie=pe.box,Be=pe.content;y.props.animation&&(au([Ie,Be],fe),kf([Ie,Be],"hidden"))}_(),W(),y.props.animation?A()&&Oe(fe,y.unmount):y.unmount()}}function Oi(P){D().addEventListener("mousemove",p),wf(Wi,p),p(P)}function ro(){y.state.isVisible&&y.hide(),y.state.isMounted&&(re(),Ne().forEach(function(P){P._tippy.unmount()}),S.parentNode&&S.parentNode.removeChild(S),cu=cu.filter(function(P){return P!==y}),y.state.isMounted=!1,F("onHidden",[y]))}function io(){y.state.isDestroyed||(y.clearDelayTimeouts(),y.unmount(),z(),delete n._tippy,y.state.isDestroyed=!0,F("onDestroy",[y]))}}function Ur(n,e){e===void 0&&(e={});var t=Ut.plugins.concat(e.plugins||[]);Kv();var r=Object.assign({},e,{plugins:t}),i=Hv(n),s=i.reduce(function(o,u){var a=u&&i2(u,r);return a&&o.push(a),o},[]);return $s(n)?s[0]:s}Ur.defaultProps=Ut;Ur.setDefaultProps=e2;Ur.currentInput=Xt;Object.assign({},Yh,{effect:function(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow)}});Ur.setDefaultProps({render:fp});class s2{constructor({editor:e,element:t,view:r,tippyOptions:i={},updateDelay:s=250,shouldShow:o}){this.preventHide=!1,this.shouldShow=({view:u,state:a,from:l,to:c})=>{const{doc:h,selection:f}=a,{empty:d}=f,p=!h.textBetween(l,c).length&&Gs(a.selection),g=this.element.contains(document.activeElement);return!(!(u.hasFocus()||g)||d||p||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:u})=>{var a;if(this.preventHide){this.preventHide=!1;return}u?.relatedTarget&&(!((a=this.element.parentNode)===null||a===void 0)&&a.contains(u.relatedTarget))||this.hide()},this.tippyBlurHandler=u=>{this.blurHandler({event:u})},this.handleDebouncedUpdate=(u,a)=>{const l=!a?.selection.eq(u.state.selection),c=!a?.doc.eq(u.state.doc);!l&&!c||(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(u,l,c,a)},this.updateDelay))},this.updateHandler=(u,a,l,c)=>{var h,f,d;const{state:p,composing:g}=u,{selection:b}=p;if(g||!a&&!l)return;this.createTooltip();const{ranges:w}=b,x=Math.min(...w.map(S=>S.$from.pos)),y=Math.max(...w.map(S=>S.$to.pos));if(!((h=this.shouldShow)===null||h===void 0?void 0:h.call(this,{editor:this.editor,view:u,state:p,oldState:c,from:x,to:y}))){this.hide();return}(f=this.tippy)===null||f===void 0||f.setProps({getReferenceClientRect:((d=this.tippyOptions)===null||d===void 0?void 0:d.getReferenceClientRect)||(()=>{if(Zb(p.selection)){let S=u.nodeDOM(x);const k=S.dataset.nodeViewWrapper?S:S.querySelector("[data-node-view-wrapper]");if(k&&(S=k.firstChild),S)return S.getBoundingClientRect()}return Jh(u,x,y)})}),this.show()},this.editor=e,this.element=t,this.view=r,this.updateDelay=s,o&&(this.shouldShow=o),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,t=!!e.parentElement;this.tippy||!t||(this.tippy=Ur(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,t){const{state:r}=e,i=r.selection.from!==r.selection.to;if(this.updateDelay>0&&i){this.handleDebouncedUpdate(e,t);return}const s=!t?.selection.eq(e.state.selection),o=!t?.doc.eq(e.state.doc);this.updateHandler(e,s,o,t)}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e,t;!((e=this.tippy)===null||e===void 0)&&e.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(t=this.tippy)===null||t===void 0||t.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const dp=n=>new ht({key:typeof n.pluginKey=="string"?new _t(n.pluginKey):n.pluginKey,view:e=>new s2({view:e,...n})});St.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[dp({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});var o2=Z('<div style="visibility: hidden;"><!></div>');function u2(n,e){rt(e,!0);const t=U(e,"tippyOptions",19,()=>({})),r=U(e,"pluginKey",3,"SvelteTiptapBubbleMenu"),i=U(e,"shouldShow",3,null),s=U(e,"updateDelay",3,250);Gh(e.editor,"Missing editor instance.");let o;$f(()=>{const c=dp({pluginKey:r(),editor:e.editor,element:o,tippyOptions:t(),shouldShow:i(),updateDelay:s()});return e.editor.registerPlugin(c),()=>e.editor?.unregisterPlugin(r())});var u=o2(),a=te(u);{var l=c=>{var h=tt(),f=Te(h);$u(f,()=>e.children),V(c,h)};xe(a,c=>{e.children&&c(l)})}ee(u),At(u,c=>o=c,()=>o),ve(()=>qn(u,1,Yf(e.class))),V(n,u),it()}class a2{constructor({editor:e,element:t,view:r,tippyOptions:i={},shouldShow:s}){this.preventHide=!1,this.shouldShow=({view:o,state:u})=>{const{selection:a}=u,{$anchor:l,empty:c}=a,h=l.depth===1,f=l.parent.isTextblock&&!l.parent.type.spec.code&&!l.parent.textContent;return!(!o.hasFocus()||!c||!h||!f||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:o})=>{var u;if(this.preventHide){this.preventHide=!1;return}o?.relatedTarget&&(!((u=this.element.parentNode)===null||u===void 0)&&u.contains(o.relatedTarget))||this.hide()},this.tippyBlurHandler=o=>{this.blurHandler({event:o})},this.editor=e,this.element=t,this.view=r,s&&(this.shouldShow=s),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,t=!!e.parentElement;this.tippy||!t||(this.tippy=Ur(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"right",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,t){var r,i,s;const{state:o}=e,{doc:u,selection:a}=o,{from:l,to:c}=a;if(t&&t.doc.eq(u)&&t.selection.eq(a))return;if(this.createTooltip(),!((r=this.shouldShow)===null||r===void 0?void 0:r.call(this,{editor:this.editor,view:e,state:o,oldState:t}))){this.hide();return}(i=this.tippy)===null||i===void 0||i.setProps({getReferenceClientRect:((s=this.tippyOptions)===null||s===void 0?void 0:s.getReferenceClientRect)||(()=>Jh(e,l,c))}),this.show()}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e,t;!((e=this.tippy)===null||e===void 0)&&e.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(t=this.tippy)===null||t===void 0||t.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const hp=n=>new ht({key:typeof n.pluginKey=="string"?new _t(n.pluginKey):n.pluginKey,view:e=>new a2({view:e,...n})});St.create({name:"floatingMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"floatingMenu",shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[hp({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}});var l2=Z('<div style="visibility: hidden;"><!></div>');function c2(n,e){rt(e,!0);const t=U(e,"tippyOptions",19,()=>({})),r=U(e,"pluginKey",3,"SvelteTiptapFloatingMenu"),i=U(e,"shouldShow",3,null);Gh(e.editor,"Missing editor instance.");let s;$f(()=>{const l=hp({pluginKey:r(),editor:e.editor,element:s,tippyOptions:t(),shouldShow:i()});return e.editor.registerPlugin(l),()=>e.editor?.unregisterPlugin(r())});var o=l2(),u=te(o);{var a=l=>{var c=tt(),h=Te(c);$u(h,()=>e.children),V(l,c)};xe(u,l=>{e.children&&l(a)})}ee(o),At(o,l=>s=l,()=>s),ve(()=>qn(o,1,Yf(e.class))),V(n,o),it()}var f2=Z(" <!>",1);function Fe(n,e){rt(e,!0);const t=ar("editor"),r=X(()=>t.v);let i=U(e,"prop",3,""),s=U(e,"attrs",19,()=>({})),o=U(e,"label",3,""),u=U(e,"icon",3,""),a=U(e,"methodName",19,()=>"toggle"+i().charAt(0).toUpperCase()+i().slice(1)),l=U(e,"handler",3,null),c=vi(e,["$$slots","$$events","$$legacy","prop","attrs","label","icon","methodName","tooltip","handler","children"]);const h=X(()=>(t.c,!!(i()&&C(r)?.isActive(i(),s()))));function f(){if(C(r)){if(l())return l()();setTimeout(()=>{C(r).chain().focus()[a()]?.(s())?.run?.()},0)}}var d=tt(),p=Te(d);{var g=m=>{Pr(m,{size:"1.2em",get icon(){return u()},get active(){return C(h)},onclick:f,get tooltip(){return e.tooltip},tabindex:0})},b=m=>{{let w=X(()=>!C(h)),x=X(()=>l()||f);Tn(m,ls({get outlined(){return C(w)},get onclick(){return C(x)},small:!0},()=>c,{children:(y,v)=>{tr();var S=f2(),k=Te(S),E=H(k);Zt(E,{get it(){return e.children}}),ve(()=>Ge(k,`${o()??""} `)),V(y,S)},$$slots:{default:!0}}))}};xe(p,m=>{u()?m(g):m(b,!1)})}V(n,d),it()}let Vu,Hu;if(typeof WeakMap<"u"){let n=new WeakMap;Vu=e=>n.get(e),Hu=(e,t)=>(n.set(e,t),t)}else{const n=[];let t=0;Vu=r=>{for(let i=0;i<n.length;i+=2)if(n[i]==r)return n[i+1]},Hu=(r,i)=>(t==10&&(t=0),n[t++]=r,n[t++]=i)}var Ee=class{constructor(n,e,t,r){this.width=n,this.height=e,this.map=t,this.problems=r}findCell(n){for(let e=0;e<this.map.length;e++){const t=this.map[e];if(t!=n)continue;const r=e%this.width,i=e/this.width|0;let s=r+1,o=i+1;for(let u=1;s<this.width&&this.map[e+u]==t;u++)s++;for(let u=1;o<this.height&&this.map[e+this.width*u]==t;u++)o++;return{left:r,top:i,right:s,bottom:o}}throw new RangeError(`No cell with offset ${n} found`)}colCount(n){for(let e=0;e<this.map.length;e++)if(this.map[e]==n)return e%this.width;throw new RangeError(`No cell with offset ${n} found`)}nextCell(n,e,t){const{left:r,right:i,top:s,bottom:o}=this.findCell(n);return e=="horiz"?(t<0?r==0:i==this.width)?null:this.map[s*this.width+(t<0?r-1:i)]:(t<0?s==0:o==this.height)?null:this.map[r+this.width*(t<0?s-1:o)]}rectBetween(n,e){const{left:t,right:r,top:i,bottom:s}=this.findCell(n),{left:o,right:u,top:a,bottom:l}=this.findCell(e);return{left:Math.min(t,o),top:Math.min(i,a),right:Math.max(r,u),bottom:Math.max(s,l)}}cellsInRect(n){const e=[],t={};for(let r=n.top;r<n.bottom;r++)for(let i=n.left;i<n.right;i++){const s=r*this.width+i,o=this.map[s];t[o]||(t[o]=!0,!(i==n.left&&i&&this.map[s-1]==o||r==n.top&&r&&this.map[s-this.width]==o)&&e.push(o))}return e}positionAt(n,e,t){for(let r=0,i=0;;r++){const s=i+t.child(r).nodeSize;if(r==n){let o=e+n*this.width;const u=(n+1)*this.width;for(;o<u&&this.map[o]<i;)o++;return o==u?s-1:this.map[o]}i=s}}static get(n){return Vu(n)||Hu(n,d2(n))}};function d2(n){if(n.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+n.type.name);const e=h2(n),t=n.childCount,r=[];let i=0,s=null;const o=[];for(let l=0,c=e*t;l<c;l++)r[l]=0;for(let l=0,c=0;l<t;l++){const h=n.child(l);c++;for(let p=0;;p++){for(;i<r.length&&r[i]!=0;)i++;if(p==h.childCount)break;const g=h.child(p),{colspan:b,rowspan:m,colwidth:w}=g.attrs;for(let x=0;x<m;x++){if(x+l>=t){(s||(s=[])).push({type:"overlong_rowspan",pos:c,n:m-x});break}const y=i+x*e;for(let v=0;v<b;v++){r[y+v]==0?r[y+v]=c:(s||(s=[])).push({type:"collision",row:l,pos:c,n:b-v});const S=w&&w[v];if(S){const k=(y+v)%e*2,E=o[k];E==null||E!=S&&o[k+1]==1?(o[k]=S,o[k+1]=1):E==S&&o[k+1]++}}}i+=b,c+=g.nodeSize}const f=(l+1)*e;let d=0;for(;i<f;)r[i++]==0&&d++;d&&(s||(s=[])).push({type:"missing",row:l,n:d}),c++}(e===0||t===0)&&(s||(s=[])).push({type:"zero_sized"});const u=new Ee(e,t,r,s);let a=!1;for(let l=0;!a&&l<o.length;l+=2)o[l]!=null&&o[l+1]<t&&(a=!0);return a&&p2(u,o,n),u}function h2(n){let e=-1,t=!1;for(let r=0;r<n.childCount;r++){const i=n.child(r);let s=0;if(t)for(let o=0;o<r;o++){const u=n.child(o);for(let a=0;a<u.childCount;a++){const l=u.child(a);o+l.attrs.rowspan>r&&(s+=l.attrs.colspan)}}for(let o=0;o<i.childCount;o++){const u=i.child(o);s+=u.attrs.colspan,u.attrs.rowspan>1&&(t=!0)}e==-1?e=s:e!=s&&(e=Math.max(e,s))}return e}function p2(n,e,t){n.problems||(n.problems=[]);const r={};for(let i=0;i<n.map.length;i++){const s=n.map[i];if(r[s])continue;r[s]=!0;const o=t.nodeAt(s);if(!o)throw new RangeError(`No cell with offset ${s} found`);let u=null;const a=o.attrs;for(let l=0;l<a.colspan;l++){const c=e[(i+l)%n.width*2];c!=null&&(!a.colwidth||a.colwidth[l]!=c)&&((u||(u=m2(a)))[l]=c)}u&&n.problems.unshift({type:"colwidth mismatch",pos:s,colwidth:u})}}function m2(n){if(n.colwidth)return n.colwidth.slice();const e=[];for(let t=0;t<n.colspan;t++)e.push(0);return e}function at(n){let e=n.cached.tableNodeTypes;if(!e){e=n.cached.tableNodeTypes={};for(const t in n.nodes){const r=n.nodes[t],i=r.spec.tableRole;i&&(e[i]=r)}}return e}const On=new _t("selectingCells");function pr(n){for(let e=n.depth-1;e>0;e--)if(n.node(e).type.spec.tableRole=="row")return n.node(0).resolve(n.before(e+1));return null}function g2(n){for(let e=n.depth;e>0;e--){const t=n.node(e).type.spec.tableRole;if(t==="cell"||t==="header_cell")return n.node(e)}return null}function Jt(n){const e=n.selection.$head;for(let t=e.depth;t>0;t--)if(e.node(t).type.spec.tableRole=="row")return!0;return!1}function Qs(n){const e=n.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const t=pr(e.$head)||b2(e.$head);if(t)return t;throw new RangeError(`No cell found around position ${e.head}`)}function b2(n){for(let e=n.nodeAfter,t=n.pos;e;e=e.firstChild,t++){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return n.doc.resolve(t)}for(let e=n.nodeBefore,t=n.pos;e;e=e.lastChild,t--){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return n.doc.resolve(t-e.nodeSize)}}function Uu(n){return n.parent.type.spec.tableRole=="row"&&!!n.nodeAfter}function y2(n){return n.node(0).resolve(n.pos+n.nodeAfter.nodeSize)}function Ba(n,e){return n.depth==e.depth&&n.pos>=e.start(-1)&&n.pos<=e.end(-1)}function pp(n,e,t){const r=n.node(-1),i=Ee.get(r),s=n.start(-1),o=i.nextCell(n.pos-s,e,t);return o==null?null:n.node(0).resolve(s+o)}function mr(n,e,t=1){const r={...n,colspan:n.colspan-t};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,t),r.colwidth.some(i=>i>0)||(r.colwidth=null)),r}function mp(n,e,t=1){const r={...n,colspan:n.colspan+t};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let i=0;i<t;i++)r.colwidth.splice(e,0,0)}return r}function v2(n,e,t){const r=at(e.type.schema).header_cell;for(let i=0;i<n.height;i++)if(e.nodeAt(n.map[t+i*n.width]).type!=r)return!1;return!0}var Pe=class hn extends ge{constructor(e,t=e){const r=e.node(-1),i=Ee.get(r),s=e.start(-1),o=i.rectBetween(e.pos-s,t.pos-s),u=e.node(0),a=i.cellsInRect(o).filter(c=>c!=t.pos-s);a.unshift(t.pos-s);const l=a.map(c=>{const h=r.nodeAt(c);if(!h)throw new RangeError(`No cell with offset ${c} found`);const f=s+c+1;return new zd(u.resolve(f),u.resolve(f+h.content.size))});super(l[0].$from,l[0].$to,l),this.$anchorCell=e,this.$headCell=t}map(e,t){const r=e.resolve(t.map(this.$anchorCell.pos)),i=e.resolve(t.map(this.$headCell.pos));if(Uu(r)&&Uu(i)&&Ba(r,i)){const s=this.$anchorCell.node(-1)!=r.node(-1);return s&&this.isRowSelection()?hn.rowSelection(r,i):s&&this.isColSelection()?hn.colSelection(r,i):new hn(r,i)}return me.between(r,i)}content(){const e=this.$anchorCell.node(-1),t=Ee.get(e),r=this.$anchorCell.start(-1),i=t.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),s={},o=[];for(let a=i.top;a<i.bottom;a++){const l=[];for(let c=a*t.width+i.left,h=i.left;h<i.right;h++,c++){const f=t.map[c];if(s[f])continue;s[f]=!0;const d=t.findCell(f);let p=e.nodeAt(f);if(!p)throw new RangeError(`No cell with offset ${f} found`);const g=i.left-d.left,b=d.right-i.right;if(g>0||b>0){let m=p.attrs;if(g>0&&(m=mr(m,0,g)),b>0&&(m=mr(m,m.colspan-b,b)),d.left<i.left){if(p=p.type.createAndFill(m),!p)throw new RangeError(`Could not create cell with attrs ${JSON.stringify(m)}`)}else p=p.type.create(m,p.content)}if(d.top<i.top||d.bottom>i.bottom){const m={...p.attrs,rowspan:Math.min(d.bottom,i.bottom)-Math.max(d.top,i.top)};d.top<i.top?p=p.type.createAndFill(m):p=p.type.create(m,p.content)}l.push(p)}o.push(e.child(a).copy(L.from(l)))}const u=this.isColSelection()&&this.isRowSelection()?e:o;return new G(L.from(u),1,1)}replace(e,t=G.empty){const r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){const{$from:u,$to:a}=i[o],l=e.mapping.slice(r);e.replace(l.map(u.pos),l.map(a.pos),o?G.empty:t)}const s=ge.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);s&&e.setSelection(s)}replaceWith(e,t){this.replace(e,new G(L.from(t),0,0))}forEachCell(e){const t=this.$anchorCell.node(-1),r=Ee.get(t),i=this.$anchorCell.start(-1),s=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let o=0;o<s.length;o++)e(t.nodeAt(s[o]),i+s[o])}isColSelection(){const e=this.$anchorCell.index(-1),t=this.$headCell.index(-1);if(Math.min(e,t)>0)return!1;const r=e+this.$anchorCell.nodeAfter.attrs.rowspan,i=t+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,i)==this.$headCell.node(-1).childCount}static colSelection(e,t=e){const r=e.node(-1),i=Ee.get(r),s=e.start(-1),o=i.findCell(e.pos-s),u=i.findCell(t.pos-s),a=e.node(0);return o.top<=u.top?(o.top>0&&(e=a.resolve(s+i.map[o.left])),u.bottom<i.height&&(t=a.resolve(s+i.map[i.width*(i.height-1)+u.right-1]))):(u.top>0&&(t=a.resolve(s+i.map[u.left])),o.bottom<i.height&&(e=a.resolve(s+i.map[i.width*(i.height-1)+o.right-1]))),new hn(e,t)}isRowSelection(){const e=this.$anchorCell.node(-1),t=Ee.get(e),r=this.$anchorCell.start(-1),i=t.colCount(this.$anchorCell.pos-r),s=t.colCount(this.$headCell.pos-r);if(Math.min(i,s)>0)return!1;const o=i+this.$anchorCell.nodeAfter.attrs.colspan,u=s+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,u)==t.width}eq(e){return e instanceof hn&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,t=e){const r=e.node(-1),i=Ee.get(r),s=e.start(-1),o=i.findCell(e.pos-s),u=i.findCell(t.pos-s),a=e.node(0);return o.left<=u.left?(o.left>0&&(e=a.resolve(s+i.map[o.top*i.width])),u.right<i.width&&(t=a.resolve(s+i.map[i.width*(u.top+1)-1]))):(u.left>0&&(t=a.resolve(s+i.map[u.top*i.width])),o.right<i.width&&(e=a.resolve(s+i.map[i.width*(o.top+1)-1]))),new hn(e,t)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,t){return new hn(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){return new hn(e.resolve(t),e.resolve(r))}getBookmark(){return new x2(this.$anchorCell.pos,this.$headCell.pos)}};Pe.prototype.visible=!1;ge.jsonID("cell",Pe);var x2=class gp{constructor(e,t){this.anchor=e,this.head=t}map(e){return new gp(e.map(this.anchor),e.map(this.head))}resolve(e){const t=e.resolve(this.anchor),r=e.resolve(this.head);return t.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&t.index()<t.parent.childCount&&r.index()<r.parent.childCount&&Ba(t,r)?new Pe(t,r):ge.near(r,1)}};function w2(n){if(!(n.selection instanceof Pe))return null;const e=[];return n.selection.forEachCell((t,r)=>{e.push(mt.node(r,r+t.nodeSize,{class:"selectedCell"}))}),je.create(n.doc,e)}function S2({$from:n,$to:e}){if(n.pos==e.pos||n.pos<e.pos-6)return!1;let t=n.pos,r=e.pos,i=n.depth;for(;i>=0&&!(n.after(i+1)<n.end(i));i--,t++);for(let s=e.depth;s>=0&&!(e.before(s+1)>e.start(s));s--,r--);return t==r&&/row|table/.test(n.node(i).type.spec.tableRole)}function k2({$from:n,$to:e}){let t,r;for(let i=n.depth;i>0;i--){const s=n.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){t=s;break}}for(let i=e.depth;i>0;i--){const s=e.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){r=s;break}}return t!==r&&e.parentOffset===0}function C2(n,e,t){const r=(e||n).selection,i=(e||n).doc;let s,o;if(r instanceof se&&(o=r.node.type.spec.tableRole)){if(o=="cell"||o=="header_cell")s=Pe.create(i,r.from);else if(o=="row"){const u=i.resolve(r.from+1);s=Pe.rowSelection(u,u)}else if(!t){const u=Ee.get(r.node),a=r.from+1,l=a+u.map[u.width*u.height-1];s=Pe.create(i,a+1,l)}}else r instanceof me&&S2(r)?s=me.create(i,r.from):r instanceof me&&k2(r)&&(s=me.create(i,r.$from.start(),r.$from.end()));return s&&(e||(e=n.tr)).setSelection(s),e}const T2=new _t("fix-tables");function bp(n,e,t,r){const i=n.childCount,s=e.childCount;e:for(let o=0,u=0;o<s;o++){const a=e.child(o);for(let l=u,c=Math.min(i,o+3);l<c;l++)if(n.child(l)==a){u=l+1,t+=a.nodeSize;continue e}r(a,t),u<i&&n.child(u).sameMarkup(a)?bp(n.child(u),a,t+1,r):a.nodesBetween(0,a.content.size,r,t+1),t+=a.nodeSize}}function E2(n,e){let t;const r=(i,s)=>{i.type.spec.tableRole=="table"&&(t=O2(n,i,s,t))};return e?e.doc!=n.doc&&bp(e.doc,n.doc,0,r):n.doc.descendants(r),t}function O2(n,e,t,r){const i=Ee.get(e);if(!i.problems)return r;r||(r=n.tr);const s=[];for(let a=0;a<i.height;a++)s.push(0);for(let a=0;a<i.problems.length;a++){const l=i.problems[a];if(l.type=="collision"){const c=e.nodeAt(l.pos);if(!c)continue;const h=c.attrs;for(let f=0;f<h.rowspan;f++)s[l.row+f]+=l.n;r.setNodeMarkup(r.mapping.map(t+1+l.pos),null,mr(h,h.colspan-l.n,l.n))}else if(l.type=="missing")s[l.row]+=l.n;else if(l.type=="overlong_rowspan"){const c=e.nodeAt(l.pos);if(!c)continue;r.setNodeMarkup(r.mapping.map(t+1+l.pos),null,{...c.attrs,rowspan:c.attrs.rowspan-l.n})}else if(l.type=="colwidth mismatch"){const c=e.nodeAt(l.pos);if(!c)continue;r.setNodeMarkup(r.mapping.map(t+1+l.pos),null,{...c.attrs,colwidth:l.colwidth})}else if(l.type=="zero_sized"){const c=r.mapping.map(t);r.delete(c,c+e.nodeSize)}}let o,u;for(let a=0;a<s.length;a++)s[a]&&(o==null&&(o=a),u=a);for(let a=0,l=t+1;a<i.height;a++){const c=e.child(a),h=l+c.nodeSize,f=s[a];if(f>0){let d="cell";c.firstChild&&(d=c.firstChild.type.spec.tableRole);const p=[];for(let b=0;b<f;b++){const m=at(n.schema)[d].createAndFill();m&&p.push(m)}const g=(a==0||o==a-1)&&u==a?l+1:h-1;r.insert(r.mapping.map(g),p)}l=h}return r.setMeta(T2,{fixTables:!0})}function rn(n){const e=n.selection,t=Qs(n),r=t.node(-1),i=t.start(-1),s=Ee.get(r);return{...e instanceof Pe?s.rectBetween(e.$anchorCell.pos-i,e.$headCell.pos-i):s.findCell(t.pos-i),tableStart:i,map:s,table:r}}function yp(n,{map:e,tableStart:t,table:r},i){let s=i>0?-1:0;v2(e,r,i+s)&&(s=i==0||i==e.width?null:0);for(let o=0;o<e.height;o++){const u=o*e.width+i;if(i>0&&i<e.width&&e.map[u-1]==e.map[u]){const a=e.map[u],l=r.nodeAt(a);n.setNodeMarkup(n.mapping.map(t+a),null,mp(l.attrs,i-e.colCount(a))),o+=l.attrs.rowspan-1}else{const a=s==null?at(r.type.schema).cell:r.nodeAt(e.map[u+s]).type,l=e.positionAt(o,i,r);n.insert(n.mapping.map(t+l),a.createAndFill())}}return n}function Y3(n,e){if(!Jt(n))return!1;if(e){const t=rn(n);e(yp(n.tr,t,t.left))}return!0}function $3(n,e){if(!Jt(n))return!1;if(e){const t=rn(n);e(yp(n.tr,t,t.right))}return!0}function A2(n,{map:e,table:t,tableStart:r},i){const s=n.mapping.maps.length;for(let o=0;o<e.height;){const u=o*e.width+i,a=e.map[u],l=t.nodeAt(a),c=l.attrs;if(i>0&&e.map[u-1]==a||i<e.width-1&&e.map[u+1]==a)n.setNodeMarkup(n.mapping.slice(s).map(r+a),null,mr(c,i-e.colCount(a)));else{const h=n.mapping.slice(s).map(r+a);n.delete(h,h+l.nodeSize)}o+=c.rowspan}}function Q3(n,e){if(!Jt(n))return!1;if(e){const t=rn(n),r=n.tr;if(t.left==0&&t.right==t.map.width)return!1;for(let i=t.right-1;A2(r,t,i),i!=t.left;i--){const s=t.tableStart?r.doc.nodeAt(t.tableStart-1):r.doc;if(!s)throw new RangeError("No table found");t.table=s,t.map=Ee.get(s)}e(r)}return!0}function M2(n,e,t){var r;const i=at(e.type.schema).header_cell;for(let s=0;s<n.width;s++)if(((r=e.nodeAt(n.map[s+t*n.width]))===null||r===void 0?void 0:r.type)!=i)return!1;return!0}function vp(n,{map:e,tableStart:t,table:r},i){let s=t;for(let l=0;l<i;l++)s+=r.child(l).nodeSize;const o=[];let u=i>0?-1:0;M2(e,r,i+u)&&(u=i==0||i==e.height?null:0);for(let l=0,c=e.width*i;l<e.width;l++,c++)if(i>0&&i<e.height&&e.map[c]==e.map[c-e.width]){const h=e.map[c],f=r.nodeAt(h).attrs;n.setNodeMarkup(t+h,null,{...f,rowspan:f.rowspan+1}),l+=f.colspan-1}else{var a;const h=u==null?at(r.type.schema).cell:(a=r.nodeAt(e.map[c+u*e.width]))===null||a===void 0?void 0:a.type,f=h?.createAndFill();f&&o.push(f)}return n.insert(s,at(r.type.schema).row.create(null,o)),n}function Z3(n,e){if(!Jt(n))return!1;if(e){const t=rn(n);e(vp(n.tr,t,t.top))}return!0}function ew(n,e){if(!Jt(n))return!1;if(e){const t=rn(n);e(vp(n.tr,t,t.bottom))}return!0}function N2(n,{map:e,table:t,tableStart:r},i){let s=0;for(let l=0;l<i;l++)s+=t.child(l).nodeSize;const o=s+t.child(i).nodeSize,u=n.mapping.maps.length;n.delete(s+r,o+r);const a=new Set;for(let l=0,c=i*e.width;l<e.width;l++,c++){const h=e.map[c];if(!a.has(h)){if(a.add(h),i>0&&h==e.map[c-e.width]){const f=t.nodeAt(h).attrs;n.setNodeMarkup(n.mapping.slice(u).map(h+r),null,{...f,rowspan:f.rowspan-1}),l+=f.colspan-1}else if(i<e.height&&h==e.map[c+e.width]){const f=t.nodeAt(h),d=f.attrs,p=f.type.create({...d,rowspan:f.attrs.rowspan-1},f.content),g=e.positionAt(i+1,l,t);n.insert(n.mapping.slice(u).map(r+g),p),l+=d.colspan-1}}}}function tw(n,e){if(!Jt(n))return!1;if(e){const t=rn(n),r=n.tr;if(t.top==0&&t.bottom==t.map.height)return!1;for(let i=t.bottom-1;N2(r,t,i),i!=t.top;i--){const s=t.tableStart?r.doc.nodeAt(t.tableStart-1):r.doc;if(!s)throw new RangeError("No table found");t.table=s,t.map=Ee.get(t.table)}e(r)}return!0}function Mf(n){const e=n.content;return e.childCount==1&&e.child(0).isTextblock&&e.child(0).childCount==0}function D2({width:n,height:e,map:t},r){let i=r.top*n+r.left,s=i,o=(r.bottom-1)*n+r.left,u=i+(r.right-r.left-1);for(let a=r.top;a<r.bottom;a++){if(r.left>0&&t[s]==t[s-1]||r.right<n&&t[u]==t[u+1])return!0;s+=n,u+=n}for(let a=r.left;a<r.right;a++){if(r.top>0&&t[i]==t[i-n]||r.bottom<e&&t[o]==t[o+n])return!0;i++,o++}return!1}function nw(n,e){const t=n.selection;if(!(t instanceof Pe)||t.$anchorCell.pos==t.$headCell.pos)return!1;const r=rn(n),{map:i}=r;if(D2(i,r))return!1;if(e){const s=n.tr,o={};let u=L.empty,a,l;for(let c=r.top;c<r.bottom;c++)for(let h=r.left;h<r.right;h++){const f=i.map[c*i.width+h],d=r.table.nodeAt(f);if(!(o[f]||!d))if(o[f]=!0,a==null)a=f,l=d;else{Mf(d)||(u=u.append(d.content));const p=s.mapping.map(f+r.tableStart);s.delete(p,p+d.nodeSize)}}if(a==null||l==null)return!0;if(s.setNodeMarkup(a+r.tableStart,null,{...mp(l.attrs,l.attrs.colspan,r.right-r.left-l.attrs.colspan),rowspan:r.bottom-r.top}),u.size>0){const c=a+1+l.content.size,h=Mf(l)?a+1:c;s.replaceWith(h+r.tableStart,c+r.tableStart,u)}s.setSelection(new Pe(s.doc.resolve(a+r.tableStart))),e(s)}return!0}function rw(n,e){const t=at(n.schema);return I2(({node:r})=>t[r.type.spec.tableRole])(n,e)}function I2(n){return(e,t)=>{const r=e.selection;let i,s;if(r instanceof Pe){if(r.$anchorCell.pos!=r.$headCell.pos)return!1;i=r.$anchorCell.nodeAfter,s=r.$anchorCell.pos}else{var o;if(i=g2(r.$from),!i)return!1;s=(o=pr(r.$from))===null||o===void 0?void 0:o.pos}if(i==null||s==null||i.attrs.colspan==1&&i.attrs.rowspan==1)return!1;if(t){let u=i.attrs;const a=[],l=u.colwidth;u.rowspan>1&&(u={...u,rowspan:1}),u.colspan>1&&(u={...u,colspan:1});const c=rn(e),h=e.tr;for(let d=0;d<c.right-c.left;d++)a.push(l?{...u,colwidth:l&&l[d]?[l[d]]:null}:u);let f;for(let d=c.top;d<c.bottom;d++){let p=c.map.positionAt(d,c.left,c.table);d==c.top&&(p+=i.nodeSize);for(let g=c.left,b=0;g<c.right;g++,b++)g==c.left&&d==c.top||h.insert(f=h.mapping.map(p+c.tableStart,1),n({node:i,row:d,col:g}).createAndFill(a[b]))}h.setNodeMarkup(s,n({node:i,row:c.top,col:c.left}),a[0]),r instanceof Pe&&h.setSelection(new Pe(h.doc.resolve(r.$anchorCell.pos),f?h.doc.resolve(f):void 0)),t(h)}return!0}}function iw(n,e){return function(t,r){if(!Jt(t))return!1;const i=Qs(t);if(i.nodeAfter.attrs[n]===e)return!1;if(r){const s=t.tr;t.selection instanceof Pe?t.selection.forEachCell((o,u)=>{o.attrs[n]!==e&&s.setNodeMarkup(u,null,{...o.attrs,[n]:e})}):s.setNodeMarkup(i.pos,null,{...i.nodeAfter.attrs,[n]:e}),r(s)}return!0}}function R2(n){return function(e,t){if(!Jt(e))return!1;if(t){const r=at(e.schema),i=rn(e),s=e.tr,o=i.map.cellsInRect(n=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:n=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),u=o.map(a=>i.table.nodeAt(a));for(let a=0;a<o.length;a++)u[a].type==r.header_cell&&s.setNodeMarkup(i.tableStart+o[a],r.cell,u[a].attrs);if(s.steps.length===0)for(let a=0;a<o.length;a++)s.setNodeMarkup(i.tableStart+o[a],r.header_cell,u[a].attrs);t(s)}return!0}}function Nf(n,e,t){const r=e.map.cellsInRect({left:0,top:0,right:n=="row"?e.map.width:1,bottom:n=="column"?e.map.height:1});for(let i=0;i<r.length;i++){const s=e.table.nodeAt(r[i]);if(s&&s.type!==t.header_cell)return!1}return!0}function qa(n,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?R2(n):function(t,r){if(!Jt(t))return!1;if(r){const i=at(t.schema),s=rn(t),o=t.tr,u=Nf("row",s,i),a=Nf("column",s,i),l=(n==="column"?u:n==="row"&&a)?1:0,c=n=="column"?{left:0,top:l,right:1,bottom:s.map.height}:n=="row"?{left:l,top:0,right:s.map.width,bottom:1}:s,h=n=="column"?a?i.cell:i.header_cell:n=="row"?u?i.cell:i.header_cell:i.cell;s.map.cellsInRect(c).forEach(f=>{const d=f+s.tableStart,p=o.doc.nodeAt(d);p&&o.setNodeMarkup(d,h,p.attrs)}),r(o)}return!0}}qa("row",{useDeprecatedLogic:!0});qa("column",{useDeprecatedLogic:!0});const sw=qa("cell",{useDeprecatedLogic:!0});function P2(n,e){if(e<0){const t=n.nodeBefore;if(t)return n.pos-t.nodeSize;for(let r=n.index(-1)-1,i=n.before();r>=0;r--){const s=n.node(-1).child(r),o=s.lastChild;if(o)return i-1-o.nodeSize;i-=s.nodeSize}}else{if(n.index()<n.parent.childCount-1)return n.pos+n.nodeAfter.nodeSize;const t=n.node(-1);for(let r=n.indexAfter(-1),i=n.after();r<t.childCount;r++){const s=t.child(r);if(s.childCount)return i+1;i+=s.nodeSize}}return null}function ow(n){return function(e,t){if(!Jt(e))return!1;const r=P2(Qs(e),n);if(r==null)return!1;if(t){const i=e.doc.resolve(r);t(e.tr.setSelection(me.between(i,y2(i))).scrollIntoView())}return!0}}function uw(n,e){const t=n.selection.$anchor;for(let r=t.depth;r>0;r--)if(t.node(r).type.spec.tableRole=="table")return e&&e(n.tr.delete(t.before(r),t.after(r)).scrollIntoView()),!0;return!1}function Ji(n,e){const t=n.selection;if(!(t instanceof Pe))return!1;if(e){const r=n.tr,i=at(n.schema).cell.createAndFill().content;t.forEachCell((s,o)=>{s.content.eq(i)||r.replace(r.mapping.map(o+1),r.mapping.map(o+s.nodeSize-1),new G(i,0,0))}),r.docChanged&&e(r)}return!0}function _2(n){if(n.size===0)return null;let{content:e,openStart:t,openEnd:r}=n;for(;e.childCount==1&&(t>0&&r>0||e.child(0).type.spec.tableRole=="table");)t--,r--,e=e.child(0).content;const i=e.child(0),s=i.type.spec.tableRole,o=i.type.schema,u=[];if(s=="row")for(let a=0;a<e.childCount;a++){let l=e.child(a).content;const c=a?0:Math.max(0,t-1),h=a<e.childCount-1?0:Math.max(0,r-1);(c||h)&&(l=Wu(at(o).row,new G(l,c,h)).content),u.push(l)}else if(s=="cell"||s=="header_cell")u.push(t||r?Wu(at(o).row,new G(e,t,r)).content:e);else return null;return L2(o,u)}function L2(n,e){const t=[];for(let i=0;i<e.length;i++){const s=e[i];for(let o=s.childCount-1;o>=0;o--){const{rowspan:u,colspan:a}=s.child(o).attrs;for(let l=i;l<i+u;l++)t[l]=(t[l]||0)+a}}let r=0;for(let i=0;i<t.length;i++)r=Math.max(r,t[i]);for(let i=0;i<t.length;i++)if(i>=e.length&&e.push(L.empty),t[i]<r){const s=at(n).cell.createAndFill(),o=[];for(let u=t[i];u<r;u++)o.push(s);e[i]=e[i].append(L.from(o))}return{height:e.length,width:r,rows:e}}function Wu(n,e){const t=n.createAndFill();return new la(t).replace(0,t.content.size,e).doc}function B2({width:n,height:e,rows:t},r,i){if(n!=r){const s=[],o=[];for(let u=0;u<t.length;u++){const a=t[u],l=[];for(let c=s[u]||0,h=0;c<r;h++){let f=a.child(h%a.childCount);c+f.attrs.colspan>r&&(f=f.type.createChecked(mr(f.attrs,f.attrs.colspan,c+f.attrs.colspan-r),f.content)),l.push(f),c+=f.attrs.colspan;for(let d=1;d<f.attrs.rowspan;d++)s[u+d]=(s[u+d]||0)+f.attrs.colspan}o.push(L.from(l))}t=o,n=r}if(e!=i){const s=[];for(let o=0,u=0;o<i;o++,u++){const a=[],l=t[u%e];for(let c=0;c<l.childCount;c++){let h=l.child(c);o+h.attrs.rowspan>i&&(h=h.type.create({...h.attrs,rowspan:Math.max(1,i-h.attrs.rowspan)},h.content)),a.push(h)}s.push(L.from(a))}t=s,e=i}return{width:n,height:e,rows:t}}function q2(n,e,t,r,i,s,o){const u=n.doc.type.schema,a=at(u);let l,c;if(i>e.width)for(let h=0,f=0;h<e.height;h++){const d=t.child(h);f+=d.nodeSize;const p=[];let g;d.lastChild==null||d.lastChild.type==a.cell?g=l||(l=a.cell.createAndFill()):g=c||(c=a.header_cell.createAndFill());for(let b=e.width;b<i;b++)p.push(g);n.insert(n.mapping.slice(o).map(f-1+r),p)}if(s>e.height){const h=[];for(let p=0,g=(e.height-1)*e.width;p<Math.max(e.width,i);p++){const b=p>=e.width?!1:t.nodeAt(e.map[g+p]).type==a.header_cell;h.push(b?c||(c=a.header_cell.createAndFill()):l||(l=a.cell.createAndFill()))}const f=a.row.create(null,L.from(h)),d=[];for(let p=e.height;p<s;p++)d.push(f);n.insert(n.mapping.slice(o).map(r+t.nodeSize-2),d)}return!!(l||c)}function Df(n,e,t,r,i,s,o,u){if(o==0||o==e.height)return!1;let a=!1;for(let l=i;l<s;l++){const c=o*e.width+l,h=e.map[c];if(e.map[c-e.width]==h){a=!0;const f=t.nodeAt(h),{top:d,left:p}=e.findCell(h);n.setNodeMarkup(n.mapping.slice(u).map(h+r),null,{...f.attrs,rowspan:o-d}),n.insert(n.mapping.slice(u).map(e.positionAt(o,p,t)),f.type.createAndFill({...f.attrs,rowspan:d+f.attrs.rowspan-o})),l+=f.attrs.colspan-1}}return a}function If(n,e,t,r,i,s,o,u){if(o==0||o==e.width)return!1;let a=!1;for(let l=i;l<s;l++){const c=l*e.width+o,h=e.map[c];if(e.map[c-1]==h){a=!0;const f=t.nodeAt(h),d=e.colCount(h),p=n.mapping.slice(u).map(h+r);n.setNodeMarkup(p,null,mr(f.attrs,o-d,f.attrs.colspan-(o-d))),n.insert(p+f.nodeSize,f.type.createAndFill(mr(f.attrs,0,o-d))),l+=f.attrs.rowspan-1}}return a}function Rf(n,e,t,r,i){let s=t?n.doc.nodeAt(t-1):n.doc;if(!s)throw new Error("No table found");let o=Ee.get(s);const{top:u,left:a}=r,l=a+i.width,c=u+i.height,h=n.tr;let f=0;function d(){if(s=t?h.doc.nodeAt(t-1):h.doc,!s)throw new Error("No table found");o=Ee.get(s),f=h.mapping.maps.length}q2(h,o,s,t,l,c,f)&&d(),Df(h,o,s,t,a,l,u,f)&&d(),Df(h,o,s,t,a,l,c,f)&&d(),If(h,o,s,t,u,c,a,f)&&d(),If(h,o,s,t,u,c,l,f)&&d();for(let p=u;p<c;p++){const g=o.positionAt(p,a,s),b=o.positionAt(p,l,s);h.replace(h.mapping.slice(f).map(g+t),h.mapping.slice(f).map(b+t),new G(i.rows[p-u],0,0))}d(),h.setSelection(new Pe(h.doc.resolve(t+o.positionAt(u,a,s)),h.doc.resolve(t+o.positionAt(c-1,l-1,s)))),e(h)}const z2=kh({ArrowLeft:Gi("horiz",-1),ArrowRight:Gi("horiz",1),ArrowUp:Gi("vert",-1),ArrowDown:Gi("vert",1),"Shift-ArrowLeft":Ki("horiz",-1),"Shift-ArrowRight":Ki("horiz",1),"Shift-ArrowUp":Ki("vert",-1),"Shift-ArrowDown":Ki("vert",1),Backspace:Ji,"Mod-Backspace":Ji,Delete:Ji,"Mod-Delete":Ji});function ss(n,e,t){return t.eq(n.selection)?!1:(e&&e(n.tr.setSelection(t).scrollIntoView()),!0)}function Gi(n,e){return(t,r,i)=>{if(!i)return!1;const s=t.selection;if(s instanceof Pe)return ss(t,r,ge.near(s.$headCell,e));if(n!="horiz"&&!s.empty)return!1;const o=xp(i,n,e);if(o==null)return!1;if(n=="horiz")return ss(t,r,ge.near(t.doc.resolve(s.head+e),e));{const u=t.doc.resolve(o),a=pp(u,n,e);let l;return a?l=ge.near(a,1):e<0?l=ge.near(t.doc.resolve(u.before(-1)),-1):l=ge.near(t.doc.resolve(u.after(-1)),1),ss(t,r,l)}}}function Ki(n,e){return(t,r,i)=>{if(!i)return!1;const s=t.selection;let o;if(s instanceof Pe)o=s;else{const a=xp(i,n,e);if(a==null)return!1;o=new Pe(t.doc.resolve(a))}const u=pp(o.$headCell,n,e);return u?ss(t,r,new Pe(o.$anchorCell,u)):!1}}function F2(n,e){const t=n.state.doc,r=pr(t.resolve(e));return r?(n.dispatch(n.state.tr.setSelection(new Pe(r))),!0):!1}function j2(n,e,t){if(!Jt(n.state))return!1;let r=_2(t);const i=n.state.selection;if(i instanceof Pe){r||(r={width:1,height:1,rows:[L.from(Wu(at(n.state.schema).cell,t))]});const s=i.$anchorCell.node(-1),o=i.$anchorCell.start(-1),u=Ee.get(s).rectBetween(i.$anchorCell.pos-o,i.$headCell.pos-o);return r=B2(r,u.right-u.left,u.bottom-u.top),Rf(n.state,n.dispatch,o,u,r),!0}else if(r){const s=Qs(n.state),o=s.start(-1);return Rf(n.state,n.dispatch,o,Ee.get(s.node(-1)).findCell(s.pos-o),r),!0}else return!1}function V2(n,e){var t;if(e.button!=0||e.ctrlKey||e.metaKey)return;const r=Pf(n,e.target);let i;if(e.shiftKey&&n.state.selection instanceof Pe)s(n.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&r&&(i=pr(n.state.selection.$anchor))!=null&&((t=fu(n,e))===null||t===void 0?void 0:t.pos)!=i.pos)s(i,e),e.preventDefault();else if(!r)return;function s(a,l){let c=fu(n,l);const h=On.getState(n.state)==null;if(!c||!Ba(a,c))if(h)c=a;else return;const f=new Pe(a,c);if(h||!n.state.selection.eq(f)){const d=n.state.tr.setSelection(f);h&&d.setMeta(On,a.pos),n.dispatch(d)}}function o(){n.root.removeEventListener("mouseup",o),n.root.removeEventListener("dragstart",o),n.root.removeEventListener("mousemove",u),On.getState(n.state)!=null&&n.dispatch(n.state.tr.setMeta(On,-1))}function u(a){const l=a,c=On.getState(n.state);let h;if(c!=null)h=n.state.doc.resolve(c);else if(Pf(n,l.target)!=r&&(h=fu(n,e),!h))return o();h&&s(h,l)}n.root.addEventListener("mouseup",o),n.root.addEventListener("dragstart",o),n.root.addEventListener("mousemove",u)}function xp(n,e,t){if(!(n.state.selection instanceof me))return null;const{$head:r}=n.state.selection;for(let i=r.depth-1;i>=0;i--){const s=r.node(i);if((t<0?r.index(i):r.indexAfter(i))!=(t<0?0:s.childCount))return null;if(s.type.spec.tableRole=="cell"||s.type.spec.tableRole=="header_cell"){const o=r.before(i),u=e=="vert"?t>0?"down":"up":t>0?"right":"left";return n.endOfTextblock(u)?o:null}}return null}function Pf(n,e){for(;e&&e!=n.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function fu(n,e){const t=n.posAtCoords({left:e.clientX,top:e.clientY});if(!t)return null;let{inside:r,pos:i}=t;return r>=0&&pr(n.state.doc.resolve(r))||pr(n.state.doc.resolve(i))}var H2=class{constructor(n,e){this.node=n,this.defaultCellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${e}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Ju(n,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(n){return n.type!=this.node.type?!1:(this.node=n,Ju(n,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(n){return n.type=="attributes"&&(n.target==this.table||this.colgroup.contains(n.target))}};function Ju(n,e,t,r,i,s){let o=0,u=!0,a=e.firstChild;const l=n.firstChild;if(l){for(let h=0,f=0;h<l.childCount;h++){const{colspan:d,colwidth:p}=l.child(h).attrs;for(let g=0;g<d;g++,f++){const b=i==f?s:p&&p[g],m=b?b+"px":"";if(o+=b||r,b||(u=!1),a)a.style.width!=m&&(a.style.width=m),a=a.nextSibling;else{const w=document.createElement("col");w.style.width=m,e.appendChild(w)}}}for(;a;){var c;const h=a.nextSibling;(c=a.parentNode)===null||c===void 0||c.removeChild(a),a=h}u?(t.style.width=o+"px",t.style.minWidth=""):(t.style.width="",t.style.minWidth=o+"px")}}const xt=new _t("tableColumnResizing");function aw({handleWidth:n=5,cellMinWidth:e=25,defaultCellMinWidth:t=100,View:r=H2,lastColumnResizable:i=!0}={}){const s=new ht({key:xt,state:{init(o,u){var a;const l=(a=s.spec)===null||a===void 0||(a=a.props)===null||a===void 0?void 0:a.nodeViews,c=at(u.schema).table.name;return r&&l&&(l[c]=(h,f)=>new r(h,t,f)),new U2(-1,!1)},apply(o,u){return u.apply(o)}},props:{attributes:o=>{const u=xt.getState(o);return u&&u.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(o,u)=>{W2(o,u,n,i)},mouseleave:o=>{J2(o)},mousedown:(o,u)=>{G2(o,u,e,t)}},decorations:o=>{const u=xt.getState(o);if(u&&u.activeHandle>-1)return Q2(o,u.activeHandle)},nodeViews:{}}});return s}var U2=class us{constructor(e,t){this.activeHandle=e,this.dragging=t}apply(e){const t=this,r=e.getMeta(xt);if(r&&r.setHandle!=null)return new us(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new us(t.activeHandle,r.setDragging);if(t.activeHandle>-1&&e.docChanged){let i=e.mapping.map(t.activeHandle,-1);return Uu(e.doc.resolve(i))||(i=-1),new us(i,t.dragging)}return t}};function W2(n,e,t,r){if(!n.editable)return;const i=xt.getState(n.state);if(i&&!i.dragging){const s=X2(e.target);let o=-1;if(s){const{left:u,right:a}=s.getBoundingClientRect();e.clientX-u<=t?o=_f(n,e,"left",t):a-e.clientX<=t&&(o=_f(n,e,"right",t))}if(o!=i.activeHandle){if(!r&&o!==-1){const u=n.state.doc.resolve(o),a=u.node(-1),l=Ee.get(a),c=u.start(-1);if(l.colCount(u.pos-c)+u.nodeAfter.attrs.colspan-1==l.width-1)return}wp(n,o)}}}function J2(n){if(!n.editable)return;const e=xt.getState(n.state);e&&e.activeHandle>-1&&!e.dragging&&wp(n,-1)}function G2(n,e,t,r){var i;if(!n.editable)return!1;const s=(i=n.dom.ownerDocument.defaultView)!==null&&i!==void 0?i:window,o=xt.getState(n.state);if(!o||o.activeHandle==-1||o.dragging)return!1;const u=n.state.doc.nodeAt(o.activeHandle),a=K2(n,o.activeHandle,u.attrs);n.dispatch(n.state.tr.setMeta(xt,{setDragging:{startX:e.clientX,startWidth:a}}));function l(h){s.removeEventListener("mouseup",l),s.removeEventListener("mousemove",c);const f=xt.getState(n.state);f?.dragging&&(Y2(n,f.activeHandle,Lf(f.dragging,h,t)),n.dispatch(n.state.tr.setMeta(xt,{setDragging:null})))}function c(h){if(!h.which)return l(h);const f=xt.getState(n.state);if(f&&f.dragging){const d=Lf(f.dragging,h,t);Bf(n,f.activeHandle,d,r)}}return Bf(n,o.activeHandle,a,r),s.addEventListener("mouseup",l),s.addEventListener("mousemove",c),e.preventDefault(),!0}function K2(n,e,{colspan:t,colwidth:r}){const i=r&&r[r.length-1];if(i)return i;const s=n.domAtPos(e);let o=s.node.childNodes[s.offset].offsetWidth,u=t;if(r)for(let a=0;a<t;a++)r[a]&&(o-=r[a],u--);return o/u}function X2(n){for(;n&&n.nodeName!="TD"&&n.nodeName!="TH";)n=n.classList&&n.classList.contains("ProseMirror")?null:n.parentNode;return n}function _f(n,e,t,r){const i=t=="right"?-r:r,s=n.posAtCoords({left:e.clientX+i,top:e.clientY});if(!s)return-1;const{pos:o}=s,u=pr(n.state.doc.resolve(o));if(!u)return-1;if(t=="right")return u.pos;const a=Ee.get(u.node(-1)),l=u.start(-1),c=a.map.indexOf(u.pos-l);return c%a.width==0?-1:l+a.map[c-1]}function Lf(n,e,t){const r=e.clientX-n.startX;return Math.max(t,n.startWidth+r)}function wp(n,e){n.dispatch(n.state.tr.setMeta(xt,{setHandle:e}))}function Y2(n,e,t){const r=n.state.doc.resolve(e),i=r.node(-1),s=Ee.get(i),o=r.start(-1),u=s.colCount(r.pos-o)+r.nodeAfter.attrs.colspan-1,a=n.state.tr;for(let l=0;l<s.height;l++){const c=l*s.width+u;if(l&&s.map[c]==s.map[c-s.width])continue;const h=s.map[c],f=i.nodeAt(h).attrs,d=f.colspan==1?0:u-s.colCount(h);if(f.colwidth&&f.colwidth[d]==t)continue;const p=f.colwidth?f.colwidth.slice():$2(f.colspan);p[d]=t,a.setNodeMarkup(o+h,null,{...f,colwidth:p})}a.docChanged&&n.dispatch(a)}function Bf(n,e,t,r){const i=n.state.doc.resolve(e),s=i.node(-1),o=i.start(-1),u=Ee.get(s).colCount(i.pos-o)+i.nodeAfter.attrs.colspan-1;let a=n.domAtPos(i.start(-1)).node;for(;a&&a.nodeName!="TABLE";)a=a.parentNode;a&&Ju(s,a.firstChild,a,r,u,t)}function $2(n){return Array(n).fill(0)}function Q2(n,e){const t=[],r=n.doc.resolve(e),i=r.node(-1);if(!i)return je.empty;const s=Ee.get(i),o=r.start(-1),u=s.colCount(r.pos-o)+r.nodeAfter.attrs.colspan-1;for(let l=0;l<s.height;l++){const c=u+l*s.width;if((u==s.width-1||s.map[c]!=s.map[c+1])&&(l==0||s.map[c]!=s.map[c-s.width])){var a;const h=s.map[c],f=o+h+i.nodeAt(h).nodeSize-1,d=document.createElement("div");d.className="column-resize-handle",!((a=xt.getState(n))===null||a===void 0)&&a.dragging&&t.push(mt.node(o+h,o+h+i.nodeAt(h).nodeSize,{class:"column-resize-dragging"})),t.push(mt.widget(f,d))}}return je.create(n.doc,t)}function lw({allowTableNodeSelection:n=!1}={}){return new ht({key:On,state:{init(){return null},apply(e,t){const r=e.getMeta(On);if(r!=null)return r==-1?null:r;if(t==null||!e.docChanged)return t;const{deleted:i,pos:s}=e.mapping.mapResult(t);return i?null:s}},props:{decorations:w2,handleDOMEvents:{mousedown:V2},createSelectionBetween(e){return On.getState(e.state)!=null?e.state.selection:null},handleTripleClick:F2,handleKeyDown:z2,handlePaste:j2},appendTransaction(e,t,r){return C2(r,E2(r,t),n)}})}const za=n=>e=>{const t=Ee.get(e.$anchorCell.node(-1)),r=e.$anchorCell.start(-1),i=t.cellsInRect(n),s=t.cellsInRect(t.rectBetween(e.$anchorCell.pos-r,e.$headCell.pos-r));for(let o=0,u=i.length;o<u;o++)if(s.indexOf(i[o])===-1)return!1;return!0},Zs=n=>Xs(e=>e.type.spec.tableRole&&e.type.spec.tableRole==="table")(n),eo=n=>n instanceof Pe,Z2=n=>{if(eo(n)){const e=Ee.get(n.$anchorCell.node(-1)),t=n.$anchorCell.start(-1);return e.cellsInRect(e.rectBetween(n.$anchorCell.pos-t,n.$headCell.pos-t))}return!1},ex=n=>e=>{if(eo(e)){const t=Ee.get(e.$anchorCell.node(-1));return za({left:n,right:n+1,top:0,bottom:t.height})(e)}return!1},tx=n=>e=>{if(eo(e)){const t=Ee.get(e.$anchorCell.node(-1));return za({left:0,right:t.width,top:n,bottom:n+1})(e)}return!1},nx=n=>{if(eo(n)){const e=Ee.get(n.$anchorCell.node(-1));return za({left:0,right:e.width,top:0,bottom:e.height})(n)}return!1},cw=n=>e=>{const t=Zs(e);if(t){const r=Ee.get(t.node);return(Array.isArray(n)?n:Array.from([n])).reduce((s,o)=>{if(o>=0&&o<=r.width-1){const u=r.cellsInRect({left:o,right:o+1,top:0,bottom:r.height});return s.concat(u.map(a=>{const l=t.node.nodeAt(a),c=a+t.start;return{pos:c,start:c+1,node:l}}))}return s},[])}},fw=n=>e=>{const t=Zs(e);if(t){const r=Ee.get(t.node);return(Array.isArray(n)?n:Array.from([n])).reduce((s,o)=>{if(o>=0&&o<=r.height-1){const u=r.cellsInRect({left:0,right:r.width,top:o,bottom:o+1});return s.concat(u.map(a=>{const l=t.node.nodeAt(a),c=a+t.start;return{pos:c,start:c+1,node:l}}))}return s},[])}},Sp=n=>e=>t=>{const r=Zs(t.selection),i=n==="row";if(r){const s=Ee.get(r.node);if(e>=0&&e<(i?s.height:s.width)){const o=i?0:e,u=i?e:0,a=i?s.width:e+1,l=i?e+1:s.height,c=s.cellsInRect({left:o,top:u,right:i?a:o+1,bottom:i?u+1:l}),h=l-u===1?c:s.cellsInRect({left:i?o:a-1,top:i?l-1:u,right:a,bottom:l}),f=r.start+c[0],d=r.start+h[h.length-1],p=t.doc.resolve(f),g=t.doc.resolve(d);return t.setSelection(new Pe(g,p))}}return t},dw=Sp("column"),hw=Sp("row"),pw=n=>{const e=Zs(n.selection);if(e){const{map:t}=Ee.get(e.node);if(t&&t.length){const r=e.start+t[0],i=e.start+t[t.length-1],s=n.doc.resolve(r),o=n.doc.resolve(i);return n.setSelection(new Pe(o,s))}}return n},rx=({editor:n})=>{const{selection:e}=n.state;if(!e||!e.$anchorCell)return!1;if(nx(e))return n.commands.deleteTable();const{height:t,width:r}=Ee.get(e.$anchorCell.node(-1));for(let i=r-1;i>=0;i--)if(ex(i)(e))return n.commands.deleteColumn(),!0;for(let i=t-1;i>=0;i--)if(tx(i)(e))return n.commands.deleteRow(),!0;return!1},du=(n,e,t,r)=>{n.some(i=>i.from===e&&i.to===t)||n.push({from:e,to:t,text:r})},ix=(n,e)=>{const t=[],{selection:r}=n;if(r instanceof se&&r.node.type===e&&du(t,r.from,r.to,r.node.textContent),r.$from.parent.type===e){const i=r.$from.depth,s=r.$from.before(i),o=r.$from.after(i);du(t,s,o,r.$from.parent.textContent)}return n.doc.nodesBetween(r.from,r.to,(i,s)=>{if(i.type===e)return du(t,s,s+i.nodeSize,i.textContent),!1}),t},sx=({state:n,tr:e},t)=>{const r=ix(n,t);if(!r.length)return!1;for(const{from:i,to:s,text:o}of r.sort((u,a)=>a.from-u.from)){if(!o.length){e.delete(i,s);continue}e.replaceWith(i,s,n.schema.text(o))}return!0},ox=({state:n,tr:e},t)=>{const{selection:r}=n;if(r.empty)return!1;const i=[];if(n.doc.nodesBetween(r.from,r.to,(s,o)=>{if(!s.isTextblock)return;const u=o+1,a=o+s.nodeSize-1,l=Math.max(r.from,u),c=Math.min(r.to,a);if(l>=c)return;const h=n.doc.textBetween(l,c,"");h.length&&i.push({from:l,to:c,text:h})}),!i.length)return!1;for(const{from:s,to:o,text:u}of i.sort((a,l)=>l.from-a.from)){const a=t.create(null,n.schema.text(u));e.replaceWith(s,o,a)}return!0};function ux(n){n.chain().command(e=>{const t=e.state.schema.nodes.math_inline;return!t||e.state.selection.empty?!1:sx(e,t)?!0:ox(e,t)}).run()}const as={target:["en","en-US","en-GB"],lang:"en",country:"US",text:"Text",block:"Block",loading:"Loading...",delete:"Delete",close:"Close",cancel:"Cancel",insert:"Insert",noResult:"No result",default:"default",auto:"auto",title:"Title",paragraph:"Paragraph",link:"Link",alignLeft:"Align left",alignCenter:"Align center",alignRight:"Align right",alignJustify:"Align justify",unorderedList:"Unordered list",numberList:"Number list",codeBlock:"Code block",mathBlock:"Math block",table:"Table",image:"Image",iframe:"iframe",youtube:"Youtube",blockquote:"Blockquote",title1Info:"Big title",title2Info:"Smaller title",title3Info:"Medium title",unorderedListInfo:"Unordered list",numberListInfo:"1, 2, 3, 4",codeBlockInfo:"Code block with syntax highlighting",mathBlockInfo:"Math block",tableInfo:"Table",imageInfo:"Image",iframeInfo:"Embed another website",youtubeInfo:"Embed Youtube video",blockquoteInfo:"Blockquote",newLineInfo:"Press / to enter commands. Or",placeholder:"Enter content here...",insertCode:"Insert code"},ax={target:["ko","ko-KR"],lang:"ko",country:"KR",text:"í…ìŠ¤íŠ¸",block:"ë¸”ë¡",loading:"ë¡œë”© ì¤‘...",delete:"ì‚­ì œ",close:"ë‹«ê¸°",cancel:"ì·¨ì†Œ",insert:"ì‚½ì…",noResult:"ê²°ê³¼ ì—†ìŒ",default:"ê¸°ë³¸",auto:"ìë™",title:"ì œëª©",paragraph:"ë³¸ë¬¸",link:"ë§í¬",alignLeft:"ì™¼ìª½ ì •ë ¬",alignCenter:"ê°€ìš´ë° ì •ë ¬",alignRight:"ì˜¤ë¥¸ìª½ ì •ë ¬",alignJustify:"ì–‘ìª½ ì •ë ¬",unorderedList:"ë¦¬ìŠ¤íŠ¸",numberList:"ìˆ«ì ë¦¬ìŠ¤íŠ¸",codeBlock:"ì½”ë“œ ë¸”ë¡",mathBlock:"ìˆ˜ì‹ ë¸”ë¡",table:"í…Œì´ë¸”",image:"ì´ë¯¸ì§€",iframe:"iframe",youtube:"ìœ íŠœë¸Œ",blockquote:"ì¸ìš©êµ¬",title1Info:"í° ì œëª©",title2Info:"ì¢€ ë” ì‘ì€ ì œëª©",title3Info:"ì ë‹¹íˆ í° ì œëª©",unorderedListInfo:"ìˆœì„œ ì—†ëŠ” ë¦¬ìŠ¤íŠ¸",numberListInfo:"1, 2, 3, 4",codeBlockInfo:"í•˜ì´ë¼ì´íŒ…ë˜ëŠ” ì½”ë“œ ë¸”ë¡",mathBlockInfo:"ê°€ìš´ë°ë¡œ ì •ë ¬ë˜ëŠ” ìˆ˜ì‹ ë¸”ë¡",tableInfo:"í‘œ ì‚½ì…",imageInfo:"ì´ë¯¸ì§€",iframeInfo:"ë‹¤ë¥¸ ì›¹ì‚¬ì´íŠ¸ ì‚½ì…",youtubeInfo:"Youtube ë™ì˜ìƒ ì‚½ì…",blockquoteInfo:"ìˆì–´ë³´ì´ëŠ” ì¸ìš©êµ¬ ì‚½ì…",newLineInfo:"/ë¡œ ëª…ë ¹ì–´ ì…ë ¥. ë˜ëŠ”",placeholder:"ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”...",insertCode:"ì½”ë“œ ì‚½ì…"},Fa=[as,ax],to=Symbol("tiptap-i18n"),$r=n=>(n??"").trim().replace(/_/g,"-").toLowerCase(),qf=(n,e)=>{const t=$r(e);if(!t)return null;const r=n.find(s=>s.target.some(o=>$r(o)===t));if(r)return r;const i=t.split("-")[0];return i?n.find(s=>$r(s.lang)===i)??n.find(s=>s.target.some(o=>$r(o).split("-")[0]===i))??null:null};function Gu(n=Fa,e){return e?qf(n,e)??as:typeof navigator>"u"?as:qf(n,navigator.language)??as}const kp=n=>!n||typeof n=="string"&&$r(n)==="auto"?Gu():typeof n=="string"?Gu(Fa,n):n,Cp=(n,e)=>{let t=n;for(const r of e){if(t&&typeof t=="object"&&r in t){t=t[r];continue}t="";break}return typeof t=="string"?t:""};function lx(n,...e){return Cp(kp(n),e)}let Rr=Gu();const Wt=((...n)=>Cp(Rr,n));function ja(n){return Rr=kp(n),Wt.locale=Rr,Wt.localeLangCountry=`${Wt("lang")}-${Wt("country")}`,Rr}Wt.locales=Fa;Wt.getLocale=()=>Rr;Wt.setLocale=ja;ja(Rr);typeof window<"u"&&(window.__me_i18n=Wt);const Xi={label:{h:"hue channel",s:"saturation channel",v:"brightness channel",r:"red channel",g:"green channel",b:"blue channel",a:"alpha channel",hex:"hex color",withoutColor:"without color"},color:{rgb:"rgb",hsv:"hsv",hex:"hex"},changeTo:"change to ",swatch:{ariaTitle:"saved colors",ariaLabel:n=>`select color: ${n}`}},Tp="a[href], area[href], input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]";function cx(n){return function(e){if(e.target===window)return;const t=e.target;if(!n.contains(t))return;const r=n.querySelectorAll(Tp),i=r[0],s=r[r.length-1];function o(a){return a.code==="Tab"&&!a.shiftKey}function u(a){return a.code==="Tab"&&a.shiftKey}o(e)&&e.target===s?(e.preventDefault(),i.focus()):u(e)&&e.target===i&&(e.preventDefault(),s.focus())}}const fx=n=>{const e=n.querySelector(Tp);e&&e.focus();const t=cx(n);return document.addEventListener("keydown",t),{destroy(){document.removeEventListener("keydown",t)}}};var dx={grad:.9,turn:360,rad:360/(2*Math.PI)},dn=function(n){return typeof n=="string"?n.length>0:typeof n=="number"},Je=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t+0},Ot=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n>e?n:e},Ep=function(n){return(n=isFinite(n)?n%360:0)>0?n:n+360},zf=function(n){return{r:Ot(n.r,0,255),g:Ot(n.g,0,255),b:Ot(n.b,0,255),a:Ot(n.a)}},hu=function(n){return{r:Je(n.r),g:Je(n.g),b:Je(n.b),a:Je(n.a,3)}},hx=/^#([0-9a-f]{3,8})$/i,Yi=function(n){var e=n.toString(16);return e.length<2?"0"+e:e},Op=function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=Math.max(e,t,r),o=s-Math.min(e,t,r),u=o?s===e?(t-r)/o:s===t?2+(r-e)/o:4+(e-t)/o:0;return{h:60*(u<0?u+6:u),s:s?o/s*100:0,v:s/255*100,a:i}},Ap=function(n){var e=n.h,t=n.s,r=n.v,i=n.a;e=e/360*6,t/=100,r/=100;var s=Math.floor(e),o=r*(1-t),u=r*(1-(e-s)*t),a=r*(1-(1-e+s)*t),l=s%6;return{r:255*[r,u,o,o,a,r][l],g:255*[a,r,r,u,o,o][l],b:255*[o,o,a,r,r,u][l],a:i}},Ff=function(n){return{h:Ep(n.h),s:Ot(n.s,0,100),l:Ot(n.l,0,100),a:Ot(n.a)}},jf=function(n){return{h:Je(n.h),s:Je(n.s),l:Je(n.l),a:Je(n.a,3)}},Vf=function(n){return Ap((t=(e=n).s,{h:e.h,s:(t*=((r=e.l)<50?r:100-r)/100)>0?2*t/(r+t)*100:0,v:r+t,a:e.a}));var e,t,r},oi=function(n){return{h:(e=Op(n)).h,s:(i=(200-(t=e.s))*(r=e.v)/100)>0&&i<200?t*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,t,r,i},px=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,mx=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,gx=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,bx=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Hf={string:[[function(n){var e=hx.exec(n);return e?(n=e[1]).length<=4?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?Je(parseInt(n[3]+n[3],16)/255,2):1}:n.length===6||n.length===8?{r:parseInt(n.substr(0,2),16),g:parseInt(n.substr(2,2),16),b:parseInt(n.substr(4,2),16),a:n.length===8?Je(parseInt(n.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(n){var e=gx.exec(n)||bx.exec(n);return e?e[2]!==e[4]||e[4]!==e[6]?null:zf({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(n){var e=px.exec(n)||mx.exec(n);if(!e)return null;var t,r,i=Ff({h:(t=e[1],r=e[2],r===void 0&&(r="deg"),Number(t)*(dx[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return Vf(i)},"hsl"]],object:[[function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=i===void 0?1:i;return dn(e)&&dn(t)&&dn(r)?zf({r:Number(e),g:Number(t),b:Number(r),a:Number(s)}):null},"rgb"],[function(n){var e=n.h,t=n.s,r=n.l,i=n.a,s=i===void 0?1:i;if(!dn(e)||!dn(t)||!dn(r))return null;var o=Ff({h:Number(e),s:Number(t),l:Number(r),a:Number(s)});return Vf(o)},"hsl"],[function(n){var e=n.h,t=n.s,r=n.v,i=n.a,s=i===void 0?1:i;if(!dn(e)||!dn(t)||!dn(r))return null;var o=(function(u){return{h:Ep(u.h),s:Ot(u.s,0,100),v:Ot(u.v,0,100),a:Ot(u.a)}})({h:Number(e),s:Number(t),v:Number(r),a:Number(s)});return Ap(o)},"hsv"]]},Uf=function(n,e){for(var t=0;t<e.length;t++){var r=e[t][0](n);if(r)return[r,e[t][1]]}return[null,void 0]},yx=function(n){return typeof n=="string"?Uf(n.trim(),Hf.string):typeof n=="object"&&n!==null?Uf(n,Hf.object):[null,void 0]},pu=function(n,e){var t=oi(n);return{h:t.h,s:Ot(t.s+100*e,0,100),l:t.l,a:t.a}},mu=function(n){return(299*n.r+587*n.g+114*n.b)/1e3/255},Wf=function(n,e){var t=oi(n);return{h:t.h,s:t.s,l:Ot(t.l+100*e,0,100),a:t.a}},Jf=(function(){function n(e){this.parsed=yx(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return n.prototype.isValid=function(){return this.parsed!==null},n.prototype.brightness=function(){return Je(mu(this.rgba),2)},n.prototype.isDark=function(){return mu(this.rgba)<.5},n.prototype.isLight=function(){return mu(this.rgba)>=.5},n.prototype.toHex=function(){return e=hu(this.rgba),t=e.r,r=e.g,i=e.b,o=(s=e.a)<1?Yi(Je(255*s)):"","#"+Yi(t)+Yi(r)+Yi(i)+o;var e,t,r,i,s,o},n.prototype.toRgb=function(){return hu(this.rgba)},n.prototype.toRgbString=function(){return e=hu(this.rgba),t=e.r,r=e.g,i=e.b,(s=e.a)<1?"rgba("+t+", "+r+", "+i+", "+s+")":"rgb("+t+", "+r+", "+i+")";var e,t,r,i,s},n.prototype.toHsl=function(){return jf(oi(this.rgba))},n.prototype.toHslString=function(){return e=jf(oi(this.rgba)),t=e.h,r=e.s,i=e.l,(s=e.a)<1?"hsla("+t+", "+r+"%, "+i+"%, "+s+")":"hsl("+t+", "+r+"%, "+i+"%)";var e,t,r,i,s},n.prototype.toHsv=function(){return e=Op(this.rgba),{h:Je(e.h),s:Je(e.s),v:Je(e.v),a:Je(e.a,3)};var e},n.prototype.invert=function(){return ct({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},n.prototype.saturate=function(e){return e===void 0&&(e=.1),ct(pu(this.rgba,e))},n.prototype.desaturate=function(e){return e===void 0&&(e=.1),ct(pu(this.rgba,-e))},n.prototype.grayscale=function(){return ct(pu(this.rgba,-1))},n.prototype.lighten=function(e){return e===void 0&&(e=.1),ct(Wf(this.rgba,e))},n.prototype.darken=function(e){return e===void 0&&(e=.1),ct(Wf(this.rgba,-e))},n.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},n.prototype.alpha=function(e){return typeof e=="number"?ct({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):Je(this.rgba.a,3);var t},n.prototype.hue=function(e){var t=oi(this.rgba);return typeof e=="number"?ct({h:e,s:t.s,l:t.l,a:t.a}):Je(t.h)},n.prototype.isEqual=function(e){return this.toHex()===ct(e).toHex()},n})(),ct=function(n){return n instanceof Jf?n:new Jf(n)},vx=Z('<input type="hidden"/>'),xx=Z('<div role="slider" tabindex="0"><div class="track svelte-c9ckq9"></div> <div class="thumb svelte-c9ckq9"></div></div> <!>',1);function Ms(n,e){rt(e,!0);let t=U(e,"min",3,0),r=U(e,"max",3,100),i=U(e,"step",3,1),s=U(e,"value",15,50),o=U(e,"ariaValueText",3,D=>D.toString()),u=U(e,"direction",3,"horizontal"),a=U(e,"reverse",3,!1),l=U(e,"keyboardOnly",3,!1),c=U(e,"slider",7),h=U(e,"isDragging",7,!1);const f=X(()=>typeof t()=="string"?parseFloat(t()):t()),d=X(()=>typeof r()=="string"?parseFloat(r()):r()),p=X(()=>typeof i()=="string"?parseFloat(i()):i());function g(D){const M=1/C(p),q=Math.round(D*M)/M;return Math.max(C(f),Math.min(C(d),q))}function b(D){const M=D.shiftKey?C(p)*10:C(p);D.key==="ArrowUp"||D.key==="ArrowRight"?(s(s()+M),D.preventDefault()):D.key==="ArrowDown"||D.key==="ArrowLeft"?(s(s()-M),D.preventDefault()):D.key==="Home"?(s(C(f)),D.preventDefault()):D.key==="End"?(s(C(d)),D.preventDefault()):D.key==="PageUp"?(s(s()+C(p)*10),D.preventDefault()):D.key==="PageDown"&&(s(s()-C(p)*10),D.preventDefault()),s(g(s())),e.onInput?.(s())}const m={horizontal:{clientSize:"clientWidth",offset:"left",client:"clientX"},vertical:{clientSize:"clientHeight",offset:"top",client:"clientY"}};function w(D){const M=c()?.[m[u()].clientSize]||120,q=c()?.getBoundingClientRect()[m[u()].offset]||0;let j=D[m[u()].client]-q;u()==="vertical"&&(j=-1*j+M),a()?s(C(d)-j/M*(C(d)-C(f))):s(j/M*(C(d)-C(f))+C(f)),s(g(s())),e.onInput?.(s())}function x(D){w(D),h(!0)}function y(D){h()&&w(D)}function v(){h(!1)}function S(D){D.preventDefault(),w({clientX:D.changedTouches[0].clientX,clientY:D.changedTouches[0].clientY})}const k=X(()=>((s()-C(f))/(C(d)-C(f))*1).toFixed(4));var E=xx();er("mousemove",nr,y),er("mouseup",nr,v);var O=Te(E);let N,T;At(O,D=>c(D),()=>c());var A=H(O,2);{var R=D=>{var M=vx();Ct(M),ve(()=>{Le(M,"name",e.name),Vt(M,s())}),V(D,M)};xe(A,D=>{e.name&&D(R)})}ve(D=>{N=qn(O,1,"slider svelte-c9ckq9",null,N,{reverse:a()}),Le(O,"aria-orientation",u()),Le(O,"aria-valuemax",C(d)),Le(O,"aria-valuemin",C(f)),Le(O,"aria-valuenow",s()),Le(O,"aria-valuetext",D),Le(O,"aria-label",e.ariaLabel),Le(O,"aria-labelledby",e.ariaLabelledBy),Le(O,"aria-controls",e.ariaControls),T=Mt(O,"",T,{"--position":C(k)})},[()=>o()(s())]),De("keydown",O,b),De("mousedown",O,function(...D){(l()?void 0:x)?.apply(this,D)}),De("touchstart",O,function(...D){(l()?void 0:S)?.apply(this,D)}),De("touchmove",O,function(...D){(l()?void 0:S)?.apply(this,D)}),De("touchend",O,function(...D){(l()?void 0:S)?.apply(this,D)}),V(n,E),it()}wn(["keydown","mousedown","touchstart","touchmove","touchend"]);var wx=Z('<div class="picker svelte-1rj9lcl"><!> <div class="s svelte-1rj9lcl"><!></div> <div class="v svelte-1rj9lcl"><!></div></div>');function Sx(n,e){rt(e,!0);let t=U(e,"s",15),r=U(e,"v",15),i=qe(void 0),s=!1,o=qe(mn({x:100,y:0})),u=X(()=>ct({h:e.h,s:100,v:100,a:1}).toHex());function a(E,O,N){return Math.min(Math.max(O,E),N)}function l(E){if(!C(i))return;const{width:O,left:N,height:T,top:A}=C(i).getBoundingClientRect(),R={x:a(E.clientX-N,0,O),y:a(E.clientY-A,0,T)};t(a(R.x/O,0,1)*100),r(a((T-R.y)/T,0,1)*100),p()}function c(E){E.preventDefault(),E.button===0&&(s=!0,l(E))}function h(){s=!1}function f(E){s&&l(E)}function d(E){E.preventDefault(),l(E.changedTouches[0])}et(()=>{typeof t()=="number"&&typeof r()=="number"&&C(i)&&le(o,{x:t(),y:100-r()},!0)});function p(E={}){e.onInput({s:t(),v:r(),...E})}var g=wx();er("mouseup",nr,h),er("mousemove",nr,f);let b;var m=te(g);kr(m,()=>e.components.pickerIndicator,(E,O)=>{O(E,{get pos(){return C(o)},get isDark(){return e.isDark}})});var w=H(m,2);let x;var y=te(w);Ms(y,{get value(){return t()},onInput:E=>p({s:E}),keyboardOnly:!0,ariaValueText:E=>`${E}%`,get ariaLabel(){return e.texts.label.s}}),ee(w);var v=H(w,2);let S;var k=te(v);Ms(k,{get value(){return r()},onInput:E=>p({v:E}),keyboardOnly:!0,ariaValueText:E=>`${E}%`,direction:"vertical",get ariaLabel(){return e.texts.label.v}}),ee(v),ee(g),At(g,E=>le(i,E),()=>C(i)),ve(()=>{b=Mt(g,"",b,{"--picker-color-bg":C(u)}),x=Mt(w,"",x,{"--pos-y":C(o).y}),S=Mt(v,"",S,{"--pos-x":C(o).x})}),De("mousedown",g,c),De("touchstart",g,d),De("touchmove",g,d),De("touchend",g,d),V(n,g),it()}wn(["mousedown","touchstart","touchmove","touchend"]);var kx=Z('<label class="svelte-ax4guv"><div class="container svelte-ax4guv"><input type="color" aria-haspopup="dialog" class="svelte-ax4guv"/> <div class="alpha svelte-ax4guv"></div> <div class="color svelte-ax4guv"></div></div> </label>');function Cx(n,e){rt(e,!0);let t=U(e,"labelElement",15),r=U(e,"name",3,void 0);function i(h){h.preventDefault()}var s=kx(),o=te(s),u=te(o);Ct(u);var a=H(u,4);let l;ee(o);var c=H(o);ee(s),At(s,h=>t(h),()=>t()),ve(()=>{Le(s,"dir",e.dir),Le(u,"name",r()),Vt(u,e.hex),l=Mt(a,"",l,{background:e.hex}),Ge(c,` ${e.label??""}`),s.dir=s.dir}),De("click",s,i),De("mousedown",s,i),De("click",u,i),De("mousedown",u,i),V(n,s),it()}wn(["click","mousedown"]);var Tx=Z('<label class="nullability-checkbox svelte-fzqevz"><div class="svelte-fzqevz"><input type="checkbox" class="svelte-fzqevz"/> <span class="svelte-fzqevz"></span></div> </label>');function Ex(n,e){rt(e,!0);let t=U(e,"isUndefined",15);var r=Tx(),i=te(r),s=te(i);Ct(s),tr(2),ee(i);var o=H(i);ee(r),ve(()=>Ge(o,` ${e.texts.label.withoutColor??""}`)),jp(s,t),V(n,r),it()}var Ox=Z('<div class="picker-indicator svelte-17erujy"></div>');function Ax(n,e){rt(e,!0);var t=Ox();let r;ve(()=>r=Mt(t,"",r,{"--pos-x":e.pos.x,"--pos-y":e.pos.y})),V(n,t),it()}var Mx=Z('<button type="button" class="swatch svelte-181l3s7"></button>'),Nx=Z('<div class="swatches svelte-181l3s7"></div>');function Dx(n,e){rt(e,!0);var t=tt(),r=Te(t);{var i=s=>{var o=Nx();Nr(o,20,()=>e.swatches,u=>u,(u,a)=>{var l=Mx();ve(c=>{Mt(l,`background: ${a??""}`),Le(l,"aria-label",c)},[()=>e.texts.swatch.ariaLabel(a)]),De("click",l,()=>e.selectSwatch(a)),V(u,l)}),ee(o),ve(()=>Le(o,"aria-label",e.texts.swatch.ariaTitle)),V(s,o)};xe(r,s=>{e.swatches&&s(i)})}V(n,t),it()}wn(["click"]);var Ix=Z('<input class="svelte-1v0oxs0"/>'),Rx=Z('<input type="number" min="0" max="255" class="svelte-1v0oxs0"/> <input type="number" min="0" max="255" class="svelte-1v0oxs0"/> <input type="number" min="0" max="255" class="svelte-1v0oxs0"/>',1),Px=Z('<input type="number" min="0" max="360" class="svelte-1v0oxs0"/> <input type="number" min="0" max="100" class="svelte-1v0oxs0"/> <input type="number" min="0" max="100" class="svelte-1v0oxs0"/>',1),_x=Z('<input type="number" min="0" max="1" step="0.01" class="svelte-1v0oxs0"/>'),Lx=Z('<button type="button" class="svelte-1v0oxs0"><span class="disappear svelte-1v0oxs0" aria-hidden="true"> </span> <span class="appear svelte-1v0oxs0"> </span></button>'),Bx=Z('<div class="button-like svelte-1v0oxs0"> </div>'),qx=Z('<div class="text-input svelte-1v0oxs0"><div class="input-container svelte-1v0oxs0"><!> <!></div> <!></div>');function zx(n,e){rt(e,!0);let t=U(e,"rgb",15),r=U(e,"hsv",15),i=U(e,"hex",15);const s=/^#?([A-F0-9]{6}|[A-F0-9]{8})$/i;let o=X(()=>e.textInputModes[0]||"hex"),u=X(()=>e.textInputModes[(e.textInputModes.indexOf(C(o))+1)%e.textInputModes.length]),a=X(()=>Math.round(r().h)),l=X(()=>Math.round(r().s)),c=X(()=>Math.round(r().v)),h=X(()=>r().a===void 0?1:Math.round(r().a*100)/100);function f(N){const T=N.target;s.test(T.value)&&(i(T.value),e.onInput({hex:i()}))}function d(N){return function(T){let A=parseFloat(T.target.value);t({...t(),[N]:isNaN(A)?0:A}),e.onInput({rgb:t()})}}function p(N){return function(T){let A=parseFloat(T.target.value);r({...r(),[N]:isNaN(A)?0:A}),e.onInput({hsv:r()})}}var g=qx(),b=te(g),m=te(b);{var w=N=>{var T=Ix();Ct(T),Mt(T,"",{},{flex:3}),ve(()=>{Le(T,"aria-label",e.texts.label.hex),Vt(T,i())}),De("input",T,f),V(N,T)},x=N=>{var T=Rx(),A=Te(T);Ct(A);var R=X(()=>d("r")),D=H(A,2);Ct(D);var M=X(()=>d("g")),q=H(D,2);Ct(q);var j=X(()=>d("b"));ve(()=>{Le(A,"aria-label",e.texts.label.r),Vt(A,t().r),Le(D,"aria-label",e.texts.label.g),Vt(D,t().g),Le(q,"aria-label",e.texts.label.b),Vt(q,t().b)}),De("input",A,function(...F){C(R)?.apply(this,F)}),De("input",D,function(...F){C(M)?.apply(this,F)}),De("input",q,function(...F){C(j)?.apply(this,F)}),V(N,T)},y=N=>{var T=Px(),A=Te(T);Ct(A);var R=X(()=>p("h")),D=H(A,2);Ct(D);var M=X(()=>p("s")),q=H(D,2);Ct(q);var j=X(()=>p("v"));ve(()=>{Le(A,"aria-label",e.texts.label.h),Vt(A,C(a)),Le(D,"aria-label",e.texts.label.s),Vt(D,C(l)),Le(q,"aria-label",e.texts.label.v),Vt(q,C(c))}),De("input",A,function(...F){C(R)?.apply(this,F)}),De("input",D,function(...F){C(M)?.apply(this,F)}),De("input",q,function(...F){C(j)?.apply(this,F)}),V(N,T)};xe(m,N=>{C(o)==="hex"?N(w):C(o)==="rgb"?N(x,1):N(y,!1)})}var v=H(m,2);{var S=N=>{var T=_x();Ct(T);var A=X(()=>C(o)==="hsv"?p("a"):d("a"));ve(()=>{Le(T,"aria-label",e.texts.label.a),Vt(T,C(h))}),De("input",T,function(...R){C(A)?.apply(this,R)}),V(N,T)};xe(v,N=>{e.isAlpha&&N(S)})}ee(b);var k=H(b,2);{var E=N=>{var T=Lx(),A=te(T),R=te(A,!0);ee(A);var D=H(A,2),M=te(D);ee(D),ee(T),ve(()=>{Ge(R,e.texts.color[C(o)]),Ge(M,`${e.texts.changeTo??""} ${e.texts.color[C(u)]??""}`)}),De("click",T,()=>le(o,C(u))),V(N,T)},O=N=>{var T=Bx(),A=te(T,!0);ee(T),ve(()=>Ge(A,e.texts.color[C(o)])),V(N,T)};xe(k,N=>{e.textInputModes.length>1?N(E):N(O,!1)})}ee(g),V(n,g),it()}wn(["input","click"]);var Fx=Z('<div aria-label="color picker"><!></div>');function jx(n,e){rt(e,!0);let t=U(e,"wrapper",15);var r=Fx();let i;var s=te(r);$u(s,()=>e.children),ee(r),At(r,o=>t(o),()=>t()),ve(()=>{i=qn(r,1,"wrapper svelte-c7eou6",null,i,{"is-open":e.isOpen}),Le(r,"role",e.isDialog?"dialog":void 0)}),V(n,r),it()}var Vx=Z('<input type="hidden"/>'),Hx=Z('<div class="a svelte-tgss6c"><!></div>'),Ux=Z('<!> <!> <div class="h svelte-tgss6c"><!></div> <!> <!> <!> <!>',1),Wx=Z("<span><!> <!></span>");function Jx(n,e){rt(e,!0);let t=U(e,"components",19,()=>({})),r=U(e,"label",3,"Choose a color"),i=U(e,"name",3,void 0),s=U(e,"nullable",3,!1),o=U(e,"rgb",31,()=>mn(s()?null:{r:255,g:0,b:0,a:1})),u=U(e,"hsv",31,()=>mn(s()?null:{h:0,s:100,v:100,a:1})),a=U(e,"hex",31,()=>mn(s()?null:"#ff0000")),l=U(e,"color",15,null),c=U(e,"isDark",15,!1),h=U(e,"isAlpha",3,!0),f=U(e,"isDialog",3,!0),d=U(e,"isOpen",31,()=>!f()),p=U(e,"position",3,"responsive"),g=U(e,"dir",3,"ltr"),b=U(e,"isTextInput",3,!0),m=U(e,"textInputModes",19,()=>["hex","rgb","hsv"]),w=U(e,"sliderDirection",3,"vertical"),x=U(e,"disableCloseClickOutside",3,!1),y=U(e,"a11yColors",19,()=>[{bgHex:"#ffffff"}]),v=U(e,"a11yLevel",3,"AA"),S=U(e,"texts",3,void 0),k=U(e,"a11yTexts",3,void 0),E=qe(mn({r:255,g:0,b:0,a:1})),O=qe(mn({h:0,s:100,v:100,a:1})),N=qe("#ff0000"),T=qe(!1),A=qe(mn(C(T))),R=qe(void 0),D=qe(void 0),M=qe(void 0),q,j=qe(1080),F=qe(720);const _=12,W={pickerIndicator:Ax,textInput:zx,input:Cx,nullabilityCheckbox:Ex,wrapper:jx};function Y(){return{...W,...t()}}function ue(){return{label:{...Xi.label,...S()?.label},color:{...Xi.color,...S()?.color},changeTo:S()?.changeTo??Xi.changeTo,swatch:{...S()?.swatch,...Xi.swatch}}}function J({target:ce}){f()&&(C(D)?.contains(ce)||C(D)?.isSameNode(ce)?d(!d()):d()&&!C(M)?.contains(ce)&&!x()&&d(!1))}function ae({key:ce,target:Se}){!f()||!C(D)||!C(R)||(ce==="Enter"&&C(D).contains(Se)?(d(!d()),setTimeout(()=>{C(M)&&(q=fx(C(M)))})):ce==="Escape"&&d()&&(d(!1),C(R).contains(Se)&&(C(D)?.focus(),q?.destroy())))}function be(ce){a(ce),u(ct(ce).toHsv()),o(ct(ce).toRgb()),le(T,!1),Oe()}function ke(){return!(u()&&o()&&u().h===C(O).h&&u().s===C(O).s&&u().v===C(O).v&&u().a===C(O).a&&o().r===C(E).r&&o().g===C(E).g&&o().b===C(E).b&&o().a===C(E).a&&a()===C(N))}function Oe(){if(C(T)&&!C(A)){le(A,!0),u(null),o(null),a(null),e.onInput?.({color:l(),hsv:u(),rgb:o(),hex:a()});return}else if(C(A)&&!C(T)){le(A,!1),u(Wn(C(O))),o(Wn(C(E))),a(Wn(C(N))),e.onInput?.({color:l(),hsv:u(),rgb:o(),hex:a()});return}else if(!u()&&!o()&&!a()){le(T,le(A,!0),!0),e.onInput?.({color:null,hsv:u(),rgb:o(),hex:a()});return}else if(!ke())return;le(T,!1),u()&&u().a===void 0&&u({...u(),a:1}),C(O).a===void 0&&le(O,{...C(O),a:1},!0),o()&&o().a===void 0&&o({...o(),a:1}),C(E).a===void 0&&le(E,{...C(E),a:1},!0),a()?.substring(7)==="ff"&&a(a().substring(0,7)),C(N)?.substring(7)==="ff"&&le(N,C(N).substring(0,7),!0),u()&&(u().h!==C(O).h||u().s!==C(O).s||u().v!==C(O).v||u().a!==C(O).a||!o()&&!a())?(l(ct(u())),o(l().toRgb()),a(l().toHex())):o()&&(o().r!==C(E).r||o().g!==C(E).g||o().b!==C(E).b||o().a!==C(E).a||!u()&&!a())?(l(ct(o())),a(l().toHex()),u(l().toHsv())):a()&&(a()!==C(N)||!u()&&!o())&&(l(ct(a())),o(l().toRgb()),u(l().toHsv())),l()&&c(l().isDark()),!(!a()||!u()||!o())&&(le(O,Wn(u()),!0),le(E,Wn(o()),!0),le(N,a(),!0),le(A,C(T),!0),e.onInput?.({color:l(),hsv:u(),rgb:o(),hex:a()}))}et(()=>{(u()||o()||a())&&Oe()}),et(()=>{C(T),Oe()});function ze(ce){return Se=>{u()||(le(T,!1),le(A,!1),u(Wn(C(O)))),u({...u(),[ce]:Se})}}function Ve(ce){return Se=>{u()||(le(T,!1),le(A,!1),u(Wn(C(O)))),u({...u(),...Object.fromEntries(ce.map(re=>[re,Se[re]]))})}}async function He(){if(await Yu(),p()==="fixed"||!d()||!f()||!C(D)||!C(M))return;const ce=C(M).getBoundingClientRect(),Se=C(D).getBoundingClientRect();if((p()==="responsive"||p()==="responsive-y")&&(Se.top+ce.height+_>C(F)?C(M).style.top=`-${ce.height+_}px`:C(M).style.top=`${Se.height+_}px`),p()==="responsive"||p()==="responsive-x")if(g()==="rtl"){const re=Se.left+Se.width-ce.width<0;console.log(re,Se.left-ce.width,Se.left,ce.width),re?C(M).style.left="0px":C(M).style.left=`${Se.width-ce.width}px`}else Se.left+ce.width>C(j)?C(M).style.left=`${Se.width-ce.width}px`:C(M).style.left="0px"}et(()=>{C(j)&&C(F)&&d()&&He()});const I=X(Y);var z=Wx();er("mousedown",nr,J),er("keyup",nr,ae),er("scroll",nr,He);var B=te(z);{var ne=ce=>{var Se=tt(),re=Te(Se);kr(re,()=>C(I).input,(ie,Ne)=>{Ne(ie,{get hex(){return a()},get label(){return r()},get name(){return i()},get dir(){return g()},get labelElement(){return C(D)},set labelElement(oe){le(D,oe,!0)}})}),V(ce,Se)},Ae=ce=>{var Se=Vx();Ct(Se),ve(()=>{Vt(Se,a()),Le(Se,"name",i())}),V(ce,Se)};xe(B,ce=>{f()?ce(ne):i()&&ce(Ae,1)})}var Me=H(B,2);kr(Me,()=>C(I).wrapper,(ce,Se)=>{Se(ce,{get isOpen(){return d()},get isDialog(){return f()},get wrapper(){return C(M)},set wrapper(re){le(M,re,!0)},children:(re,ie)=>{var Ne=Ux(),oe=Te(Ne);{var he=K=>{var fe=tt(),pe=Te(fe);{let Ie=X(ue);kr(pe,()=>C(I).nullabilityCheckbox,(Be,st)=>{st(Be,{get texts(){return C(Ie)},get isUndefined(){return C(T)},set isUndefined(Gt){le(T,Gt,!0)}})})}V(K,fe)};xe(oe,K=>{s()&&K(he)})}var Ce=H(oe,2);{let K=X(Y),fe=X(()=>u()?.h??C(O).h),pe=X(()=>u()?.s??C(O).s),Ie=X(()=>u()?.v??C(O).v),Be=X(()=>Ve(["s","v"])),st=X(ue);Sx(Ce,{get components(){return C(K)},get h(){return C(fe)},get s(){return C(pe)},get v(){return C(Ie)},get onInput(){return C(Be)},get isDark(){return c()},get texts(){return C(st)}})}var _e=H(Ce,2),We=te(_e);{let K=X(()=>u()?.h??C(O).h),fe=X(()=>ze("h")),pe=X(()=>w()==="vertical"),Ie=X(()=>ue().label.h);Ms(We,{min:0,max:360,step:1,get value(){return C(K)},get onInput(){return C(fe)},get direction(){return w()},get reverse(){return C(pe)},get ariaLabel(){return C(Ie)}})}ee(_e);var sn=H(_e,2);{var on=K=>{var fe=Hx();let pe;var Ie=te(fe);{let Be=X(()=>u()?.a??C(O).a),st=X(()=>ze("a")),Gt=X(()=>w()==="vertical"),Lt=X(()=>ue().label.a);Ms(Ie,{min:0,max:1,step:.01,get value(){return C(Be)},get onInput(){return C(st)},get direction(){return w()},get reverse(){return C(Gt)},get ariaLabel(){return C(Lt)}})}ee(fe),ve(Be=>pe=Mt(fe,"",pe,Be),[()=>({"--alphaless-color":(a()?a():C(N)).substring(0,7)})]),V(K,fe)};xe(sn,K=>{h()&&K(on)})}var yr=H(sn,2);{var no=K=>{{let fe=X(ue);Dx(K,{get swatches(){return e.swatches},selectSwatch:be,get texts(){return C(fe)}})}};xe(yr,K=>{e.swatches&&e.swatches.length>0&&K(no)})}var Oi=H(yr,2);{var ro=K=>{var fe=tt(),pe=Te(fe);{let Ie=X(()=>a()??C(N)),Be=X(()=>o()??C(E)),st=X(()=>u()??C(O)),Gt=X(ue);kr(pe,()=>C(I).textInput,(Lt,Wr)=>{Wr(Lt,{get hex(){return C(Ie)},get rgb(){return C(Be)},get hsv(){return C(st)},onInput:Bt=>{Bt.hsv?u(Bt.hsv):Bt.rgb?o(Bt.rgb):Bt.hex&&a(Bt.hex)},get isAlpha(){return h()},get textInputModes(){return m()},get texts(){return C(Gt)}})})}V(K,fe)};xe(Oi,K=>{b()&&K(ro)})}var io=H(Oi,2);{var P=K=>{var fe=tt(),pe=Te(fe);{let Ie=X(Y),Be=X(()=>a()||"#00000000");kr(pe,()=>C(I).a11yNotice,(st,Gt)=>{Gt(st,{get components(){return C(Ie)},get a11yColors(){return y()},get hex(){return C(Be)},get a11yTexts(){return k()},get a11yLevel(){return v()}})})}V(K,fe)},$=X(()=>Y().a11yNotice);xe(io,K=>{C($)&&K(P)})}V(re,Ne)},$$slots:{default:!0}})}),ee(z),At(z,ce=>le(R,ce),()=>C(R)),ve(()=>qn(z,1,`color-picker ${w()??""}`,"svelte-tgss6c")),gu("innerWidth",ce=>le(j,ce,!0)),gu("innerHeight",ce=>le(F,ce,!0)),V(n,z),it()}var Gx=Z('<main class="svelte-1koqlr4"><!></main>'),Kx=Z('<div class="link svelte-1koqlr4"><p class="svelte-1koqlr4"><!> </p> <!> <div class="svelte-1koqlr4"><!> <!></div></div>'),Xx=Z("<!> <!> <!> <!> <!> <!>",1),Yx=Z("<!> <!> <!> <!>",1),$x=Z('<div style="margin: -6px;font-size: 0.6em"><!></div>'),Qx=Z("<div><!></div>"),Zx=Z('<span class="pal svelte-1koqlr4"></span>'),e3=Z('<div style="font-size: 0.6em"><div class="colors svelte-1koqlr4"><!> <!> <!></div></div>'),t3=Z("<!> <!>",1),n3=Z("<!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!>",1),r3=Z('<main class="svelte-1koqlr4"><!> <!></main>');function i3(n,e){rt(e,!0);let t=U(e,"colors",19,()=>[]);const r=ar("editor"),i=ar(to),s=(...m)=>i?i(...m):Wt(...m),o=X(()=>r.v);let u=qe(null),a=qe(!1),l=qe(""),c=qe(""),h=qe(!1),f=qe("");et(()=>{r.c,qp(),le(u,C(o)?.state?.selection,!0)}),et(()=>{le(a,Z2(C(u)),!0)}),et(()=>{le(l,C(u)?.from+"-"+C(u)?.to)}),et(()=>{C(o)&&C(l)!==C(c)&&(le(c,C(l),!0),le(h,!1),le(f,C(o).getAttributes("link").href||"",!0))}),et(()=>{const m=C(f);$i(()=>{C(o)&&C(h)&&(C(f)?C(o).chain().setLink({href:m}).run():C(o).getAttributes("link").href&&C(o).chain().unsetLink().run())})});const d=({state:m,from:w,to:x})=>{if(!C(o)?.isEditable)return!1;const{doc:y,selection:v}=m,{empty:S}=v,k=!y.textBetween(w,x).length&&Gs(m.selection);return!(S||k)};var p=tt(),g=Te(p);{var b=m=>{u2(m,{get editor(){return C(o)},updateDelay:50,shouldShow:d,tippyOptions:{moveTransition:"transform 0.2s cubic-bezier(1,.5,0,.85)",animation:"shift-away-subtle",duration:[200,50]},children:(w,x)=>{var y=tt(),v=Te(y);{var S=E=>{var O=Gx(),N=te(O);Zt(N,{get it(){return e.override}}),ee(O),V(E,O)},k=E=>{var O=r3(),N=te(O);{var T=M=>{var q=Kx(),j=te(q),F=te(j);ai(F,{icon:"link"});var _=H(F);ee(j);var W=H(j,2);Qu(W,{placeholder:"url",autofocus:!0,get value(){return C(f)},set value(ae){le(f,ae,!0)}});var Y=H(W,2),ue=te(Y);Tn(ue,{tabindex:0,transparent:!0,small:!0,onclick:()=>{le(f,""),C(o).chain().focus().unsetLink().run(),Yu().then(()=>le(h,!1))},children:(ae,be)=>{tr();var ke=Qr();ve(Oe=>Ge(ke,Oe),[()=>s("delete")]),V(ae,ke)},$$slots:{default:!0}});var J=H(ue,2);Tn(J,{tabindex:0,transparent:!0,small:!0,onclick:()=>le(h,!1),children:(ae,be)=>{tr();var ke=Qr();ve(Oe=>Ge(ke,Oe),[()=>s("close")]),V(ae,ke)},$$slots:{default:!0}}),ee(Y),ee(q),ve(ae=>Ge(_,` ${ae??""}`),[()=>s("link")]),V(M,q)},A=M=>{var q=Xx(),j=Te(q);{var F=be=>{Fe(be,{icon:"cell_merge",handler:()=>C(o).commands.mergeCells()})},_=be=>{Fe(be,{icon:"splitscreen_left",handler:()=>C(o).commands.splitCell()})};xe(j,be=>{C(a).length>1?be(F):be(_,!1)})}var W=H(j,2);Fe(W,{icon:"keyboard_double_arrow_left",handler:()=>C(o).chain().focus().addColumnBefore().run()});var Y=H(W,2);Fe(Y,{icon:"keyboard_double_arrow_right",handler:()=>C(o).chain().focus().addColumnAfter().run()});var ue=H(Y,2);Fe(ue,{icon:"keyboard_double_arrow_up",handler:()=>C(o).chain().focus().addRowBefore().run()});var J=H(ue,2);Fe(J,{icon:"keyboard_double_arrow_down",handler:()=>C(o).chain().focus().addRowAfter().run()});var ae=H(J,2);Fe(ae,{icon:"close",handler:()=>rx({editor:C(o)})}),V(M,q)},R=M=>{var q=n3(),j=Te(q);{var F=I=>{Qi(I,{hover:!0,bl:!0,target:B=>{Pr(B,{size:"1.2em",icon:"format_align_left"})},children:(B,ne)=>{var Ae=$x(),Me=te(Ae);cs(Me,{children:(ce,Se)=>{var re=Yx(),ie=Te(re);{let Ce=X(()=>s("alignLeft")),_e=X(()=>C(o).isActive({textAlign:"left"}));Yt(ie,{icon:"format_align_left",get title(){return C(Ce)},onclick:()=>C(o).chain().focus().setTextAlign("left").run(),get active(){return C(_e)}})}var Ne=H(ie,2);{let Ce=X(()=>s("alignCenter")),_e=X(()=>C(o).isActive({textAlign:"center"}));Yt(Ne,{icon:"format_align_center",get title(){return C(Ce)},onclick:()=>C(o).chain().focus().setTextAlign("center").run(),get active(){return C(_e)}})}var oe=H(Ne,2);{let Ce=X(()=>s("alignRight")),_e=X(()=>C(o).isActive({textAlign:"right"}));Yt(oe,{icon:"format_align_right",get title(){return C(Ce)},onclick:()=>C(o).chain().focus().setTextAlign("right").run(),get active(){return C(_e)}})}var he=H(oe,2);{let Ce=X(()=>s("alignJustify")),_e=X(()=>C(o).isActive({textAlign:"justify"}));Yt(he,{icon:"format_align_justify",get title(){return C(Ce)},onclick:()=>C(o).chain().focus().setTextAlign("justify").run(),get active(){return C(_e)}})}V(ce,re)},$$slots:{default:!0}}),ee(Ae),V(B,Ae)},$$slots:{target:!0,default:!0}})};xe(j,I=>{e.editable&&I(F)})}var _=H(j,2);Fe(_,{icon:"format_bold",prop:"bold"});var W=H(_,2);Fe(W,{icon:"format_italic",prop:"italic"});var Y=H(W,2);Fe(Y,{icon:"format_strikethrough",prop:"strike"});var ue=H(Y,2);Fe(ue,{icon:"format_underlined",prop:"underline"});var J=H(ue,2);Fe(J,{icon:"superscript",prop:"superscript"});var ae=H(J,2);Fe(ae,{icon:"subscript",prop:"subscript"});var be=H(ae,2);Fe(be,{icon:"border_color",prop:"highlight"});var ke=H(be,2);{var Oe=I=>{Fe(I,{icon:"functions",prop:"math_inline",handler:()=>ux(C(o))})};xe(ke,I=>{e.editable&&I(Oe)})}var ze=H(ke,2);Qi(ze,{bl:!0,block:!0,target:z=>{Pr(z,{size:"1.2em",icon:"palette"})},children:(z,B)=>{var ne=e3(),Ae=te(ne),Me=te(Ae);Tn(Me,{small:!0,outlined:!0,onclick:()=>C(o).chain().focus().unsetColor().run(),children:(re,ie)=>{tr();var Ne=Qr();ve(oe=>Ge(Ne,oe),[()=>s("default")]),V(re,Ne)},$$slots:{default:!0}});var ce=H(Me,2);Qi(ce,{bl:!0,remap:!0,block:!0,target:ie=>{Tn(ie,{small:!0,full:!0,outlined:!0,onclick:()=>C(o).chain().focus().unsetColor().run(),children:(Ne,oe)=>{ai(Ne,{icon:"palette"})},$$slots:{default:!0}})},children:(ie,Ne)=>{var oe=Qx(),he=te(oe);Jx(he,{isDialog:!1,onInput:Ce=>{C(o).chain().focus().setColor(Ce.hex).run()}}),ee(oe),De("click",oe,Ce=>Ce.stopPropagation()),De("mousedown",oe,Ce=>Ce.stopPropagation()),V(ie,oe)},$$slots:{target:!0,default:!0}});var Se=H(ce,2);Nr(Se,17,t,Xf,(re,ie)=>{Tn(re,{small:!0,outlined:!0,onclick:()=>C(o).chain().focus().setColor(C(ie)).run(),children:(Ne,oe)=>{var he=Zx();let Ce;ve(()=>Ce=Mt(he,"",Ce,{background:C(ie)})),V(Ne,he)},$$slots:{default:!0}})}),ee(Ae),ee(ne),V(z,ne)},$$slots:{target:!0,default:!0}});var Ve=H(ze,2);{var He=I=>{var z=t3(),B=Te(z);Fe(B,{icon:"code",prop:"code"});var ne=H(B,2);Fe(ne,{icon:"link",prop:"link",handler:()=>le(h,!0)}),V(I,z)};xe(Ve,I=>{e.editable&&I(He)})}V(M,q)};xe(N,M=>{C(h)?M(T):C(a)?M(A,1):M(R,!1)})}var D=H(N,2);Zt(D,{get it(){return e.children}}),ee(O),V(E,O)};xe(v,E=>{e.override?E(S):E(k,!1)})}V(w,y)},$$slots:{default:!0}})};xe(g,m=>{C(o)&&m(b)})}V(n,p),it()}wn(["click","mousedown"]);var s3=Z("<!> <!> <!> <!>",1),o3=Z('<div style="margin: -6px"><!></div>'),u3=Z('<main class="svelte-1xxe6u0"><span class="svelte-1xxe6u0"> </span> <!> <!> <!> <!> <!> <!> <!></main>');function a3(n,e){rt(e,!0);const t=ar("editor"),r=ar(to),i=(...h)=>r?r(...h):Wt(...h),s=X(()=>t.v);function o(){C(s).chain().focus().command(({state:h,tr:f,dispatch:d})=>{const{math_inline:p}=h.schema.nodes;if(!p)return!1;const g=h.selection.$from,b=g.index();if(!g.parent.canReplaceWith(b,b,p))return!1;const m=g.pos,w=p.create({}),x=f.replaceSelectionWith(w);return x.setSelection(se.create(x.doc,m)),d?.(x),!0}).run()}function u(){C(s).chain().focus().setCodeBlock({language:null}).run()}var a=tt(),l=Te(a);{var c=h=>{c2(h,{get editor(){return C(s)},tippyOptions:{animation:"fade",duration:[200,50]},children:(f,d)=>{var p=u3(),g=te(p),b=te(g,!0);ee(g);var m=H(g,2);Qi(m,{bl:!0,hover:!0,style:"width: 160px",target:O=>{Pr(O,{size:"1.2em",icon:"text_fields"})},children:(O,N)=>{var T=o3(),A=te(T);cs(A,{children:(R,D)=>{var M=s3(),q=Te(M);{let W=X(()=>i("title"));Yt(q,{icon:"counter_1",get title(){return`${C(W)??""} 1`},onclick:()=>C(s).commands.setHeading({level:1})})}var j=H(q,2);{let W=X(()=>i("title"));Yt(j,{icon:"counter_2",get title(){return`${C(W)??""} 2`},onclick:()=>C(s).commands.setHeading({level:2})})}var F=H(j,2);{let W=X(()=>i("title"));Yt(F,{icon:"counter_3",get title(){return`${C(W)??""} 3`},onclick:()=>C(s).commands.setHeading({level:3})})}var _=H(F,2);{let W=X(()=>i("paragraph"));Yt(_,{icon:"segment",get title(){return C(W)},onclick:()=>C(s).commands.setParagraph()})}V(R,M)},$$slots:{default:!0}}),ee(T),V(O,T)},$$slots:{target:!0,default:!0}});var w=H(m,2);Fe(w,{icon:"format_bold",prop:"bold"});var x=H(w,2);Fe(x,{icon:"format_italic",prop:"italic"});var y=H(x,2);Fe(y,{icon:"format_strikethrough",prop:"strike"});var v=H(y,2);Fe(v,{icon:"format_underlined",prop:"underline"});var S=H(v,2);Fe(S,{icon:"functions",handler:()=>{o()}});var k=H(S,2);Fe(k,{icon:"code",handler:u}),ee(p),ve(E=>Ge(b,E),[()=>i("newLineInfo")]),De("mousedown",p,()=>setTimeout(()=>C(s).commands.focus())),V(f,p)},$$slots:{default:!0}})};xe(l,h=>{C(s)&&h(c)})}V(n,a),it()}wn(["mousedown"]);const de=mn({visible:!1,items:[],location:{x:0,y:0,height:0},props:{editor:null,range:null},detail:null,selection:null,selectedIndex:0});de.location;function Ku(n){return"list"in n}function Mp(n){return"command"in n}function Va(n=de.items){return n.length?Ku(n[0])?n.flatMap(e=>Ku(e)?e.list:[]):n.filter(Mp):[]}function Ha(n=de.items){return Va(n).length}function mw(n){if(Ha()===0){de.selectedIndex=0;return}de.selectedIndex+=n,ui()}function ui(){const n=Ha();if(n===0){de.selectedIndex=0;return}de.selectedIndex=(de.selectedIndex%n+n)%n}function gw(n){de.items=n,ui()}function bw(n){de.props=n}function yw(n){de.location.x=n.x,de.location.y=n.y,de.location.height=n.height}function vw(n){const e=Va()[n],{editor:t,range:r}=de.props;return!e||!t||!r?!1:(e.command({editor:t,range:r}),!0)}function xw(){de.visible=!1,de.selectedIndex=0}var l3=Z("<div><!></div>"),c3=Z('<div class="section svelte-derkc3"> </div>'),f3=Z("<!> <!>",1),d3=Z('<div class="list svelte-derkc3"><!></div>'),h3=Z('<div class="detail svelte-derkc3"><header class="svelte-derkc3"><!> <div class="title"> </div></header> <!> <footer class="svelte-derkc3"><!> <!></footer></div>'),p3=Z("<div><!></div>"),m3=Z('<div class="section svelte-derkc3"> </div> <div></div>',1),g3=Z('<div class="section svelte-derkc3"> </div>'),b3=Z("<!> <!>",1),y3=Z('<div class="list svelte-derkc3"><!></div>'),v3=Z('<div class="scrim svelte-derkc3"></div> <main class="svelte-derkc3"><!></main>',1);function x3(n,e){rt(e,!0);const t=ar("editor"),r=ar(to),i=(...m)=>r?r(...m):Wt(...m),s=X(()=>t.v);let o=qe(0),u=qe(""),a=qe(void 0),l=qe(null);const c=X(()=>de.items.filter(Mp)),h=X(()=>de.items.filter(Ku));function f(m){if(!m)return;const{editor:w,range:x}=de.props;!w||!x||(m.command({editor:w,range:x}),setTimeout(()=>C(s)?.commands?.focus?.()))}function d(){const m=de.detail;!m||m==="emoji"||(de.selection?.(),m.handler(C(u)))}et(()=>{de.visible&&le(u,"")}),et(()=>{C(a),setTimeout(()=>C(a)?.focus?.(),100)}),et(()=>{if(!de.visible)return;const m=de.detail;if(m&&m!=="emoji")return;const w=de.selectedIndex;Yu().then(()=>{C(l)?.querySelector(`[data-slash-index="${w}"]`)?.scrollIntoView({block:"nearest"})})});var p=tt(),g=Te(p);{var b=m=>{var w=v3(),x=Te(w),y=H(x,2),v=te(y);{var S=O=>{var N=d3(),T=te(N);cs(T,{children:(A,R)=>{var D=f3(),M=Te(D);Nr(M,19,()=>C(c),F=>F.title,(F,_,W)=>{var Y=l3(),ue=te(Y);{let J=X(()=>de.selectedIndex===C(W));Yt(ue,{onclick:()=>f(C(_)),get title(){return C(_).title},get active(){return C(J)}})}ee(Y),ve(()=>Le(Y,"data-slash-index",C(W))),Hn(3,Y,()=>xr,()=>({duration:400,easing:Un})),V(F,Y)});var q=H(M,2);{var j=F=>{var _=c3(),W=te(_,!0);ee(_),ve(Y=>Ge(W,Y),[()=>i("noResult")]),Hn(3,_,()=>xr,()=>({duration:400,easing:Un})),V(F,_)};xe(q,F=>{C(c).length||F(j)})}V(A,D)},$$slots:{default:!0}}),ee(N),V(O,N)},k=O=>{var N=h3(),T=te(N),A=te(T);Pr(A,{icon:"arrow_back",onclick:()=>de.detail=null});var R=H(A,2),D=te(R,!0);ee(R),ee(T);var M=H(T,2);Qu(M,{get placeholder(){return de.detail.placeholder},block:!0,onsubmit:d,get value(){return C(u)},set value(_){le(u,_,!0)},get input(){return C(a)},set input(_){le(a,_,!0)}});var q=H(M,2),j=te(q);Tn(j,{tabindex:0,transparent:!0,small:!0,onclick:()=>{le(u,""),de.detail=null},children:(_,W)=>{tr();var Y=Qr();ve(ue=>Ge(Y,ue),[()=>i("cancel")]),V(_,Y)},$$slots:{default:!0}});var F=H(j,2);Tn(F,{tabindex:0,transparent:!0,small:!0,onclick:d,children:(_,W)=>{tr();var Y=Qr();ve(ue=>Ge(Y,ue),[()=>i("insert")]),V(_,Y)},$$slots:{default:!0}}),ee(q),ee(N),ve(()=>Ge(D,de.detail.title)),V(O,N)},E=O=>{var N=y3(),T=te(N);cs(T,{children:(A,R)=>{var D=b3(),M=Te(D);Nr(M,19,()=>C(h),F=>F.section,(F,_,W)=>{const Y=X(()=>C(h).slice(0,C(W)).reduce((ke,Oe)=>ke+Oe.list.length,0));var ue=m3(),J=Te(ue),ae=te(J,!0);ee(J);var be=H(J,2);Nr(be,23,()=>C(_).list,ke=>ke.title,(ke,Oe,ze)=>{var Ve=p3(),He=te(Ve);{let I=X(()=>C(Oe).subtitle||""),z=X(()=>de.selectedIndex===C(ze)+C(Y));Qf(He,{onmouseenter:()=>de.selectedIndex=C(ze)+C(Y),onclick:()=>f(C(Oe)),get icon(){return C(Oe).icon},get title(){return C(Oe).title},get subtitle(){return C(I)},get active(){return C(z)}})}ee(Ve),ve(()=>Le(Ve,"data-slash-index",C(ze)+C(Y))),Hn(3,Ve,()=>xr,()=>({duration:400,easing:Un})),V(ke,Ve)}),ee(be),ve(()=>Ge(ae,C(_).section)),Hn(3,J,()=>xr,()=>({duration:400,easing:Un})),Hn(3,be,()=>xr,()=>({duration:400,easing:Un})),V(F,ue)});var q=H(M,2);{var j=F=>{var _=g3(),W=te(_,!0);ee(_),ve(Y=>Ge(W,Y),[()=>i("noResult")]),Hn(3,_,()=>xr,()=>({duration:400,easing:Un})),V(F,_)};xe(q,F=>{C(h).length||F(j)})}V(A,D)},$$slots:{default:!0}}),ee(N),V(O,N)};xe(v,O=>{de.detail==="emoji"?O(S):de.detail?O(k,1):O(E,!1)})}ee(y),At(y,O=>le(l,O),()=>C(l)),ve(()=>Mt(y,`left: ${de.location.x??""}px; top: ${de.location.y+de.location.height+384>C(o)?de.location.y-de.location.height-384:de.location.y+de.location.height}px;`)),De("click",x,()=>de.visible=!1),Hn(3,y,()=>Vp,()=>({y:10,duration:200,easing:Un})),V(m,w)};xe(g,m=>{de.visible&&m(b)})}gu("innerHeight",m=>le(o,m,!0)),V(n,p),it()}wn(["click"]);const Xu=async n=>URL.createObjectURL(n),w3="blob:",S3=3e4,k3=n=>n.startsWith(w3),C3=n=>{try{URL.revokeObjectURL(n)}catch{}},Gf=(n,e)=>{if(!k3(e))return;let t=!1;const r=[],i=()=>{t||(t=!0,r.forEach(u=>u()),r.length=0,C3(e))},s=setTimeout(i,S3);r.push(()=>clearTimeout(s));const o=()=>{const u=Array.from(n.dom.querySelectorAll("img")).filter(l=>l.getAttribute("src")===e);if(!u.length)return!1;let a=0;return u.forEach(l=>{if(l.complete)return;a+=1;const c=()=>{l.removeEventListener("load",c),l.removeEventListener("error",c),a-=1,a<=0&&i()};l.addEventListener("load",c),l.addEventListener("error",c),r.push(()=>{l.removeEventListener("load",c),l.removeEventListener("error",c)})}),a<=0&&i(),!0};queueMicrotask(()=>{o()||requestAnimationFrame(()=>{o()})})},ww=()=>new ht({props:{handleDOMEvents:{paste(n,e){const t=window.__image_uploader||Xu,r=Array.from(e.clipboardData?.items||[]),{schema:i}=n.state;return r.forEach(s=>{const o=s.getAsFile();if(s.type.indexOf("image")===0)e.preventDefault(),t&&o&&t(o).then(u=>{const a=i.nodes.image.create({src:u}),l=n.state.tr.replaceSelectionWith(a);n.dispatch(l),Gf(n,u)});else{const u=new FileReader;if(u.onload=a=>{const l=i.nodes.image.create({src:a.target?.result}),c=n.state.tr.replaceSelectionWith(l);n.dispatch(c)},!o)return;u.readAsDataURL(o)}}),!1},drop:(n,e)=>{const t=window.__image_uploader||Xu;if(!(e.dataTransfer&&e.dataTransfer.files&&e.dataTransfer.files.length))return!1;const i=Array.from(e.dataTransfer?.files??[]).filter(u=>/image/i.test(u.type));if(i.length===0)return!1;e.preventDefault();const{schema:s}=n.state,o=n.posAtCoords({left:e.clientX,top:e.clientY});return o?(i.forEach(async u=>{const a=new FileReader;if(t){const l=await t(u),c=s.nodes.image.create({src:l}),h=n.state.tr.insert(o.pos,c);n.dispatch(h),Gf(n,l)}else a.onload=l=>{const c=s.nodes.image.create({src:l.target?.result}),h=n.state.tr.insert(o.pos,c);n.dispatch(h)},a.readAsDataURL(u)}),!0):!1}}}});var T3=Z('<div class="target svelte-1svmfcc"><div class="svelte-1svmfcc"><!></div></div>'),E3=Z("<!> <!>",1),O3=Z('<main><div class="wrapper svelte-1svmfcc"><div class="target svelte-1svmfcc"></div> <!></div> <!> <!></main>');function A3(n,e){rt(e,!0);let t=U(e,"body",15),r=U(e,"editable",3,!1),i=U(e,"mark",3,!1),s=U(e,"ref",15,null),o=U(e,"options",19,()=>({})),u=U(e,"loaded",15,!1),a=U(e,"imageUpload",3,Xu),l=U(e,"style",3,""),c=U(e,"blocks",19,()=>[]),h=U(e,"sanitize",19,()=>({})),f=U(e,"colors",19,()=>["#ef5350","#ec407a","#ff7043","#daca3b","#8bc34a","#2196f3","#3f51b5","#ab47bc"]),d=U(e,"bubble",3,null),p=U(e,"crossorigin",3,"anonymous"),g=U(e,"codeBlockLanguageLabels",19,()=>({}));const b=(..._)=>lx(e.locale,..._),m=_=>nc(_||"",{...h()||{},allowedTags:nc.defaults.allowedTags.concat(["img","math-inline","math-node","iframe","lite-youtube","blockquote","embed","mark","code",...h().allowedTags||[]]),allowedStyles:"*",allowedAttributes:{"*":["style","class"],a:["href","name","target"],img:["src","srcset","alt","title","width","height","loading"],iframe:["src","width","height","frameborder","allowfullscreen"],th:["colwidth","colspan","rowspan"],td:["colwidth","colspan","rowspan"],"lite-youtube":["videoid","params","nocookie","title","provider"],embed:["src","type","frameborder","allowfullscreen"],mark:["style","data-color"],code:["class"],...h().allowedAttributes||[]}}),w=mn({v:null,c:0});Wa("editor",w),Wa(to,b);let x,y=!1,v=qe(!1),S=qe("");et(()=>{ja(e.locale)}),et(()=>{w.v&&w.v.setEditable(r())}),et(()=>{window.__image_uploader=a(),window.__tiptap_blocks=c()}),et(()=>{const _=$i(()=>m(t()));return t(_),le(S,_,!0),le(v,!0),Promise.all([Ga(()=>import("./CZPhHnMZ.js"),__vite__mapDeps([0,1]),import.meta.url),Ga(()=>import("./COnnjzaR.js"),[],import.meta.url)]).then(([{default:W}])=>{if(!$i(()=>C(v)))return;const Y=e.placeholder??b("placeholder");w.v=s(W(x,_,{placeholder:Y,editable:r(),onTransaction:()=>{w.v=s(w.v),w.c++},crossorigin:p(),codeBlockLanguageLabels:g(),...o()})),w.v.on("update",({editor:ue})=>{let J=ue.getHTML(),ae=ue.getJSON().content;Array.isArray(ae)&&ae.length===1&&ae[0].type==="paragraph"&&!ae[0].hasOwnProperty("content")&&(J=null),t(le(S,J,!0))}),u(!0)}),()=>{le(v,!1),$i(()=>w.v?.destroy?.())}}),zp(()=>{if(C(S)===t())return;const _=m(t());t(_),le(S,_,!0),w.v?.commands?.setContent?.(t())});function k(_){return _.defaultPrevented?!0:!de.visible||!Ha()?!1:_.key==="Tab"?(_.preventDefault(),de.selectedIndex+=_.shiftKey?-1:1,ui(),!0):_.key==="ArrowUp"?(_.preventDefault(),de.selectedIndex-=1,ui(),!0):_.key==="ArrowDown"?(_.preventDefault(),de.selectedIndex+=1,ui(),!0):_.key==="Enter"?(_.preventDefault(),E(de.selectedIndex),!0):!1}function E(_){const W=Va()[_],{editor:Y,range:ue}=de.props;!W||!Y||!ue||W.command({editor:Y,range:ue})}var O=O3();let N;var T=te(O),A=te(T);At(A,_=>x=_,()=>x);var R=H(A,2);{var D=_=>{var W=tt(),Y=Te(W);{var ue=ae=>{Zt(ae,{get it(){return e.preloader}})},J=ae=>{var be=T3(),ke=te(be),Oe=te(ke);Hp(Oe,()=>m(t())),ee(ke),ee(be),V(ae,be)};xe(Y,ae=>{e.preloader?ae(ue):ae(J,!1)})}V(_,W)};xe(R,_=>{w.v||_(D)})}ee(T);var M=H(T,2);{var q=_=>{var W=E3(),Y=Te(W);x3(Y,{});var ue=H(Y,2);a3(ue,{}),V(_,W)};xe(M,_=>{r()&&_(q)})}var j=H(M,2);{var F=_=>{i3(_,{get colors(){return f()},get editable(){return r()},get override(){return d()},children:(W,Y)=>{Zt(W,{get it(){return d()}})},$$slots:{default:!0}})};xe(j,_=>{(r()||i())&&_(F)})}ee(O),ve(()=>{Mt(O,l()),N=qn(O,1,"svelte-1svmfcc",null,N,{fullscreen:y,editable:r()})}),De("keydown",A,k),V(n,O),it()}wn(["keydown"]);var M3=Z("<!> <br/> <!> <br/> <!>",1);function Sw(n){let e=Ja(`<h2>Hello, World!</h2><p>This is Simple WYSIWYG editor based on <a target="_blank" rel="noopener noreferrer nofollow" href="https://tiptap.dev">TipTap</a>, and customized by <a target="_blank" rel="noopener noreferrer nofollow" href="https://seorii.page">@seo-rii</a>.</p><p>Click here and type anything!</p><blockquote><p>Or how about drag something, or make a new line and press "/"?</p></blockquote><h2>Get started</h2><pre><code>npm i @seorii/tiptap</code></pre><pre><code>&lt;script lang="ts"&gt;
    import TipTap from "$lib/tiptap/TipTap.svelte";

    let body = "&lt;p&gt;Hello, World!&lt;/p&gt;", editable = true, ref;
&lt;/script&gt;

&lt;TipTap bind:ref bind:body {editable}/&gt;</code></pre><p>That's all!</p>`),t=Ja(!0);var r=M3(),i=Te(r);A3(i,{get editable(){return C(t)},mark:!0,get body(){return C(e)},set body(u){le(e,u)},$$legacy:!0});var s=H(i,4);Up(s,{label:"editable",get checked(){return C(t)},set checked(u){le(t,u)},$$legacy:!0});var o=H(s,4);Qu(o,{placeholder:"html",multiline:!0,get value(){return C(e)},set value(u){le(e,u)},$$legacy:!0}),V(n,r)}export{Y3 as $,Xs as A,lf as B,zn as C,mt as D,St as E,L as F,aw as G,lw as H,Pe as I,E2 as J,ow as K,iw as L,Cs as M,Bu as N,nw as O,ht as P,rw as Q,sw as R,ge as S,me as T,qa as U,uw as V,tw as W,ew as X,Z3 as Y,Q3 as Z,$3 as _,_t as a,Jb as a0,rx as a1,fw as a2,ex as a3,dw as a4,cw as a5,nx as a6,pw as a7,tx as a8,hw as a9,b1 as aa,Ca as ab,vt as ac,Sh as ad,Or as ae,Dh as af,xa as ag,Oh as ah,Th as ai,Aa as aj,X3 as ak,xw as al,mw as am,vw as an,de as ao,bw as ap,gw as aq,yw as ar,Wt as as,Gf as at,Xu as au,as as av,ax as aw,j3 as ax,Ha as ay,Sw as az,je as b,G3 as c,H3 as d,ww as e,q3 as f,r0 as g,ym as h,G as i,se as j,kh as k,we as l,z1 as m,U3 as n,Q as o,bs as p,K3 as q,Zb as r,B3 as s,W3 as t,F3 as u,z3 as v,J3 as w,Wh as x,Xb as y,Ye as z};
